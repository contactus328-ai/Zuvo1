(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function s(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=s(o);fetch(o.href,c)}})();function bm(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}function _m(l){if(Object.prototype.hasOwnProperty.call(l,"__esModule"))return l;var r=l.default;if(typeof r=="function"){var s=function a(){return this instanceof a?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};s.prototype=r.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(l).forEach(function(a){var o=Object.getOwnPropertyDescriptor(l,a);Object.defineProperty(s,a,o.get?o:{enumerable:!0,get:function(){return l[a]}})}),s}var ml={exports:{}},Xs={},pl={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yd;function Sm(){if(yd)return ke;yd=1;var l=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.iterator;function w(C){return C===null||typeof C!="object"?null:(C=_&&C[_]||C["@@iterator"],typeof C=="function"?C:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,E={};function P(C,F,me){this.props=C,this.context=F,this.refs=E,this.updater=me||A}P.prototype.isReactComponent={},P.prototype.setState=function(C,F){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,F,"setState")},P.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function D(){}D.prototype=P.prototype;function R(C,F,me){this.props=C,this.context=F,this.refs=E,this.updater=me||A}var $=R.prototype=new D;$.constructor=R,T($,P.prototype),$.isPureReactComponent=!0;var I=Array.isArray,V=Object.prototype.hasOwnProperty,B={current:null},te={key:!0,ref:!0,__self:!0,__source:!0};function fe(C,F,me){var xe,_e={},Se=null,Ee=null;if(F!=null)for(xe in F.ref!==void 0&&(Ee=F.ref),F.key!==void 0&&(Se=""+F.key),F)V.call(F,xe)&&!te.hasOwnProperty(xe)&&(_e[xe]=F[xe]);var pe=arguments.length-2;if(pe===1)_e.children=me;else if(1<pe){for(var De=Array(pe),Ae=0;Ae<pe;Ae++)De[Ae]=arguments[Ae+2];_e.children=De}if(C&&C.defaultProps)for(xe in pe=C.defaultProps,pe)_e[xe]===void 0&&(_e[xe]=pe[xe]);return{$$typeof:l,type:C,key:Se,ref:Ee,props:_e,_owner:B.current}}function we(C,F){return{$$typeof:l,type:C.type,key:F,ref:C.ref,props:C.props,_owner:C._owner}}function je(C){return typeof C=="object"&&C!==null&&C.$$typeof===l}function Me(C){var F={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(me){return F[me]})}var Ge=/\/+/g;function Le(C,F){return typeof C=="object"&&C!==null&&C.key!=null?Me(""+C.key):F.toString(36)}function be(C,F,me,xe,_e){var Se=typeof C;(Se==="undefined"||Se==="boolean")&&(C=null);var Ee=!1;if(C===null)Ee=!0;else switch(Se){case"string":case"number":Ee=!0;break;case"object":switch(C.$$typeof){case l:case r:Ee=!0}}if(Ee)return Ee=C,_e=_e(Ee),C=xe===""?"."+Le(Ee,0):xe,I(_e)?(me="",C!=null&&(me=C.replace(Ge,"$&/")+"/"),be(_e,F,me,"",function(Ae){return Ae})):_e!=null&&(je(_e)&&(_e=we(_e,me+(!_e.key||Ee&&Ee.key===_e.key?"":(""+_e.key).replace(Ge,"$&/")+"/")+C)),F.push(_e)),1;if(Ee=0,xe=xe===""?".":xe+":",I(C))for(var pe=0;pe<C.length;pe++){Se=C[pe];var De=xe+Le(Se,pe);Ee+=be(Se,F,me,De,_e)}else if(De=w(C),typeof De=="function")for(C=De.call(C),pe=0;!(Se=C.next()).done;)Se=Se.value,De=xe+Le(Se,pe++),Ee+=be(Se,F,me,De,_e);else if(Se==="object")throw F=String(C),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.");return Ee}function nt(C,F,me){if(C==null)return C;var xe=[],_e=0;return be(C,xe,"","",function(Se){return F.call(me,Se,_e++)}),xe}function Te(C){if(C._status===-1){var F=C._result;F=F(),F.then(function(me){(C._status===0||C._status===-1)&&(C._status=1,C._result=me)},function(me){(C._status===0||C._status===-1)&&(C._status=2,C._result=me)}),C._status===-1&&(C._status=0,C._result=F)}if(C._status===1)return C._result.default;throw C._result}var Ne={current:null},J={transition:null},ae={ReactCurrentDispatcher:Ne,ReactCurrentBatchConfig:J,ReactCurrentOwner:B};function Q(){throw Error("act(...) is not supported in production builds of React.")}return ke.Children={map:nt,forEach:function(C,F,me){nt(C,function(){F.apply(this,arguments)},me)},count:function(C){var F=0;return nt(C,function(){F++}),F},toArray:function(C){return nt(C,function(F){return F})||[]},only:function(C){if(!je(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},ke.Component=P,ke.Fragment=s,ke.Profiler=o,ke.PureComponent=R,ke.StrictMode=a,ke.Suspense=g,ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,ke.act=Q,ke.cloneElement=function(C,F,me){if(C==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+C+".");var xe=T({},C.props),_e=C.key,Se=C.ref,Ee=C._owner;if(F!=null){if(F.ref!==void 0&&(Se=F.ref,Ee=B.current),F.key!==void 0&&(_e=""+F.key),C.type&&C.type.defaultProps)var pe=C.type.defaultProps;for(De in F)V.call(F,De)&&!te.hasOwnProperty(De)&&(xe[De]=F[De]===void 0&&pe!==void 0?pe[De]:F[De])}var De=arguments.length-2;if(De===1)xe.children=me;else if(1<De){pe=Array(De);for(var Ae=0;Ae<De;Ae++)pe[Ae]=arguments[Ae+2];xe.children=pe}return{$$typeof:l,type:C.type,key:_e,ref:Se,props:xe,_owner:Ee}},ke.createContext=function(C){return C={$$typeof:h,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},C.Provider={$$typeof:c,_context:C},C.Consumer=C},ke.createElement=fe,ke.createFactory=function(C){var F=fe.bind(null,C);return F.type=C,F},ke.createRef=function(){return{current:null}},ke.forwardRef=function(C){return{$$typeof:m,render:C}},ke.isValidElement=je,ke.lazy=function(C){return{$$typeof:v,_payload:{_status:-1,_result:C},_init:Te}},ke.memo=function(C,F){return{$$typeof:y,type:C,compare:F===void 0?null:F}},ke.startTransition=function(C){var F=J.transition;J.transition={};try{C()}finally{J.transition=F}},ke.unstable_act=Q,ke.useCallback=function(C,F){return Ne.current.useCallback(C,F)},ke.useContext=function(C){return Ne.current.useContext(C)},ke.useDebugValue=function(){},ke.useDeferredValue=function(C){return Ne.current.useDeferredValue(C)},ke.useEffect=function(C,F){return Ne.current.useEffect(C,F)},ke.useId=function(){return Ne.current.useId()},ke.useImperativeHandle=function(C,F,me){return Ne.current.useImperativeHandle(C,F,me)},ke.useInsertionEffect=function(C,F){return Ne.current.useInsertionEffect(C,F)},ke.useLayoutEffect=function(C,F){return Ne.current.useLayoutEffect(C,F)},ke.useMemo=function(C,F){return Ne.current.useMemo(C,F)},ke.useReducer=function(C,F,me){return Ne.current.useReducer(C,F,me)},ke.useRef=function(C){return Ne.current.useRef(C)},ke.useState=function(C){return Ne.current.useState(C)},ke.useSyncExternalStore=function(C,F,me){return Ne.current.useSyncExternalStore(C,F,me)},ke.useTransition=function(){return Ne.current.useTransition()},ke.version="18.3.1",ke}var vd;function zl(){return vd||(vd=1,pl.exports=Sm()),pl.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xd;function km(){if(xd)return Xs;xd=1;var l=zl(),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function h(m,g,y){var v,_={},w=null,A=null;y!==void 0&&(w=""+y),g.key!==void 0&&(w=""+g.key),g.ref!==void 0&&(A=g.ref);for(v in g)a.call(g,v)&&!c.hasOwnProperty(v)&&(_[v]=g[v]);if(m&&m.defaultProps)for(v in g=m.defaultProps,g)_[v]===void 0&&(_[v]=g[v]);return{$$typeof:r,type:m,key:w,ref:A,props:_,_owner:o.current}}return Xs.Fragment=s,Xs.jsx=h,Xs.jsxs=h,Xs}var wd;function jm(){return wd||(wd=1,ml.exports=km()),ml.exports}var u=jm();const Nm="modulepreload",Em=function(l){return"/"+l},bd={},ai=function(r,s,a){let o=Promise.resolve();if(s&&s.length>0){let h=function(y){return Promise.all(y.map(v=>Promise.resolve(v).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),g=m?.nonce||m?.getAttribute("nonce");o=h(s.map(y=>{if(y=Em(y),y in bd)return;bd[y]=!0;const v=y.endsWith(".css"),_=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${_}`))return;const w=document.createElement("link");if(w.rel=v?"stylesheet":Nm,v||(w.as="script"),w.crossOrigin="",w.href=y,g&&w.setAttribute("nonce",g),document.head.appendChild(w),v)return new Promise((A,T)=>{w.addEventListener("load",A),w.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${y}`)))})}))}function c(h){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=h,window.dispatchEvent(m),!m.defaultPrevented)throw h}return o.then(h=>{for(const m of h||[])m.status==="rejected"&&c(m.reason);return r().catch(c)})},Cm=l=>{let r;return l?r=l:typeof fetch>"u"?r=(...s)=>ai(async()=>{const{default:a}=await Promise.resolve().then(()=>us);return{default:a}},void 0).then(({default:a})=>a(...s)):r=fetch,(...s)=>r(...s)};class Bl extends Error{constructor(r,s="FunctionsError",a){super(r),this.name=s,this.context=a}}class _d extends Bl{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class Sd extends Bl{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class kd extends Bl{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var Tl;(function(l){l.Any="any",l.ApNortheast1="ap-northeast-1",l.ApNortheast2="ap-northeast-2",l.ApSouth1="ap-south-1",l.ApSoutheast1="ap-southeast-1",l.ApSoutheast2="ap-southeast-2",l.CaCentral1="ca-central-1",l.EuCentral1="eu-central-1",l.EuWest1="eu-west-1",l.EuWest2="eu-west-2",l.EuWest3="eu-west-3",l.SaEast1="sa-east-1",l.UsEast1="us-east-1",l.UsWest1="us-west-1",l.UsWest2="us-west-2"})(Tl||(Tl={}));var Tm=function(l,r,s,a){function o(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function m(v){try{y(a.next(v))}catch(_){h(_)}}function g(v){try{y(a.throw(v))}catch(_){h(_)}}function y(v){v.done?c(v.value):o(v.value).then(m,g)}y((a=a.apply(l,r||[])).next())})};class Pm{constructor(r,{headers:s={},customFetch:a,region:o=Tl.Any}={}){this.url=r,this.headers=s,this.region=o,this.fetch=Cm(a)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r){return Tm(this,arguments,void 0,function*(s,a={}){var o;try{const{headers:c,method:h,body:m,signal:g}=a;let y={},{region:v}=a;v||(v=this.region);const _=new URL(`${this.url}/${s}`);v&&v!=="any"&&(y["x-region"]=v,_.searchParams.set("forceFunctionRegion",v));let w;m&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)&&(typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",w=m):typeof m=="string"?(y["Content-Type"]="text/plain",w=m):typeof FormData<"u"&&m instanceof FormData?w=m:(y["Content-Type"]="application/json",w=JSON.stringify(m)));const A=yield this.fetch(_.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),c),body:w,signal:g}).catch(D=>{throw D.name==="AbortError"?D:new _d(D)}),T=A.headers.get("x-relay-error");if(T&&T==="true")throw new Sd(A);if(!A.ok)throw new kd(A);let E=((o=A.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),P;return E==="application/json"?P=yield A.json():E==="application/octet-stream"?P=yield A.blob():E==="text/event-stream"?P=A:E==="multipart/form-data"?P=yield A.formData():P=yield A.text(),{data:P,error:null,response:A}}catch(c){return c instanceof Error&&c.name==="AbortError"?{data:null,error:new _d(c)}:{data:null,error:c,response:c instanceof kd||c instanceof Sd?c.context:void 0}}})}}var ut={},Jn={},Yn={},Qn={},Xn={},Zn={},Om=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},cs=Om();const Dm=cs.fetch,ch=cs.fetch.bind(cs),uh=cs.Headers,Am=cs.Request,Rm=cs.Response,us=Object.freeze(Object.defineProperty({__proto__:null,Headers:uh,Request:Am,Response:Rm,default:ch,fetch:Dm},Symbol.toStringTag,{value:"Module"})),Im=_m(us);var ya={},jd;function dh(){if(jd)return ya;jd=1,Object.defineProperty(ya,"__esModule",{value:!0});class l extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return ya.default=l,ya}var Nd;function hh(){if(Nd)return Zn;Nd=1;var l=Zn&&Zn.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Zn,"__esModule",{value:!0});const r=l(Im),s=l(dh());class a{constructor(c){var h,m;this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=new Headers(c.headers),this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=(h=c.shouldThrowOnError)!==null&&h!==void 0?h:!1,this.signal=c.signal,this.isMaybeSingle=(m=c.isMaybeSingle)!==null&&m!==void 0?m:!1,c.fetch?this.fetch=c.fetch:typeof fetch>"u"?this.fetch=r.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,h){return this.headers=new Headers(this.headers),this.headers.set(c,h),this}then(c,h){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const m=this.fetch;let g=m(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async y=>{var v,_,w,A;let T=null,E=null,P=null,D=y.status,R=y.statusText;if(y.ok){if(this.method!=="HEAD"){const B=await y.text();B===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((v=this.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?E=B:E=JSON.parse(B))}const I=(_=this.headers.get("Prefer"))===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),V=(w=y.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");I&&V&&V.length>1&&(P=parseInt(V[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(T={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,P=null,D=406,R="Not Acceptable"):E.length===1?E=E[0]:E=null)}else{const I=await y.text();try{T=JSON.parse(I),Array.isArray(T)&&y.status===404&&(E=[],T=null,D=200,R="OK")}catch{y.status===404&&I===""?(D=204,R="No Content"):T={message:I}}if(T&&this.isMaybeSingle&&(!((A=T?.details)===null||A===void 0)&&A.includes("0 rows"))&&(T=null,D=200,R="OK"),T&&this.shouldThrowOnError)throw new s.default(T)}return{error:T,data:E,count:P,status:D,statusText:R}});return this.shouldThrowOnError||(g=g.catch(y=>{var v,_,w;return{error:{message:`${(v=y?.name)!==null&&v!==void 0?v:"FetchError"}: ${y?.message}`,details:`${(_=y?.stack)!==null&&_!==void 0?_:""}`,hint:"",code:`${(w=y?.code)!==null&&w!==void 0?w:""}`},data:null,count:null,status:0,statusText:""}})),g.then(c,h)}returns(){return this}overrideTypes(){return this}}return Zn.default=a,Zn}var Ed;function fh(){if(Ed)return Xn;Ed=1;var l=Xn&&Xn.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Xn,"__esModule",{value:!0});const r=l(hh());class s extends r.default{select(o){let c=!1;const h=(o??"*").split("").map(m=>/\s/.test(m)&&!c?"":(m==='"'&&(c=!c),m)).join("");return this.url.searchParams.set("select",h),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:c=!0,nullsFirst:h,foreignTable:m,referencedTable:g=m}={}){const y=g?`${g}.order`:"order",v=this.url.searchParams.get(y);return this.url.searchParams.set(y,`${v?`${v},`:""}${o}.${c?"asc":"desc"}${h===void 0?"":h?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:c,referencedTable:h=c}={}){const m=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(m,`${o}`),this}range(o,c,{foreignTable:h,referencedTable:m=h}={}){const g=typeof m>"u"?"offset":`${m}.offset`,y=typeof m>"u"?"limit":`${m}.limit`;return this.url.searchParams.set(g,`${o}`),this.url.searchParams.set(y,`${c-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:c=!1,settings:h=!1,buffers:m=!1,wal:g=!1,format:y="text"}={}){var v;const _=[o?"analyze":null,c?"verbose":null,h?"settings":null,m?"buffers":null,g?"wal":null].filter(Boolean).join("|"),w=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${y}; for="${w}"; options=${_};`),y==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return Xn.default=s,Xn}var Cd;function Hl(){if(Cd)return Qn;Cd=1;var l=Qn&&Qn.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Qn,"__esModule",{value:!0});const r=l(fh());class s extends r.default{eq(o,c){return this.url.searchParams.append(o,`eq.${c}`),this}neq(o,c){return this.url.searchParams.append(o,`neq.${c}`),this}gt(o,c){return this.url.searchParams.append(o,`gt.${c}`),this}gte(o,c){return this.url.searchParams.append(o,`gte.${c}`),this}lt(o,c){return this.url.searchParams.append(o,`lt.${c}`),this}lte(o,c){return this.url.searchParams.append(o,`lte.${c}`),this}like(o,c){return this.url.searchParams.append(o,`like.${c}`),this}likeAllOf(o,c){return this.url.searchParams.append(o,`like(all).{${c.join(",")}}`),this}likeAnyOf(o,c){return this.url.searchParams.append(o,`like(any).{${c.join(",")}}`),this}ilike(o,c){return this.url.searchParams.append(o,`ilike.${c}`),this}ilikeAllOf(o,c){return this.url.searchParams.append(o,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(o,c){return this.url.searchParams.append(o,`ilike(any).{${c.join(",")}}`),this}is(o,c){return this.url.searchParams.append(o,`is.${c}`),this}in(o,c){const h=Array.from(new Set(c)).map(m=>typeof m=="string"&&new RegExp("[,()]").test(m)?`"${m}"`:`${m}`).join(",");return this.url.searchParams.append(o,`in.(${h})`),this}contains(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cs.{${c.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(c)}`),this}containedBy(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cd.{${c.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(c)}`),this}rangeGt(o,c){return this.url.searchParams.append(o,`sr.${c}`),this}rangeGte(o,c){return this.url.searchParams.append(o,`nxl.${c}`),this}rangeLt(o,c){return this.url.searchParams.append(o,`sl.${c}`),this}rangeLte(o,c){return this.url.searchParams.append(o,`nxr.${c}`),this}rangeAdjacent(o,c){return this.url.searchParams.append(o,`adj.${c}`),this}overlaps(o,c){return typeof c=="string"?this.url.searchParams.append(o,`ov.${c}`):this.url.searchParams.append(o,`ov.{${c.join(",")}}`),this}textSearch(o,c,{config:h,type:m}={}){let g="";m==="plain"?g="pl":m==="phrase"?g="ph":m==="websearch"&&(g="w");const y=h===void 0?"":`(${h})`;return this.url.searchParams.append(o,`${g}fts${y}.${c}`),this}match(o){return Object.entries(o).forEach(([c,h])=>{this.url.searchParams.append(c,`eq.${h}`)}),this}not(o,c,h){return this.url.searchParams.append(o,`not.${c}.${h}`),this}or(o,{foreignTable:c,referencedTable:h=c}={}){const m=h?`${h}.or`:"or";return this.url.searchParams.append(m,`(${o})`),this}filter(o,c,h){return this.url.searchParams.append(o,`${c}.${h}`),this}}return Qn.default=s,Qn}var Td;function mh(){if(Td)return Yn;Td=1;var l=Yn&&Yn.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Yn,"__esModule",{value:!0});const r=l(Hl());class s{constructor(o,{headers:c={},schema:h,fetch:m}){this.url=o,this.headers=new Headers(c),this.schema=h,this.fetch=m}select(o,c){const{head:h=!1,count:m}=c??{},g=h?"HEAD":"GET";let y=!1;const v=(o??"*").split("").map(_=>/\s/.test(_)&&!y?"":(_==='"'&&(y=!y),_)).join("");return this.url.searchParams.set("select",v),m&&this.headers.append("Prefer",`count=${m}`),new r.default({method:g,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:c,defaultToNull:h=!0}={}){var m;const g="POST";if(c&&this.headers.append("Prefer",`count=${c}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const y=o.reduce((v,_)=>v.concat(Object.keys(_)),[]);if(y.length>0){const v=[...new Set(y)].map(_=>`"${_}"`);this.url.searchParams.set("columns",v.join(","))}}return new r.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}upsert(o,{onConflict:c,ignoreDuplicates:h=!1,count:m,defaultToNull:g=!0}={}){var y;const v="POST";if(this.headers.append("Prefer",`resolution=${h?"ignore":"merge"}-duplicates`),c!==void 0&&this.url.searchParams.set("on_conflict",c),m&&this.headers.append("Prefer",`count=${m}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const _=o.reduce((w,A)=>w.concat(Object.keys(A)),[]);if(_.length>0){const w=[...new Set(_)].map(A=>`"${A}"`);this.url.searchParams.set("columns",w.join(","))}}return new r.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}update(o,{count:c}={}){var h;const m="PATCH";return c&&this.headers.append("Prefer",`count=${c}`),new r.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}delete({count:o}={}){var c;const h="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new r.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return Yn.default=s,Yn}var Pd;function Lm(){if(Pd)return Jn;Pd=1;var l=Jn&&Jn.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Jn,"__esModule",{value:!0});const r=l(mh()),s=l(Hl());class a{constructor(c,{headers:h={},schema:m,fetch:g}={}){this.url=c,this.headers=new Headers(h),this.schemaName=m,this.fetch=g}from(c){const h=new URL(`${this.url}/${c}`);return new r.default(h,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new a(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,h={},{head:m=!1,get:g=!1,count:y}={}){var v;let _;const w=new URL(`${this.url}/rpc/${c}`);let A;m||g?(_=m?"HEAD":"GET",Object.entries(h).filter(([E,P])=>P!==void 0).map(([E,P])=>[E,Array.isArray(P)?`{${P.join(",")}}`:`${P}`]).forEach(([E,P])=>{w.searchParams.append(E,P)})):(_="POST",A=h);const T=new Headers(this.headers);return y&&T.set("Prefer",`count=${y}`),new s.default({method:_,url:w,headers:T,schema:this.schemaName,body:A,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}}return Jn.default=a,Jn}var Od;function $m(){if(Od)return ut;Od=1;var l=ut&&ut.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(ut,"__esModule",{value:!0}),ut.PostgrestError=ut.PostgrestBuilder=ut.PostgrestTransformBuilder=ut.PostgrestFilterBuilder=ut.PostgrestQueryBuilder=ut.PostgrestClient=void 0;const r=l(Lm());ut.PostgrestClient=r.default;const s=l(mh());ut.PostgrestQueryBuilder=s.default;const a=l(Hl());ut.PostgrestFilterBuilder=a.default;const o=l(fh());ut.PostgrestTransformBuilder=o.default;const c=l(hh());ut.PostgrestBuilder=c.default;const h=l(dh());return ut.PostgrestError=h.default,ut.default={PostgrestClient:r.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:c.default,PostgrestError:h.default},ut}var Mm=$m();const Um=bm(Mm),{PostgrestClient:Fm,PostgrestQueryBuilder:dv,PostgrestFilterBuilder:hv,PostgrestTransformBuilder:fv,PostgrestBuilder:mv,PostgrestError:pv}=Um;class zm{static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const a=s.node,o=parseInt(a.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let s=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(s+=`

Suggested solution: ${r.workaround}`),new Error(s)}static createWebSocket(r,s){const a=this.getWebSocketConstructor();return new a(r,s)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const Bm="2.75.1",Hm=`realtime-js/${Bm}`,Wm="1.0.0",Pl=1e4,Vm=1e3,qm=100;var ti;(function(l){l[l.connecting=0]="connecting",l[l.open=1]="open",l[l.closing=2]="closing",l[l.closed=3]="closed"})(ti||(ti={}));var at;(function(l){l.closed="closed",l.errored="errored",l.joined="joined",l.joining="joining",l.leaving="leaving"})(at||(at={}));var ir;(function(l){l.close="phx_close",l.error="phx_error",l.join="phx_join",l.reply="phx_reply",l.leave="phx_leave",l.access_token="access_token"})(ir||(ir={}));var Ol;(function(l){l.websocket="websocket"})(Ol||(Ol={}));var bn;(function(l){l.Connecting="connecting",l.Open="open",l.Closing="closing",l.Closed="closed"})(bn||(bn={}));class Km{constructor(){this.HEADER_LENGTH=1}decode(r,s){return r.constructor===ArrayBuffer?s(this._binaryDecode(r)):s(typeof r=="string"?JSON.parse(r):{})}_binaryDecode(r){const s=new DataView(r),a=new TextDecoder;return this._decodeBroadcast(r,s,a)}_decodeBroadcast(r,s,a){const o=s.getUint8(1),c=s.getUint8(2);let h=this.HEADER_LENGTH+2;const m=a.decode(r.slice(h,h+o));h=h+o;const g=a.decode(r.slice(h,h+c));h=h+c;const y=JSON.parse(a.decode(r.slice(h,r.byteLength)));return{ref:null,topic:m,event:g,payload:y}}}class ph{constructor(r,s){this.callback=r,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ze;(function(l){l.abstime="abstime",l.bool="bool",l.date="date",l.daterange="daterange",l.float4="float4",l.float8="float8",l.int2="int2",l.int4="int4",l.int4range="int4range",l.int8="int8",l.int8range="int8range",l.json="json",l.jsonb="jsonb",l.money="money",l.numeric="numeric",l.oid="oid",l.reltime="reltime",l.text="text",l.time="time",l.timestamp="timestamp",l.timestamptz="timestamptz",l.timetz="timetz",l.tsrange="tsrange",l.tstzrange="tstzrange"})(ze||(ze={}));const Dd=(l,r,s={})=>{var a;const o=(a=s.skipTypes)!==null&&a!==void 0?a:[];return r?Object.keys(r).reduce((c,h)=>(c[h]=Gm(h,l,r,o),c),{}):{}},Gm=(l,r,s,a)=>{const o=r.find(m=>m.name===l),c=o?.type,h=s[l];return c&&!a.includes(c)?gh(c,h):Dl(h)},gh=(l,r)=>{if(l.charAt(0)==="_"){const s=l.slice(1,l.length);return Xm(r,s)}switch(l){case ze.bool:return Jm(r);case ze.float4:case ze.float8:case ze.int2:case ze.int4:case ze.int8:case ze.numeric:case ze.oid:return Ym(r);case ze.json:case ze.jsonb:return Qm(r);case ze.timestamp:return Zm(r);case ze.abstime:case ze.date:case ze.daterange:case ze.int4range:case ze.int8range:case ze.money:case ze.reltime:case ze.text:case ze.time:case ze.timestamptz:case ze.timetz:case ze.tsrange:case ze.tstzrange:return Dl(r);default:return Dl(r)}},Dl=l=>l,Jm=l=>{switch(l){case"t":return!0;case"f":return!1;default:return l}},Ym=l=>{if(typeof l=="string"){const r=parseFloat(l);if(!Number.isNaN(r))return r}return l},Qm=l=>{if(typeof l=="string")try{return JSON.parse(l)}catch(r){return console.log(`JSON parse error: ${r}`),l}return l},Xm=(l,r)=>{if(typeof l!="string")return l;const s=l.length-1,a=l[s];if(l[0]==="{"&&a==="}"){let c;const h=l.slice(1,s);try{c=JSON.parse("["+h+"]")}catch{c=h?h.split(","):[]}return c.map(m=>gh(r,m))}return l},Zm=l=>typeof l=="string"?l.replace(" ","T"):l,yh=l=>{let r=l;return r=r.replace(/^ws/i,"http"),r=r.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),r.replace(/\/+$/,"")+"/api/broadcast"};class gl{constructor(r,s,a={},o=Pl){this.channel=r,this.event=s,this.payload=a,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,s){var a;return this._hasReceived(r)&&s((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:r,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:s}){this.recHooks.filter(a=>a.status===r).forEach(a=>a.callback(s))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var Ad;(function(l){l.SYNC="sync",l.JOIN="join",l.LEAVE="leave"})(Ad||(Ad={}));class ri{constructor(r,s){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},o=>{const{onJoin:c,onLeave:h,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ri.syncState(this.state,o,c,h),this.pendingDiffs.forEach(g=>{this.state=ri.syncDiff(this.state,g,c,h)}),this.pendingDiffs=[],m()}),this.channel._on(a.diff,{},o=>{const{onJoin:c,onLeave:h,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=ri.syncDiff(this.state,o,c,h),m())}),this.onJoin((o,c,h)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:c,newPresences:h})}),this.onLeave((o,c,h)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:c,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,s,a,o){const c=this.cloneDeep(r),h=this.transformState(s),m={},g={};return this.map(c,(y,v)=>{h[y]||(g[y]=v)}),this.map(h,(y,v)=>{const _=c[y];if(_){const w=v.map(P=>P.presence_ref),A=_.map(P=>P.presence_ref),T=v.filter(P=>A.indexOf(P.presence_ref)<0),E=_.filter(P=>w.indexOf(P.presence_ref)<0);T.length>0&&(m[y]=T),E.length>0&&(g[y]=E)}else m[y]=v}),this.syncDiff(c,{joins:m,leaves:g},a,o)}static syncDiff(r,s,a,o){const{joins:c,leaves:h}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return a||(a=()=>{}),o||(o=()=>{}),this.map(c,(m,g)=>{var y;const v=(y=r[m])!==null&&y!==void 0?y:[];if(r[m]=this.cloneDeep(g),v.length>0){const _=r[m].map(A=>A.presence_ref),w=v.filter(A=>_.indexOf(A.presence_ref)<0);r[m].unshift(...w)}a(m,v,g)}),this.map(h,(m,g)=>{let y=r[m];if(!y)return;const v=g.map(_=>_.presence_ref);y=y.filter(_=>v.indexOf(_.presence_ref)<0),r[m]=y,o(m,y,g),y.length===0&&delete r[m]}),r}static map(r,s){return Object.getOwnPropertyNames(r).map(a=>s(a,r[a]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((s,a)=>{const o=r[a];return"metas"in o?s[a]=o.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):s[a]=o,s},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Rd;(function(l){l.ALL="*",l.INSERT="INSERT",l.UPDATE="UPDATE",l.DELETE="DELETE"})(Rd||(Rd={}));var ni;(function(l){l.BROADCAST="broadcast",l.PRESENCE="presence",l.POSTGRES_CHANGES="postgres_changes",l.SYSTEM="system"})(ni||(ni={}));var jr;(function(l){l.SUBSCRIBED="SUBSCRIBED",l.TIMED_OUT="TIMED_OUT",l.CLOSED="CLOSED",l.CHANNEL_ERROR="CHANNEL_ERROR"})(jr||(jr={}));class Wl{constructor(r,s={config:{}},a){var o,c;if(this.topic=r,this.params=s,this.socket=a,this.bindings={},this.state=at.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new gl(this,ir.join,this.params,this.timeout),this.rejoinTimer=new ph(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=at.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=at.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ir.reply,{},(h,m)=>{this._trigger(this._replyEventName(m),h)}),this.presence=new ri(this),this.broadcastEndpointURL=yh(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(r,s=this.timeout){var a,o,c;if(this.socket.isConnected()||this.socket.connect(),this.state==at.closed){const{config:{broadcast:h,presence:m,private:g}}=this.params,y=(o=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(A=>A.filter))!==null&&o!==void 0?o:[],v=!!this.bindings[ni.PRESENCE]&&this.bindings[ni.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,_={},w={broadcast:h,presence:Object.assign(Object.assign({},m),{enabled:v}),postgres_changes:y,private:g};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(A=>r?.(jr.CHANNEL_ERROR,A)),this._onClose(()=>r?.(jr.CLOSED)),this.updateJoinPayload(Object.assign({config:w},_)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:A})=>{var T;if(this.socket.setAuth(),A===void 0){r?.(jr.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,P=(T=E?.length)!==null&&T!==void 0?T:0,D=[];for(let R=0;R<P;R++){const $=E[R],{filter:{event:I,schema:V,table:B,filter:te}}=$,fe=A&&A[R];if(fe&&fe.event===I&&fe.schema===V&&fe.table===B&&fe.filter===te)D.push(Object.assign(Object.assign({},$),{id:fe.id}));else{this.unsubscribe(),this.state=at.errored,r?.(jr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=D,r&&r(jr.SUBSCRIBED);return}}).receive("error",A=>{this.state=at.errored,r?.(jr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(A).join(", ")||"error")))}).receive("timeout",()=>{r?.(jr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,s={}){return await this.send({type:"presence",event:"track",payload:r},s.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,s,a){return this.state===at.joined&&r===ni.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(r,s,a)}async send(r,s={}){var a,o;if(!this._canPush()&&r.type==="broadcast"){const{event:c,payload:h}=r,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:h,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(a=s.timeout)!==null&&a!==void 0?a:this.timeout);return await((o=y.body)===null||o===void 0?void 0:o.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var h,m,g;const y=this._push(r.type,r,s.timeout||this.timeout);r.type==="broadcast"&&!(!((g=(m=(h=this.params)===null||h===void 0?void 0:h.config)===null||m===void 0?void 0:m.broadcast)===null||g===void 0)&&g.ack)&&c("ok"),y.receive("ok",()=>c("ok")),y.receive("error",()=>c("error")),y.receive("timeout",()=>c("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=at.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ir.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(o=>{a=new gl(this,ir.leave,{},r),a.receive("ok",()=>{s(),o("ok")}).receive("timeout",()=>{s(),o("timed out")}).receive("error",()=>{o("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=at.closed,this.bindings={}}async _fetchWithTimeout(r,s,a){const o=new AbortController,c=setTimeout(()=>o.abort(),a),h=await this.socket.fetch(r,Object.assign(Object.assign({},s),{signal:o.signal}));return clearTimeout(c),h}_push(r,s,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new gl(this,r,s,a);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>qm){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(r,s,a){return s}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,s,a){var o,c;const h=r.toLocaleLowerCase(),{close:m,error:g,leave:y,join:v}=ir;if(a&&[m,g,y,v].indexOf(h)>=0&&a!==this._joinRef())return;let w=this._onMessage(h,s,a);if(s&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(A=>{var T,E,P;return((T=A.filter)===null||T===void 0?void 0:T.event)==="*"||((P=(E=A.filter)===null||E===void 0?void 0:E.event)===null||P===void 0?void 0:P.toLocaleLowerCase())===h}).map(A=>A.callback(w,a)):(c=this.bindings[h])===null||c===void 0||c.filter(A=>{var T,E,P,D,R,$;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in A){const I=A.id,V=(T=A.filter)===null||T===void 0?void 0:T.event;return I&&((E=s.ids)===null||E===void 0?void 0:E.includes(I))&&(V==="*"||V?.toLocaleLowerCase()===((P=s.data)===null||P===void 0?void 0:P.type.toLocaleLowerCase()))}else{const I=(R=(D=A?.filter)===null||D===void 0?void 0:D.event)===null||R===void 0?void 0:R.toLocaleLowerCase();return I==="*"||I===(($=s?.event)===null||$===void 0?void 0:$.toLocaleLowerCase())}else return A.type.toLocaleLowerCase()===h}).map(A=>{if(typeof w=="object"&&"ids"in w){const T=w.data,{schema:E,table:P,commit_timestamp:D,type:R,errors:$}=T;w=Object.assign(Object.assign({},{schema:E,table:P,commit_timestamp:D,eventType:R,new:{},old:{},errors:$}),this._getPayloadRecords(T))}A.callback(w,a)})}_isClosed(){return this.state===at.closed}_isJoined(){return this.state===at.joined}_isJoining(){return this.state===at.joining}_isLeaving(){return this.state===at.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,s,a){const o=r.toLocaleLowerCase(),c={type:o,filter:s,callback:a};return this.bindings[o]?this.bindings[o].push(c):this.bindings[o]=[c],this}_off(r,s){const a=r.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(o=>{var c;return!(((c=o.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===a&&Wl.isEqual(o.filter,s))})),this}static isEqual(r,s){if(Object.keys(r).length!==Object.keys(s).length)return!1;for(const a in r)if(r[a]!==s[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(ir.close,{},r)}_onError(r){this._on(ir.error,{},s=>r(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=at.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const s={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(s.new=Dd(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(s.old=Dd(r.columns,r.old_record)),s}}const yl=()=>{},va={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ep=[1e3,2e3,5e3,1e4],tp=1e4,rp=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class np{constructor(r,s){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Pl,this.transport=null,this.heartbeatIntervalMs=va.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=yl,this.ref=0,this.reconnectTimer=null,this.logger=yl,this.conn=null,this.sendBuffer=[],this.serializer=new Km,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let c;return o?c=o:typeof fetch>"u"?c=(...h)=>ai(async()=>{const{default:m}=await Promise.resolve().then(()=>us);return{default:m}},void 0).then(({default:m})=>m(...h)).catch(m=>{throw new Error(`Failed to load @supabase/node-fetch: ${m.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):c=fetch,(...h)=>c(...h)},!(!((a=s?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${r}/${Ol.websocket}`,this.httpEndpoint=yh(r),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=zm.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const s=r.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Wm}))}disconnect(r,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},r?this.conn.close(r,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const s=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const r=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,s,a){this.logger(r,s,a)}connectionState(){switch(this.conn&&this.conn.readyState){case ti.connecting:return bn.Connecting;case ti.open:return bn.Open;case ti.closing:return bn.Closing;default:return bn.Closed}}isConnected(){return this.connectionState()===bn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,s={config:{}}){const a=`realtime:${r}`,o=this.getChannels().find(c=>c.topic===a);if(o)return o;{const c=new Wl(`realtime:${r}`,s,this);return this.channels.push(c),c}}push(r){const{topic:s,event:a,payload:o,ref:c}=r,h=()=>{this.encode(r,m=>{var g;(g=this.conn)===null||g===void 0||g.send(m)})};this.log("push",`${s} ${a} (${c})`,o),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(Vm,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},va.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let s=this.channels.find(a=>a.topic===r&&(a._isJoined()||a._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${r}"`),s.unsubscribe())}_remove(r){this.channels=this.channels.filter(s=>s.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(y){this.log("error","error in heartbeat callback",y)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:o,payload:c,ref:h}=s,m=h?`(${h})`:"",g=c.status||"";this.log("receive",`${g} ${a} ${o} ${m}`.trim(),c),this.channels.filter(y=>y._isMember(a)).forEach(y=>y._trigger(o,c,h)),this._triggerStateCallbacks("message",s)})}_clearTimer(r){var s;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){var s;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(ir.error))}_appendParams(r,s){if(Object.keys(s).length===0)return r;const a=r.match(/\?/)?"&":"?",o=new URLSearchParams(s);return`${r}${a}${o}`}_workerObjectUrl(r){let s;if(r)s=r;else{const a=new Blob([rp],{type:"application/javascript"});s=URL.createObjectURL(a)}return s}_setConnectionState(r,s=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(r=null){let s;r?s=r:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(a=>{const o={access_token:s,version:Hm};s&&a.updateJoinPayload(o),a.joinedOnce&&a._isJoined()&&a._push(ir.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${r}`,s)})}_triggerStateCallbacks(r,s){try{this.stateChangeCallbacks[r].forEach(a=>{try{a(s)}catch(o){this.log("error",`error in ${r} callback`,o)}})}catch(a){this.log("error",`error triggering ${r} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new ph(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},va.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var s,a,o,c,h,m,g,y,v;if(this.transport=(s=r?.transport)!==null&&s!==void 0?s:null,this.timeout=(a=r?.timeout)!==null&&a!==void 0?a:Pl,this.heartbeatIntervalMs=(o=r?.heartbeatIntervalMs)!==null&&o!==void 0?o:va.HEARTBEAT_INTERVAL,this.worker=(c=r?.worker)!==null&&c!==void 0?c:!1,this.accessToken=(h=r?.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(m=r?.heartbeatCallback)!==null&&m!==void 0?m:yl,r?.params&&(this.params=r.params),r?.logger&&(this.logger=r.logger),(r?.logLevel||r?.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=r?.reconnectAfterMs)!==null&&g!==void 0?g:(_=>ep[_-1]||tp),this.encode=(y=r?.encode)!==null&&y!==void 0?y:((_,w)=>w(JSON.stringify(_))),this.decode=(v=r?.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r?.workerUrl}}}class Vl extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function rt(l){return typeof l=="object"&&l!==null&&"__isStorageError"in l}class sp extends Vl{constructor(r,s,a){super(r),this.name="StorageApiError",this.status=s,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Al extends Vl{constructor(r,s){super(r),this.name="StorageUnknownError",this.originalError=s}}var ip=function(l,r,s,a){function o(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function m(v){try{y(a.next(v))}catch(_){h(_)}}function g(v){try{y(a.throw(v))}catch(_){h(_)}}function y(v){v.done?c(v.value):o(v.value).then(m,g)}y((a=a.apply(l,r||[])).next())})};const vh=l=>{let r;return l?r=l:typeof fetch>"u"?r=(...s)=>ai(async()=>{const{default:a}=await Promise.resolve().then(()=>us);return{default:a}},void 0).then(({default:a})=>a(...s)):r=fetch,(...s)=>r(...s)},ap=()=>ip(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ai(()=>Promise.resolve().then(()=>us),void 0)).Response:Response}),Rl=l=>{if(Array.isArray(l))return l.map(s=>Rl(s));if(typeof l=="function"||l!==Object(l))return l;const r={};return Object.entries(l).forEach(([s,a])=>{const o=s.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));r[o]=Rl(a)}),r},op=l=>{if(typeof l!="object"||l===null)return!1;const r=Object.getPrototypeOf(l);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)};var kn=function(l,r,s,a){function o(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function m(v){try{y(a.next(v))}catch(_){h(_)}}function g(v){try{y(a.throw(v))}catch(_){h(_)}}function y(v){v.done?c(v.value):o(v.value).then(m,g)}y((a=a.apply(l,r||[])).next())})};const vl=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),lp=(l,r,s)=>kn(void 0,void 0,void 0,function*(){const a=yield ap();l instanceof a&&!s?.noResolveJson?l.json().then(o=>{const c=l.status||500,h=o?.statusCode||c+"";r(new sp(vl(o),c,h))}).catch(o=>{r(new Al(vl(o),o))}):r(new Al(vl(l),l))}),cp=(l,r,s,a)=>{const o={method:l,headers:r?.headers||{}};return l==="GET"||!a?o:(op(a)?(o.headers=Object.assign({"Content-Type":"application/json"},r?.headers),o.body=JSON.stringify(a)):o.body=a,r?.duplex&&(o.duplex=r.duplex),Object.assign(Object.assign({},o),s))};function oi(l,r,s,a,o,c){return kn(this,void 0,void 0,function*(){return new Promise((h,m)=>{l(s,cp(r,a,o,c)).then(g=>{if(!g.ok)throw g;return a?.noResolveJson?g:g.json()}).then(g=>h(g)).catch(g=>lp(g,m,a))})})}function Sa(l,r,s,a){return kn(this,void 0,void 0,function*(){return oi(l,"GET",r,s,a)})}function hr(l,r,s,a,o){return kn(this,void 0,void 0,function*(){return oi(l,"POST",r,a,o,s)})}function Il(l,r,s,a,o){return kn(this,void 0,void 0,function*(){return oi(l,"PUT",r,a,o,s)})}function up(l,r,s,a){return kn(this,void 0,void 0,function*(){return oi(l,"HEAD",r,Object.assign(Object.assign({},s),{noResolveJson:!0}),a)})}function xh(l,r,s,a,o){return kn(this,void 0,void 0,function*(){return oi(l,"DELETE",r,a,o,s)})}var dp=function(l,r,s,a){function o(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function m(v){try{y(a.next(v))}catch(_){h(_)}}function g(v){try{y(a.throw(v))}catch(_){h(_)}}function y(v){v.done?c(v.value):o(v.value).then(m,g)}y((a=a.apply(l,r||[])).next())})};class hp{constructor(r,s){this.downloadFn=r,this.shouldThrowOnError=s}then(r,s){return this.execute().then(r,s)}execute(){return dp(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rt(r))return{data:null,error:r};throw r}})}}var fp=function(l,r,s,a){function o(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function m(v){try{y(a.next(v))}catch(_){h(_)}}function g(v){try{y(a.throw(v))}catch(_){h(_)}}function y(v){v.done?c(v.value):o(v.value).then(m,g)}y((a=a.apply(l,r||[])).next())})},wh;class mp{constructor(r,s){this.downloadFn=r,this.shouldThrowOnError=s,this[wh]="BlobDownloadBuilder",this.promise=null}asStream(){return new hp(this.downloadFn,this.shouldThrowOnError)}then(r,s){return this.getPromise().then(r,s)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return fp(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rt(r))return{data:null,error:r};throw r}})}}wh=Symbol.toStringTag;var Ot=function(l,r,s,a){function o(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function m(v){try{y(a.next(v))}catch(_){h(_)}}function g(v){try{y(a.throw(v))}catch(_){h(_)}}function y(v){v.done?c(v.value):o(v.value).then(m,g)}y((a=a.apply(l,r||[])).next())})};const pp={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Id={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class gp{constructor(r,s={},a,o){this.shouldThrowOnError=!1,this.url=r,this.headers=s,this.bucketId=a,this.fetch=vh(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(r,s,a,o){return Ot(this,void 0,void 0,function*(){try{let c;const h=Object.assign(Object.assign({},Id),o);let m=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(h.upsert)});const g=h.metadata;typeof Blob<"u"&&a instanceof Blob?(c=new FormData,c.append("cacheControl",h.cacheControl),g&&c.append("metadata",this.encodeMetadata(g)),c.append("",a)):typeof FormData<"u"&&a instanceof FormData?(c=a,c.append("cacheControl",h.cacheControl),g&&c.append("metadata",this.encodeMetadata(g))):(c=a,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType,g&&(m["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),o?.headers&&(m=Object.assign(Object.assign({},m),o.headers));const y=this._removeEmptyFolders(s),v=this._getFinalPath(y),_=yield(r=="PUT"?Il:hr)(this.fetch,`${this.url}/object/${v}`,c,Object.assign({headers:m},h?.duplex?{duplex:h.duplex}:{}));return{data:{path:y,id:_.Id,fullPath:_.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(rt(c))return{data:null,error:c};throw c}})}upload(r,s,a){return Ot(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,s,a)})}uploadToSignedUrl(r,s,a,o){return Ot(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(r),h=this._getFinalPath(c),m=new URL(this.url+`/object/upload/sign/${h}`);m.searchParams.set("token",s);try{let g;const y=Object.assign({upsert:Id.upsert},o),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(y.upsert)});typeof Blob<"u"&&a instanceof Blob?(g=new FormData,g.append("cacheControl",y.cacheControl),g.append("",a)):typeof FormData<"u"&&a instanceof FormData?(g=a,g.append("cacheControl",y.cacheControl)):(g=a,v["cache-control"]=`max-age=${y.cacheControl}`,v["content-type"]=y.contentType);const _=yield Il(this.fetch,m.toString(),g,{headers:v});return{data:{path:c,fullPath:_.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(rt(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(r,s){return Ot(this,void 0,void 0,function*(){try{let a=this._getFinalPath(r);const o=Object.assign({},this.headers);s?.upsert&&(o["x-upsert"]="true");const c=yield hr(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:o}),h=new URL(this.url+c.url),m=h.searchParams.get("token");if(!m)throw new Vl("No token returned by API");return{data:{signedUrl:h.toString(),path:r,token:m},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(rt(a))return{data:null,error:a};throw a}})}update(r,s,a){return Ot(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,s,a)})}move(r,s,a){return Ot(this,void 0,void 0,function*(){try{return{data:yield hr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:s,destinationBucket:a?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(rt(o))return{data:null,error:o};throw o}})}copy(r,s,a){return Ot(this,void 0,void 0,function*(){try{return{data:{path:(yield hr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:s,destinationBucket:a?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(rt(o))return{data:null,error:o};throw o}})}createSignedUrl(r,s,a){return Ot(this,void 0,void 0,function*(){try{let o=this._getFinalPath(r),c=yield hr(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:s},a?.transform?{transform:a.transform}:{}),{headers:this.headers});const h=a?.download?`&download=${a.download===!0?"":a.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${h}`)},{data:c,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(rt(o))return{data:null,error:o};throw o}})}createSignedUrls(r,s,a){return Ot(this,void 0,void 0,function*(){try{const o=yield hr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:r},{headers:this.headers}),c=a?.download?`&download=${a.download===!0?"":a.download}`:"";return{data:o.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${c}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(rt(o))return{data:null,error:o};throw o}})}download(r,s){const o=typeof s?.transform<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString(s?.transform||{}),h=c?`?${c}`:"",m=this._getFinalPath(r),g=()=>Sa(this.fetch,`${this.url}/${o}/${m}${h}`,{headers:this.headers,noResolveJson:!0});return new mp(g,this.shouldThrowOnError)}info(r){return Ot(this,void 0,void 0,function*(){const s=this._getFinalPath(r);try{const a=yield Sa(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Rl(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(rt(a))return{data:null,error:a};throw a}})}exists(r){return Ot(this,void 0,void 0,function*(){const s=this._getFinalPath(r);try{return yield up(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(rt(a)&&a instanceof Al){const o=a.originalError;if([400,404].includes(o?.status))return{data:!1,error:a}}throw a}})}getPublicUrl(r,s){const a=this._getFinalPath(r),o=[],c=s?.download?`download=${s.download===!0?"":s.download}`:"";c!==""&&o.push(c);const m=typeof s?.transform<"u"?"render/image":"object",g=this.transformOptsToQueryString(s?.transform||{});g!==""&&o.push(g);let y=o.join("&");return y!==""&&(y=`?${y}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${a}${y}`)}}}remove(r){return Ot(this,void 0,void 0,function*(){try{return{data:yield xh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(rt(s))return{data:null,error:s};throw s}})}list(r,s,a){return Ot(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},pp),s),{prefix:r||""});return{data:yield hr(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},a),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(rt(o))return{data:null,error:o};throw o}})}listV2(r,s){return Ot(this,void 0,void 0,function*(){try{const a=Object.assign({},r);return{data:yield hr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},s),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(rt(a))return{data:null,error:a};throw a}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const s=[];return r.width&&s.push(`width=${r.width}`),r.height&&s.push(`height=${r.height}`),r.resize&&s.push(`resize=${r.resize}`),r.format&&s.push(`format=${r.format}`),r.quality&&s.push(`quality=${r.quality}`),s.join("&")}}const yp="2.75.1",vp={"X-Client-Info":`storage-js/${yp}`};var es=function(l,r,s,a){function o(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function m(v){try{y(a.next(v))}catch(_){h(_)}}function g(v){try{y(a.throw(v))}catch(_){h(_)}}function y(v){v.done?c(v.value):o(v.value).then(m,g)}y((a=a.apply(l,r||[])).next())})};class xp{constructor(r,s={},a,o){this.shouldThrowOnError=!1;const c=new URL(r);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},vp),s),this.fetch=vh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return es(this,void 0,void 0,function*(){try{return{data:yield Sa(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(rt(r))return{data:null,error:r};throw r}})}getBucket(r){return es(this,void 0,void 0,function*(){try{return{data:yield Sa(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(rt(s))return{data:null,error:s};throw s}})}createBucket(r){return es(this,arguments,void 0,function*(s,a={public:!1}){try{return{data:yield hr(this.fetch,`${this.url}/bucket`,{id:s,name:s,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(rt(o))return{data:null,error:o};throw o}})}updateBucket(r,s){return es(this,void 0,void 0,function*(){try{return{data:yield Il(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(rt(a))return{data:null,error:a};throw a}})}emptyBucket(r){return es(this,void 0,void 0,function*(){try{return{data:yield hr(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(rt(s))return{data:null,error:s};throw s}})}deleteBucket(r){return es(this,void 0,void 0,function*(){try{return{data:yield xh(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(rt(s))return{data:null,error:s};throw s}})}}class wp extends xp{constructor(r,s={},a,o){super(r,s,a,o)}from(r){return new gp(this.url,this.headers,r,this.fetch)}}const bp="2.75.1";let ei="";typeof Deno<"u"?ei="deno":typeof document<"u"?ei="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ei="react-native":ei="node";const _p={"X-Client-Info":`supabase-js-${ei}/${bp}`},Sp={headers:_p},kp={schema:"public"},jp={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Np={};var Ep=function(l,r,s,a){function o(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function m(v){try{y(a.next(v))}catch(_){h(_)}}function g(v){try{y(a.throw(v))}catch(_){h(_)}}function y(v){v.done?c(v.value):o(v.value).then(m,g)}y((a=a.apply(l,r||[])).next())})};const Cp=l=>{let r;return l?r=l:typeof fetch>"u"?r=ch:r=fetch,(...s)=>r(...s)},Tp=()=>typeof Headers>"u"?uh:Headers,Pp=(l,r,s)=>{const a=Cp(s),o=Tp();return(c,h)=>Ep(void 0,void 0,void 0,function*(){var m;const g=(m=yield r())!==null&&m!==void 0?m:l;let y=new o(h?.headers);return y.has("apikey")||y.set("apikey",l),y.has("Authorization")||y.set("Authorization",`Bearer ${g}`),a(c,Object.assign(Object.assign({},h),{headers:y}))})};var Op=function(l,r,s,a){function o(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function m(v){try{y(a.next(v))}catch(_){h(_)}}function g(v){try{y(a.throw(v))}catch(_){h(_)}}function y(v){v.done?c(v.value):o(v.value).then(m,g)}y((a=a.apply(l,r||[])).next())})};function Dp(l){return l.endsWith("/")?l:l+"/"}function Ap(l,r){var s,a;const{db:o,auth:c,realtime:h,global:m}=l,{db:g,auth:y,realtime:v,global:_}=r,w={db:Object.assign(Object.assign({},g),o),auth:Object.assign(Object.assign({},y),c),realtime:Object.assign(Object.assign({},v),h),storage:{},global:Object.assign(Object.assign(Object.assign({},_),m),{headers:Object.assign(Object.assign({},(s=_?.headers)!==null&&s!==void 0?s:{}),(a=m?.headers)!==null&&a!==void 0?a:{})}),accessToken:()=>Op(this,void 0,void 0,function*(){return""})};return l.accessToken?w.accessToken=l.accessToken:delete w.accessToken,w}function Rp(l){const r=l?.trim();if(!r)throw new Error("supabaseUrl is required.");if(!r.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Dp(r))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const bh="2.75.1",as=30*1e3,Ll=3,xl=Ll*as,Ip="http://localhost:9999",Lp="supabase.auth.token",$p={"X-Client-Info":`gotrue-js/${bh}`},$l="X-Supabase-Api-Version",_h={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Mp=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Up=600*1e3;class si extends Error{constructor(r,s,a){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=a}}function he(l){return typeof l=="object"&&l!==null&&"__isAuthError"in l}class Fp extends si{constructor(r,s,a){super(r,s,a),this.name="AuthApiError",this.status=s,this.code=a}}function zp(l){return he(l)&&l.name==="AuthApiError"}class _n extends si{constructor(r,s){super(r),this.name="AuthUnknownError",this.originalError=s}}class rn extends si{constructor(r,s,a,o){super(r,a,o),this.name=s,this.status=a}}class en extends rn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Bp(l){return he(l)&&l.name==="AuthSessionMissingError"}class ts extends rn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class xa extends rn{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class wa extends rn{constructor(r,s=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Hp(l){return he(l)&&l.name==="AuthImplicitGrantRedirectError"}class Ld extends rn{constructor(r,s=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ml extends rn{constructor(r,s){super(r,"AuthRetryableFetchError",s,void 0)}}function wl(l){return he(l)&&l.name==="AuthRetryableFetchError"}class $d extends rn{constructor(r,s,a){super(r,"AuthWeakPasswordError",s,"weak_password"),this.reasons=a}}class Ul extends rn{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const ka="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Md=` 	
\r=`.split(""),Wp=(()=>{const l=new Array(128);for(let r=0;r<l.length;r+=1)l[r]=-1;for(let r=0;r<Md.length;r+=1)l[Md[r].charCodeAt(0)]=-2;for(let r=0;r<ka.length;r+=1)l[ka[r].charCodeAt(0)]=r;return l})();function Ud(l,r,s){if(l!==null)for(r.queue=r.queue<<8|l,r.queuedBits+=8;r.queuedBits>=6;){const a=r.queue>>r.queuedBits-6&63;s(ka[a]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const a=r.queue>>r.queuedBits-6&63;s(ka[a]),r.queuedBits-=6}}function Sh(l,r,s){const a=Wp[l];if(a>-1)for(r.queue=r.queue<<6|a,r.queuedBits+=6;r.queuedBits>=8;)s(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(l)}"`)}}function Fd(l){const r=[],s=h=>{r.push(String.fromCodePoint(h))},a={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},c=h=>{Kp(h,a,s)};for(let h=0;h<l.length;h+=1)Sh(l.charCodeAt(h),o,c);return r.join("")}function Vp(l,r){if(l<=127){r(l);return}else if(l<=2047){r(192|l>>6),r(128|l&63);return}else if(l<=65535){r(224|l>>12),r(128|l>>6&63),r(128|l&63);return}else if(l<=1114111){r(240|l>>18),r(128|l>>12&63),r(128|l>>6&63),r(128|l&63);return}throw new Error(`Unrecognized Unicode codepoint: ${l.toString(16)}`)}function qp(l,r){for(let s=0;s<l.length;s+=1){let a=l.charCodeAt(s);if(a>55295&&a<=56319){const o=(a-55296)*1024&65535;a=(l.charCodeAt(s+1)-56320&65535|o)+65536,s+=1}Vp(a,r)}}function Kp(l,r,s){if(r.utf8seq===0){if(l<=127){s(l);return}for(let a=1;a<6;a+=1)if((l>>7-a&1)===0){r.utf8seq=a;break}if(r.utf8seq===2)r.codepoint=l&31;else if(r.utf8seq===3)r.codepoint=l&15;else if(r.utf8seq===4)r.codepoint=l&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(l<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|l&63,r.utf8seq-=1,r.utf8seq===0&&s(r.codepoint)}}function ls(l){const r=[],s={queue:0,queuedBits:0},a=o=>{r.push(o)};for(let o=0;o<l.length;o+=1)Sh(l.charCodeAt(o),s,a);return new Uint8Array(r)}function Gp(l){const r=[];return qp(l,s=>r.push(s)),new Uint8Array(r)}function Sn(l){const r=[],s={queue:0,queuedBits:0},a=o=>{r.push(o)};return l.forEach(o=>Ud(o,s,a)),Ud(null,s,a),r.join("")}function Jp(l){return Math.round(Date.now()/1e3)+l}function Yp(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(l){const r=Math.random()*16|0;return(l=="x"?r:r&3|8).toString(16)})}const zt=()=>typeof window<"u"&&typeof document<"u",vn={tested:!1,writable:!1},kh=()=>{if(!zt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(vn.tested)return vn.writable;const l=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(l,l),globalThis.localStorage.removeItem(l),vn.tested=!0,vn.writable=!0}catch{vn.tested=!0,vn.writable=!1}return vn.writable};function Qp(l){const r={},s=new URL(l);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((o,c)=>{r[c]=o})}catch{}return s.searchParams.forEach((a,o)=>{r[o]=a}),r}const jh=l=>{let r;return l?r=l:typeof fetch>"u"?r=(...s)=>ai(async()=>{const{default:a}=await Promise.resolve().then(()=>us);return{default:a}},void 0).then(({default:a})=>a(...s)):r=fetch,(...s)=>r(...s)},Xp=l=>typeof l=="object"&&l!==null&&"status"in l&&"ok"in l&&"json"in l&&typeof l.json=="function",os=async(l,r,s)=>{await l.setItem(r,JSON.stringify(s))},xn=async(l,r)=>{const s=await l.getItem(r);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Zr=async(l,r)=>{await l.removeItem(r)};class Ca{constructor(){this.promise=new Ca.promiseConstructor((r,s)=>{this.resolve=r,this.reject=s})}}Ca.promiseConstructor=Promise;function bl(l){const r=l.split(".");if(r.length!==3)throw new Ul("Invalid JWT structure");for(let a=0;a<r.length;a++)if(!Mp.test(r[a]))throw new Ul("JWT not in base64url format");return{header:JSON.parse(Fd(r[0])),payload:JSON.parse(Fd(r[1])),signature:ls(r[2]),raw:{header:r[0],payload:r[1]}}}async function Zp(l){return await new Promise(r=>{setTimeout(()=>r(null),l)})}function eg(l,r){return new Promise((a,o)=>{(async()=>{for(let c=0;c<1/0;c++)try{const h=await l(c);if(!r(c,null,h)){a(h);return}}catch(h){if(!r(c,h)){o(h);return}}})()})}function tg(l){return("0"+l.toString(16)).substr(-2)}function rg(){const r=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=s.length;let o="";for(let c=0;c<56;c++)o+=s.charAt(Math.floor(Math.random()*a));return o}return crypto.getRandomValues(r),Array.from(r,tg).join("")}async function ng(l){const s=new TextEncoder().encode(l),a=await crypto.subtle.digest("SHA-256",s),o=new Uint8Array(a);return Array.from(o).map(c=>String.fromCharCode(c)).join("")}async function sg(l){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),l;const s=await ng(l);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function rs(l,r,s=!1){const a=rg();let o=a;s&&(o+="/PASSWORD_RECOVERY"),await os(l,`${r}-code-verifier`,o);const c=await sg(a);return[c,a===c?"plain":"s256"]}const ig=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ag(l){const r=l.headers.get($l);if(!r||!r.match(ig))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function og(l){if(!l)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(l<=r)throw new Error("JWT has expired")}function lg(l){switch(l){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const cg=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ns(l){if(!cg.test(l))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function _l(){const l={};return new Proxy(l,{get:(r,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const a=s.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function zd(l){return JSON.parse(JSON.stringify(l))}var ug=function(l,r){var s={};for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&r.indexOf(a)<0&&(s[a]=l[a]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(l);o<a.length;o++)r.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(l,a[o])&&(s[a[o]]=l[a[o]]);return s};const wn=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),dg=[502,503,504];async function Bd(l){var r;if(!Xp(l))throw new Ml(wn(l),0);if(dg.includes(l.status))throw new Ml(wn(l),l.status);let s;try{s=await l.json()}catch(c){throw new _n(wn(c),c)}let a;const o=ag(l);if(o&&o.getTime()>=_h["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?a=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(a=s.error_code),a){if(a==="weak_password")throw new $d(wn(s),l.status,((r=s.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(a==="session_not_found")throw new en}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((c,h)=>c&&typeof h=="string",!0))throw new $d(wn(s),l.status,s.weak_password.reasons);throw new Fp(wn(s),l.status||500,a)}const hg=(l,r,s,a)=>{const o={method:l,headers:r?.headers||{}};return l==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r?.headers),o.body=JSON.stringify(a),Object.assign(Object.assign({},o),s))};async function ve(l,r,s,a){var o;const c=Object.assign({},a?.headers);c[$l]||(c[$l]=_h["2024-01-01"].name),a?.jwt&&(c.Authorization=`Bearer ${a.jwt}`);const h=(o=a?.query)!==null&&o!==void 0?o:{};a?.redirectTo&&(h.redirect_to=a.redirectTo);const m=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",g=await fg(l,r,s+m,{headers:c,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(g):{data:Object.assign({},g),error:null}}async function fg(l,r,s,a,o,c){const h=hg(r,a,o,c);let m;try{m=await l(s,Object.assign({},h))}catch(g){throw console.error(g),new Ml(wn(g),0)}if(m.ok||await Bd(m),a?.noResolveJson)return m;try{return await m.json()}catch(g){await Bd(g)}}function sr(l){var r;let s=null;gg(l)&&(s=Object.assign({},l),l.expires_at||(s.expires_at=Jp(l.expires_in)));const a=(r=l.user)!==null&&r!==void 0?r:l;return{data:{session:s,user:a},error:null}}function Hd(l){const r=sr(l);return!r.error&&l.weak_password&&typeof l.weak_password=="object"&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.message&&typeof l.weak_password.message=="string"&&l.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0)&&(r.data.weak_password=l.weak_password),r}function tn(l){var r;return{data:{user:(r=l.user)!==null&&r!==void 0?r:l},error:null}}function mg(l){return{data:l,error:null}}function pg(l){const{action_link:r,email_otp:s,hashed_token:a,redirect_to:o,verification_type:c}=l,h=ug(l,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:r,email_otp:s,hashed_token:a,redirect_to:o,verification_type:c},g=Object.assign({},h);return{data:{properties:m,user:g},error:null}}function Wd(l){return l}function gg(l){return l.access_token&&l.refresh_token&&l.expires_in}const Sl=["global","local","others"];var yg=function(l,r){var s={};for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&r.indexOf(a)<0&&(s[a]=l[a]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(l);o<a.length;o++)r.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(l,a[o])&&(s[a[o]]=l[a[o]]);return s};class vg{constructor({url:r="",headers:s={},fetch:a}){this.url=r,this.headers=s,this.fetch=jh(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(r,s=Sl[0]){if(Sl.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Sl.join(", ")}`);try{return await ve(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(a){if(he(a))return{data:null,error:a};throw a}}async inviteUserByEmail(r,s={}){try{return await ve(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:tn})}catch(a){if(he(a))return{data:{user:null},error:a};throw a}}async generateLink(r){try{const{options:s}=r,a=yg(r,["options"]),o=Object.assign(Object.assign({},a),s);return"newEmail"in a&&(o.new_email=a?.newEmail,delete o.newEmail),await ve(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:pg,redirectTo:s?.redirectTo})}catch(s){if(he(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(r){try{return await ve(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:tn})}catch(s){if(he(s))return{data:{user:null},error:s};throw s}}async listUsers(r){var s,a,o,c,h,m,g;try{const y={nextPage:null,lastPage:0,total:0},v=await ve(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(s=r?.page)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:"",per_page:(c=(o=r?.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:Wd});if(v.error)throw v.error;const _=await v.json(),w=(h=v.headers.get("x-total-count"))!==null&&h!==void 0?h:0,A=(g=(m=v.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return A.length>0&&(A.forEach(T=>{const E=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),P=JSON.parse(T.split(";")[1].split("=")[1]);y[`${P}Page`]=E}),y.total=parseInt(w)),{data:Object.assign(Object.assign({},_),y),error:null}}catch(y){if(he(y))return{data:{users:[]},error:y};throw y}}async getUserById(r){ns(r);try{return await ve(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:tn})}catch(s){if(he(s))return{data:{user:null},error:s};throw s}}async updateUserById(r,s){ns(r);try{return await ve(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:s,headers:this.headers,xform:tn})}catch(a){if(he(a))return{data:{user:null},error:a};throw a}}async deleteUser(r,s=!1){ns(r);try{return await ve(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:s},xform:tn})}catch(a){if(he(a))return{data:{user:null},error:a};throw a}}async _listFactors(r){ns(r.userId);try{const{data:s,error:a}=await ve(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:s,error:a}}catch(s){if(he(s))return{data:null,error:s};throw s}}async _deleteFactor(r){ns(r.userId),ns(r.id);try{return{data:await ve(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}}async _listOAuthClients(r){var s,a,o,c,h,m,g;try{const y={nextPage:null,lastPage:0,total:0},v=await ve(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(s=r?.page)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:"",per_page:(c=(o=r?.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:Wd});if(v.error)throw v.error;const _=await v.json(),w=(h=v.headers.get("x-total-count"))!==null&&h!==void 0?h:0,A=(g=(m=v.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&g!==void 0?g:[];return A.length>0&&(A.forEach(T=>{const E=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),P=JSON.parse(T.split(";")[1].split("=")[1]);y[`${P}Page`]=E}),y.total=parseInt(w)),{data:Object.assign(Object.assign({},_),y),error:null}}catch(y){if(he(y))return{data:{clients:[]},error:y};throw y}}async _createOAuthClient(r){try{return await ve(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:r,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(he(s))return{data:null,error:s};throw s}}async _getOAuthClient(r){try{return await ve(this.fetch,"GET",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(he(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(r){try{return await ve(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(he(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(r){try{return await ve(this.fetch,"POST",`${this.url}/admin/oauth/clients/${r}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(he(s))return{data:null,error:s};throw s}}}function Vd(l={}){return{getItem:r=>l[r]||null,setItem:(r,s)=>{l[r]=s},removeItem:r=>{delete l[r]}}}const ss={debug:!!(globalThis&&kh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Nh extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class xg extends Nh{}async function wg(l,r,s){ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",l,r);const a=new globalThis.AbortController;return r>0&&setTimeout(()=>{a.abort(),ss.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",l)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(l,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async o=>{if(o){ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",l,o.name);try{return await s()}finally{ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",l,o.name)}}else{if(r===0)throw ss.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",l),new xg(`Acquiring an exclusive Navigator LockManager lock "${l}" immediately failed`);if(ss.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function bg(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Eh(l){if(!/^0x[a-fA-F0-9]{40}$/.test(l))throw new Error(`@supabase/auth-js: Address "${l}" is invalid.`);return l.toLowerCase()}function _g(l){return parseInt(l,16)}function Sg(l){const r=new TextEncoder().encode(l);return"0x"+Array.from(r,a=>a.toString(16).padStart(2,"0")).join("")}function kg(l){var r;const{chainId:s,domain:a,expirationTime:o,issuedAt:c=new Date,nonce:h,notBefore:m,requestId:g,resources:y,scheme:v,uri:_,version:w}=l;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((r=l.statement)===null||r===void 0)&&r.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${l.statement}`)}const A=Eh(l.address),T=v?`${v}://${a}`:a,E=l.statement?`${l.statement}
`:"",P=`${T} wants you to sign in with your Ethereum account:
${A}

${E}`;let D=`URI: ${_}
Version: ${w}
Chain ID: ${s}${h?`
Nonce: ${h}`:""}
Issued At: ${c.toISOString()}`;if(o&&(D+=`
Expiration Time: ${o.toISOString()}`),m&&(D+=`
Not Before: ${m.toISOString()}`),g&&(D+=`
Request ID: ${g}`),y){let R=`
Resources:`;for(const $ of y){if(!$||typeof $!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${$}`);R+=`
- ${$}`}D+=R}return`${P}
${D}`}class tt extends Error{constructor({message:r,code:s,cause:a,name:o}){var c;super(r,{cause:a}),this.__isWebAuthnError=!0,this.name=(c=o??(a instanceof Error?a.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=s}}class ja extends tt{constructor(r,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:r}),this.name="WebAuthnUnknownError",this.originalError=s}}function jg({error:l,options:r}){var s,a,o;const{publicKey:c}=r;if(!c)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(r.signal instanceof AbortSignal)return new tt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else if(l.name==="ConstraintError"){if(((s=c.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new tt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:l});if(r.mediation==="conditional"&&((a=c.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new tt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:l});if(((o=c.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new tt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:l})}else{if(l.name==="InvalidStateError")return new tt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:l});if(l.name==="NotAllowedError")return new tt({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="NotSupportedError")return c.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new tt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:l}):new tt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:l});if(l.name==="SecurityError"){const h=window.location.hostname;if(Th(h)){if(c.rp.id!==h)return new tt({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new tt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new tt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:l})}else if(l.name==="UnknownError")return new tt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new tt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}function Ng({error:l,options:r}){const{publicKey:s}=r;if(!s)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(r.signal instanceof AbortSignal)return new tt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else{if(l.name==="NotAllowedError")return new tt({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="SecurityError"){const a=window.location.hostname;if(Th(a)){if(s.rpId!==a)return new tt({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new tt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="UnknownError")return new tt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new tt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}var Ch=function(l,r){var s={};for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&r.indexOf(a)<0&&(s[a]=l[a]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(l);o<a.length;o++)r.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(l,a[o])&&(s[a[o]]=l[a[o]]);return s};class Eg{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const r=new AbortController;return this.controller=r,r.signal}cancelCeremony(){if(this.controller){const r=new Error("Manually cancelling existing WebAuthn API call");r.name="AbortError",this.controller.abort(r),this.controller=void 0}}}const Cg=new Eg;function Tg(l){if(!l)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(l);const{challenge:r,user:s,excludeCredentials:a}=l,o=Ch(l,["challenge","user","excludeCredentials"]),c=ls(r).buffer,h=Object.assign(Object.assign({},s),{id:ls(s.id).buffer}),m=Object.assign(Object.assign({},o),{challenge:c,user:h});if(a&&a.length>0){m.excludeCredentials=new Array(a.length);for(let g=0;g<a.length;g++){const y=a[g];m.excludeCredentials[g]=Object.assign(Object.assign({},y),{id:ls(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return m}function Pg(l){if(!l)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(l);const{challenge:r,allowCredentials:s}=l,a=Ch(l,["challenge","allowCredentials"]),o=ls(r).buffer,c=Object.assign(Object.assign({},a),{challenge:o});if(s&&s.length>0){c.allowCredentials=new Array(s.length);for(let h=0;h<s.length;h++){const m=s[h];c.allowCredentials[h]=Object.assign(Object.assign({},m),{id:ls(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return c}function Og(l){var r;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const s=l;return{id:l.id,rawId:l.id,response:{attestationObject:Sn(new Uint8Array(l.response.attestationObject)),clientDataJSON:Sn(new Uint8Array(l.response.clientDataJSON))},type:"public-key",clientExtensionResults:l.getClientExtensionResults(),authenticatorAttachment:(r=s.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function Dg(l){var r;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const s=l,a=l.getClientExtensionResults(),o=l.response;return{id:l.id,rawId:l.id,response:{authenticatorData:Sn(new Uint8Array(o.authenticatorData)),clientDataJSON:Sn(new Uint8Array(o.clientDataJSON)),signature:Sn(new Uint8Array(o.signature)),userHandle:o.userHandle?Sn(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(r=s.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function Th(l){return l==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(l)}function qd(){var l,r;return!!(zt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((l=navigator?.credentials)===null||l===void 0?void 0:l.create)=="function"&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.get)=="function")}async function Ag(l){try{const r=await navigator.credentials.create(l);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new ja("Browser returned unexpected credential type",r)}:{data:null,error:new ja("Empty credential response",r)}}catch(r){return{data:null,error:jg({error:r,options:l})}}}async function Rg(l){try{const r=await navigator.credentials.get(l);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new ja("Browser returned unexpected credential type",r)}:{data:null,error:new ja("Empty credential response",r)}}catch(r){return{data:null,error:Ng({error:r,options:l})}}}const Ig={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Lg={userVerification:"preferred",hints:["security-key"]};function Na(...l){const r=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),s=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),a={};for(const o of l)if(o)for(const c in o){const h=o[c];if(h!==void 0)if(Array.isArray(h))a[c]=h;else if(s(h))a[c]=h;else if(r(h)){const m=a[c];r(m)?a[c]=Na(m,h):a[c]=Na(h)}else a[c]=h}return a}function $g(l,r){return Na(Ig,l,r||{})}function Mg(l,r){return Na(Lg,l,r||{})}class Ug{constructor(r){this.client=r,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(r){return this.client.mfa.enroll(Object.assign(Object.assign({},r),{factorType:"webauthn"}))}async _challenge({factorId:r,webauthn:s,friendlyName:a,signal:o},c){try{const{data:h,error:m}=await this.client.mfa.challenge({factorId:r,webauthn:s});if(!h)return{data:null,error:m};const g=o??Cg.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:y}=h.webauthn.credential_options.publicKey;y.name||(y.name=`${y.id}:${a}`),y.displayName||(y.displayName=y.name)}switch(h.webauthn.type){case"create":{const y=$g(h.webauthn.credential_options.publicKey,c?.create),{data:v,error:_}=await Ag({publicKey:y,signal:g});return v?{data:{factorId:r,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:v}},error:null}:{data:null,error:_}}case"request":{const y=Mg(h.webauthn.credential_options.publicKey,c?.request),{data:v,error:_}=await Rg(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:y,signal:g}));return v?{data:{factorId:r,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:v}},error:null}:{data:null,error:_}}}}catch(h){return he(h)?{data:null,error:h}:{data:null,error:new _n("Unexpected error in challenge",h)}}}async _verify({challengeId:r,factorId:s,webauthn:a}){return this.client.mfa.verify({factorId:s,challengeId:r,webauthn:a})}async _authenticate({factorId:r,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:o}},c){if(!s)return{data:null,error:new si("rpId is required for WebAuthn authentication")};try{if(!qd())return{data:null,error:new _n("Browser does not support WebAuthn",null)};const{data:h,error:m}=await this.challenge({factorId:r,webauthn:{rpId:s,rpOrigins:a},signal:o},{request:c});if(!h)return{data:null,error:m};const{webauthn:g}=h;return this._verify({factorId:r,challengeId:h.challengeId,webauthn:{type:g.type,rpId:s,rpOrigins:a,credential_response:g.credential_response}})}catch(h){return he(h)?{data:null,error:h}:{data:null,error:new _n("Unexpected error in authenticate",h)}}}async _register({friendlyName:r,rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:o},c){if(!s)return{data:null,error:new si("rpId is required for WebAuthn registration")};try{if(!qd())return{data:null,error:new _n("Browser does not support WebAuthn",null)};const{data:h,error:m}=await this._enroll({friendlyName:r});if(!h)return await this.client.mfa.listFactors().then(v=>{var _;return(_=v.data)===null||_===void 0?void 0:_.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===r&&w.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:m};const{data:g,error:y}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:s,rpOrigins:a},signal:o},{create:c});return g?this._verify({factorId:h.id,challengeId:g.challengeId,webauthn:{rpId:s,rpOrigins:a,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:y}}catch(h){return he(h)?{data:null,error:h}:{data:null,error:new _n("Unexpected error in register",h)}}}}bg();const Fg={url:Ip,storageKey:Lp,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:$p,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Kd(l,r,s){return await s()}const is={};class ii{get jwks(){var r,s;return(s=(r=is[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(r){is[this.storageKey]=Object.assign(Object.assign({},is[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,s;return(s=(r=is[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){is[this.storageKey]=Object.assign(Object.assign({},is[this.storageKey]),{cachedAt:r})}constructor(r){var s,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ii.nextInstanceID,ii.nextInstanceID+=1,this.instanceID>0&&zt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},Fg),r);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new vg({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=jh(o.fetch),this.lock=o.lock||Kd,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:zt()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=wg:this.lock=Kd,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Ug(this)},this.persistSession?(o.storage?this.storage=o.storage:kh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Vd(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Vd(this.memoryStorage)),zt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}_debug(...r){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${bh}) ${new Date().toISOString()}`,...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{const s=Qp(window.location.href);let a="none";if(this._isImplicitGrantCallback(s)?a="implicit":await this._isPKCECallback(s)&&(a="pkce"),zt()&&this.detectSessionInUrl&&a!=="none"){const{data:o,error:c}=await this._getSessionFromURL(s,a);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),Hp(c)){const g=(r=c.details)===null||r===void 0?void 0:r.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:h,redirectType:m}=o;return this._debug("#_initialize()","detected session in URL",h,"redirect type",m),await this._saveSession(h),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return he(s)?{error:s}:{error:new _n("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var s,a,o;try{const c=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(s=r?.options)===null||s===void 0?void 0:s.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(o=r?.options)===null||o===void 0?void 0:o.captchaToken}},xform:sr}),{data:h,error:m}=c;if(m||!h)return{data:{user:null,session:null},error:m};const g=h.session,y=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:y,session:g},error:null}}catch(c){if(he(c))return{data:{user:null,session:null},error:c};throw c}}async signUp(r){var s,a,o;try{let c;if("email"in r){const{email:v,password:_,options:w}=r;let A=null,T=null;this.flowType==="pkce"&&([A,T]=await rs(this.storage,this.storageKey)),c=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:v,password:_,data:(s=w?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:A,code_challenge_method:T},xform:sr})}else if("phone"in r){const{phone:v,password:_,options:w}=r;c=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:_,data:(a=w?.data)!==null&&a!==void 0?a:{},channel:(o=w?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:sr})}else throw new xa("You must provide either an email or phone number and a password");const{data:h,error:m}=c;if(m||!h)return{data:{user:null,session:null},error:m};const g=h.session,y=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:y,session:g},error:null}}catch(c){if(he(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithPassword(r){try{let s;if("email"in r){const{email:c,password:h,options:m}=r;s=await ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:h,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Hd})}else if("phone"in r){const{phone:c,password:h,options:m}=r;s=await ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:h,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Hd})}else throw new xa("You must provide either an email or phone number and a password");const{data:a,error:o}=s;return o?{data:{user:null,session:null},error:o}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new ts}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:o})}catch(s){if(he(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(r){var s,a,o,c;return await this._handleProviderSignIn(r.provider,{redirectTo:(s=r.options)===null||s===void 0?void 0:s.redirectTo,scopes:(a=r.options)===null||a===void 0?void 0:a.scopes,queryParams:(o=r.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(c=r.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:s}=r;switch(s){case"ethereum":return await this.signInWithEthereum(r);case"solana":return await this.signInWithSolana(r);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(r){var s,a,o,c,h,m,g,y,v,_,w;let A,T;if("message"in r)A=r.message,T=r.signature;else{const{chain:E,wallet:P,statement:D,options:R}=r;let $;if(zt())if(typeof P=="object")$=P;else{const we=window;if("ethereum"in we&&typeof we.ethereum=="object"&&"request"in we.ethereum&&typeof we.ethereum.request=="function")$=we.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof P!="object"||!R?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");$=P}const I=new URL((s=R?.url)!==null&&s!==void 0?s:window.location.href),V=await $.request({method:"eth_requestAccounts"}).then(we=>we).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!V||V.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const B=Eh(V[0]);let te=(a=R?.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!te){const we=await $.request({method:"eth_chainId"});te=_g(we)}const fe={domain:I.host,address:B,statement:D,uri:I.href,version:"1",chainId:te,nonce:(o=R?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(h=(c=R?.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(m=R?.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(g=R?.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(y=R?.signInWithEthereum)===null||y===void 0?void 0:y.requestId,resources:(v=R?.signInWithEthereum)===null||v===void 0?void 0:v.resources};A=kg(fe),T=await $.request({method:"personal_sign",params:[Sg(A),B]})}try{const{data:E,error:P}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:A,signature:T},!((_=r.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(w=r.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:sr});if(P)throw P;return!E||!E.session||!E.user?{data:{user:null,session:null},error:new ts}:(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),{data:Object.assign({},E),error:P})}catch(E){if(he(E))return{data:{user:null,session:null},error:E};throw E}}async signInWithSolana(r){var s,a,o,c,h,m,g,y,v,_,w,A;let T,E;if("message"in r)T=r.message,E=r.signature;else{const{chain:P,wallet:D,statement:R,options:$}=r;let I;if(zt())if(typeof D=="object")I=D;else{const B=window;if("solana"in B&&typeof B.solana=="object"&&("signIn"in B.solana&&typeof B.solana.signIn=="function"||"signMessage"in B.solana&&typeof B.solana.signMessage=="function"))I=B.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof D!="object"||!$?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=D}const V=new URL((s=$?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in I&&I.signIn){const B=await I.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},$?.signInWithSolana),{version:"1",domain:V.host,uri:V.href}),R?{statement:R}:null));let te;if(Array.isArray(B)&&B[0]&&typeof B[0]=="object")te=B[0];else if(B&&typeof B=="object"&&"signedMessage"in B&&"signature"in B)te=B;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in te&&"signature"in te&&(typeof te.signedMessage=="string"||te.signedMessage instanceof Uint8Array)&&te.signature instanceof Uint8Array)T=typeof te.signedMessage=="string"?te.signedMessage:new TextDecoder().decode(te.signedMessage),E=te.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in I)||typeof I.signMessage!="function"||!("publicKey"in I)||typeof I!="object"||!I.publicKey||!("toBase58"in I.publicKey)||typeof I.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");T=[`${V.host} wants you to sign in with your Solana account:`,I.publicKey.toBase58(),...R?["",R,""]:[""],"Version: 1",`URI: ${V.href}`,`Issued At: ${(o=(a=$?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((c=$?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${$.signInWithSolana.notBefore}`]:[],...!((h=$?.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${$.signInWithSolana.expirationTime}`]:[],...!((m=$?.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${$.signInWithSolana.chainId}`]:[],...!((g=$?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${$.signInWithSolana.nonce}`]:[],...!((y=$?.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${$.signInWithSolana.requestId}`]:[],...!((_=(v=$?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||_===void 0)&&_.length?["Resources",...$.signInWithSolana.resources.map(te=>`- ${te}`)]:[]].join(`
`);const B=await I.signMessage(new TextEncoder().encode(T),"utf8");if(!B||!(B instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=B}}try{const{data:P,error:D}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:T,signature:Sn(E)},!((w=r.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(A=r.options)===null||A===void 0?void 0:A.captchaToken}}:null),xform:sr});if(D)throw D;return!P||!P.session||!P.user?{data:{user:null,session:null},error:new ts}:(P.session&&(await this._saveSession(P.session),await this._notifyAllSubscribers("SIGNED_IN",P.session)),{data:Object.assign({},P),error:D})}catch(P){if(he(P))return{data:{user:null,session:null},error:P};throw P}}async _exchangeCodeForSession(r){const s=await xn(this.storage,`${this.storageKey}-code-verifier`),[a,o]=(s??"").split("/");try{const{data:c,error:h}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:a},xform:sr});if(await Zr(this.storage,`${this.storageKey}-code-verifier`),h)throw h;return!c||!c.session||!c.user?{data:{user:null,session:null,redirectType:null},error:new ts}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:Object.assign(Object.assign({},c),{redirectType:o??null}),error:h})}catch(c){if(he(c))return{data:{user:null,session:null,redirectType:null},error:c};throw c}}async signInWithIdToken(r){try{const{options:s,provider:a,token:o,access_token:c,nonce:h}=r,m=await ve(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:o,access_token:c,nonce:h,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:sr}),{data:g,error:y}=m;return y?{data:{user:null,session:null},error:y}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new ts}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:y})}catch(s){if(he(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(r){var s,a,o,c,h;try{if("email"in r){const{email:m,options:g}=r;let y=null,v=null;this.flowType==="pkce"&&([y,v]=await rs(this.storage,this.storageKey));const{error:_}=await ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(s=g?.data)!==null&&s!==void 0?s:{},create_user:(a=g?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:y,code_challenge_method:v},redirectTo:g?.emailRedirectTo});return{data:{user:null,session:null},error:_}}if("phone"in r){const{phone:m,options:g}=r,{data:y,error:v}=await ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(o=g?.data)!==null&&o!==void 0?o:{},create_user:(c=g?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(h=g?.channel)!==null&&h!==void 0?h:"sms"}});return{data:{user:null,session:null,messageId:y?.message_id},error:v}}throw new xa("You must provide either an email or phone number.")}catch(m){if(he(m))return{data:{user:null,session:null},error:m};throw m}}async verifyOtp(r){var s,a;try{let o,c;"options"in r&&(o=(s=r.options)===null||s===void 0?void 0:s.redirectTo,c=(a=r.options)===null||a===void 0?void 0:a.captchaToken);const{data:h,error:m}=await ve(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:c}}),redirectTo:o,xform:sr});if(m)throw m;if(!h)throw new Error("An error occurred on token verification.");const g=h.session,y=h.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:y,session:g},error:null}}catch(o){if(he(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(r){var s,a,o;try{let c=null,h=null;return this.flowType==="pkce"&&([c,h]=await rs(this.storage,this.storageKey)),await ve(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(a=(s=r.options)===null||s===void 0?void 0:s.redirectTo)!==null&&a!==void 0?a:void 0}),!((o=r?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:h}),headers:this.headers,xform:mg})}catch(c){if(he(c))return{data:null,error:c};throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:s},error:a}=r;if(a)throw a;if(!s)throw new en;const{error:o}=await ve(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:o}})}catch(r){if(he(r))return{data:{user:null,session:null},error:r};throw r}}async resend(r){try{const s=`${this.url}/resend`;if("email"in r){const{email:a,type:o,options:c}=r,{error:h}=await ve(this.fetch,"POST",s,{headers:this.headers,body:{email:a,type:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:h}}else if("phone"in r){const{phone:a,type:o,options:c}=r,{data:h,error:m}=await ve(this.fetch,"POST",s,{headers:this.headers,body:{phone:a,type:o,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return{data:{user:null,session:null,messageId:h?.message_id},error:m}}throw new xa("You must provide either an email or phone number and a type")}catch(s){if(he(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(r,s){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await a,await s()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=s();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await r(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const s=await xn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?r=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const a=r.expires_at?r.expires_at*1e3-Date.now()<xl:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",r.expires_at),!a){if(this.userStorage){const h=await xn(this.userStorage,this.storageKey+"-user");h?.user?r.user=h.user:r.user=_l()}if(this.storage.isServer&&r.user){let h=this.suppressGetSessionWarning;r=new Proxy(r,{get:(g,y,v)=>(!h&&y==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),h=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,y,v))})}return{data:{session:r},error:null}}const{data:o,error:c}=await this._callRefreshToken(r.refresh_token);return c?{data:{session:null},error:c}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(r){return r?await this._getUser(r):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(r){try{return r?await ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:tn}):await this._useSession(async s=>{var a,o,c;const{data:h,error:m}=s;if(m)throw m;return!(!((a=h.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new en}:await ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(o=h.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0,xform:tn})})}catch(s){if(he(s))return Bp(s)&&(await this._removeSession(),await Zr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(r,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,s))}async _updateUser(r,s={}){try{return await this._useSession(async a=>{const{data:o,error:c}=a;if(c)throw c;if(!o.session)throw new en;const h=o.session;let m=null,g=null;this.flowType==="pkce"&&r.email!=null&&([m,g]=await rs(this.storage,this.storageKey));const{data:y,error:v}=await ve(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:m,code_challenge_method:g}),jwt:h.access_token,xform:tn});if(v)throw v;return h.user=y.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),{data:{user:h.user},error:null}})}catch(a){if(he(a))return{data:{user:null},error:a};throw a}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new en;const s=Date.now()/1e3;let a=s,o=!0,c=null;const{payload:h}=bl(r.access_token);if(h.exp&&(a=h.exp,o=a<=s),o){const{data:m,error:g}=await this._callRefreshToken(r.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!m)return{data:{user:null,session:null},error:null};c=m}else{const{data:m,error:g}=await this._getUser(r.access_token);if(g)throw g;c={access_token:r.access_token,refresh_token:r.refresh_token,user:m.user,token_type:"bearer",expires_in:a-s,expires_at:a},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return{data:{user:c.user,session:c},error:null}}catch(s){if(he(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async s=>{var a;if(!r){const{data:h,error:m}=s;if(m)throw m;r=(a=h.session)!==null&&a!==void 0?a:void 0}if(!r?.refresh_token)throw new en;const{data:o,error:c}=await this._callRefreshToken(r.refresh_token);return c?{data:{user:null,session:null},error:c}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(he(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(r,s){try{if(!zt())throw new wa("No browser detected.");if(r.error||r.error_description||r.error_code)throw new wa(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Ld("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new wa("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new Ld("No code detected.");const{data:R,error:$}=await this._exchangeCodeForSession(r.code);if($)throw $;const I=new URL(window.location.href);return I.searchParams.delete("code"),window.history.replaceState(window.history.state,"",I.toString()),{data:{session:R.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:o,access_token:c,refresh_token:h,expires_in:m,expires_at:g,token_type:y}=r;if(!c||!m||!h||!y)throw new wa("No session defined in URL");const v=Math.round(Date.now()/1e3),_=parseInt(m);let w=v+_;g&&(w=parseInt(g));const A=w-v;A*1e3<=as&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${A}s, should have been closer to ${_}s`);const T=w-_;v-T>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",T,w,v):v-T<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",T,w,v);const{data:E,error:P}=await this._getUser(c);if(P)throw P;const D={provider_token:a,provider_refresh_token:o,access_token:c,expires_in:_,expires_at:w,refresh_token:h,token_type:y,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:D,redirectType:r.type},error:null}}catch(a){if(he(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const s=await xn(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&s)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async s=>{var a;const{data:o,error:c}=s;if(c)return{error:c};const h=(a=o.session)===null||a===void 0?void 0:a.access_token;if(h){const{error:m}=await this.admin.signOut(h,r);if(m&&!(zp(m)&&(m.status===404||m.status===401||m.status===403)))return{error:m}}return r!=="others"&&(await this._removeSession(),await Zr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(r){const s=Yp(),a={id:s,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:a}}}async _emitInitialSession(r){return await this._useSession(async s=>{var a,o;try{const{data:{session:c},error:h}=s;if(h)throw h;await((a=this.stateChangeEmitters.get(r))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",r,"session",c)}catch(c){await((o=this.stateChangeEmitters.get(r))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",c),console.error(c)}})}async resetPasswordForEmail(r,s={}){let a=null,o=null;this.flowType==="pkce"&&([a,o]=await rs(this.storage,this.storageKey,!0));try{return await ve(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:a,code_challenge_method:o,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(c){if(he(c))return{data:null,error:c};throw c}}async getUserIdentities(){var r;try{const{data:s,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(r=s.user.identities)!==null&&r!==void 0?r:[]},error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}}async linkIdentity(r){return"token"in r?this.linkIdentityIdToken(r):this.linkIdentityOAuth(r)}async linkIdentityOAuth(r){var s;try{const{data:a,error:o}=await this._useSession(async c=>{var h,m,g,y,v;const{data:_,error:w}=c;if(w)throw w;const A=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(h=r.options)===null||h===void 0?void 0:h.redirectTo,scopes:(m=r.options)===null||m===void 0?void 0:m.scopes,queryParams:(g=r.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await ve(this.fetch,"GET",A,{headers:this.headers,jwt:(v=(y=_.session)===null||y===void 0?void 0:y.access_token)!==null&&v!==void 0?v:void 0})});if(o)throw o;return zt()&&!(!((s=r.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(a?.url),{data:{provider:r.provider,url:a?.url},error:null}}catch(a){if(he(a))return{data:{provider:r.provider,url:null},error:a};throw a}}async linkIdentityIdToken(r){return await this._useSession(async s=>{var a;try{const{error:o,data:{session:c}}=s;if(o)throw o;const{options:h,provider:m,token:g,access_token:y,nonce:v}=r,_=await ve(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=c?.access_token)!==null&&a!==void 0?a:void 0,body:{provider:m,id_token:g,access_token:y,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:sr}),{data:w,error:A}=_;return A?{data:{user:null,session:null},error:A}:!w||!w.session||!w.user?{data:{user:null,session:null},error:new ts}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),{data:w,error:A})}catch(o){if(he(o))return{data:{user:null,session:null},error:o};throw o}})}async unlinkIdentity(r){try{return await this._useSession(async s=>{var a,o;const{data:c,error:h}=s;if(h)throw h;return await ve(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(o=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0})})}catch(s){if(he(s))return{data:null,error:s};throw s}}async _refreshAccessToken(r){const s=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(s,"begin");try{const a=Date.now();return await eg(async o=>(o>0&&await Zp(200*Math.pow(2,o-1)),this._debug(s,"refreshing attempt",o),await ve(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:sr})),(o,c)=>{const h=200*Math.pow(2,o);return c&&wl(c)&&Date.now()+h-a<as})}catch(a){if(this._debug(s,"error",a),he(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(s,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,s){const a=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",s,"url",a),zt()&&!s.skipBrowserRedirect&&window.location.assign(a),{data:{provider:r,url:a},error:null}}async _recoverAndRefresh(){var r,s;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const o=await xn(this.storage,this.storageKey);if(o&&this.userStorage){let h=await xn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:o.user},await os(this.userStorage,this.storageKey+"-user",h)),o.user=(r=h?.user)!==null&&r!==void 0?r:_l()}else if(o&&!o.user&&!o.user){const h=await xn(this.storage,this.storageKey+"-user");h&&h?.user?(o.user=h.user,await Zr(this.storage,this.storageKey+"-user"),await os(this.storage,this.storageKey,o)):o.user=_l()}if(this._debug(a,"session from storage",o),!this._isValidSession(o)){this._debug(a,"session is not valid"),o!==null&&await this._removeSession();return}const c=((s=o.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<xl;if(this._debug(a,`session has${c?"":" not"} expired with margin of ${xl}s`),c){if(this.autoRefreshToken&&o.refresh_token){const{error:h}=await this._callRefreshToken(o.refresh_token);h&&(console.error(h),wl(h)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:m}=await this._getUser(o.access_token);!m&&h?.user?(o.user=h.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(a,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(a,"error",o),console.error(o);return}finally{this._debug(a,"end")}}async _callRefreshToken(r){var s,a;if(!r)throw new en;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Ca;const{data:c,error:h}=await this._refreshAccessToken(r);if(h)throw h;if(!c.session)throw new en;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const m={data:c.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(c){if(this._debug(o,"error",c),he(c)){const h={data:null,error:c};return wl(c)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(h),h}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(c),c}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(r,s,a=!0){const o=`#_notifyAllSubscribers(${r})`;this._debug(o,"begin",s,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:r,session:s});const c=[],h=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(r,s)}catch(g){c.push(g)}});if(await Promise.all(h),c.length>0){for(let m=0;m<c.length;m+=1)console.error(c[m]);throw c[0]}}finally{this._debug(o,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0;const s=Object.assign({},r),a=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&s.user&&await os(this.userStorage,this.storageKey+"-user",{user:s.user});const o=Object.assign({},s);delete o.user;const c=zd(o);await os(this.storage,this.storageKey,c)}else{const o=zd(s);await os(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await Zr(this.storage,this.storageKey),await Zr(this.storage,this.storageKey+"-code-verifier"),await Zr(this.storage,this.storageKey+"-user"),this.userStorage&&await Zr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&zt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",r)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),as);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async s=>{const{data:{session:a}}=s;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((a.expires_at*1e3-r)/as);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${as}ms, refresh threshold is ${Ll} ticks`),o<=Ll&&await this._callRefreshToken(a.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof Nh)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!zt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const s=`#_onVisibilityChanged(${r})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,s,a){const o=[`provider=${encodeURIComponent(s)}`];if(a?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&o.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[c,h]=await rs(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(h)}`});o.push(m.toString())}if(a?.queryParams){const c=new URLSearchParams(a.queryParams);o.push(c.toString())}return a?.skipBrowserRedirect&&o.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${r}?${o.join("&")}`}async _unenroll(r){try{return await this._useSession(async s=>{var a;const{data:o,error:c}=s;return c?{data:null,error:c}:await ve(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token})})}catch(s){if(he(s))return{data:null,error:s};throw s}}async _enroll(r){try{return await this._useSession(async s=>{var a,o;const{data:c,error:h}=s;if(h)return{data:null,error:h};const m=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:r.factorType==="totp"?{issuer:r.issuer}:{}),{data:g,error:y}=await ve(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(a=c?.session)===null||a===void 0?void 0:a.access_token});return y?{data:null,error:y}:(r.factorType==="totp"&&g.type==="totp"&&(!((o=g?.totp)===null||o===void 0)&&o.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(s){if(he(s))return{data:null,error:s};throw s}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var a;const{data:o,error:c}=s;if(c)return{data:null,error:c};const h=Object.assign({challenge_id:r.challengeId},"webauthn"in r?{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_response:r.webauthn.type==="create"?Og(r.webauthn.credential_response):Dg(r.webauthn.credential_response)})}:{code:r.code}),{data:m,error:g}=await ve(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:h,headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token});return g?{data:null,error:g}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),{data:m,error:g})})}catch(s){if(he(s))return{data:null,error:s};throw s}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var a;const{data:o,error:c}=s;if(c)return{data:null,error:c};const h=await ve(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:r,headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token});if(h.error)return h;const{data:m}=h;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:Tg(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:Pg(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(he(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(r){const{data:s,error:a}=await this._challenge({factorId:r.factorId});return a?{data:null,error:a}:await this._verify({factorId:r.factorId,challengeId:s.id,code:r.code})}async _listFactors(){var r;const{data:{user:s},error:a}=await this.getUser();if(a)return{data:null,error:a};const o={all:[],phone:[],totp:[],webauthn:[]};for(const c of(r=s?.factors)!==null&&r!==void 0?r:[])o.all.push(c),c.status==="verified"&&o[c.factor_type].push(c);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async r=>{var s,a;const{data:{session:o},error:c}=r;if(c)return{data:null,error:c};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=bl(o.access_token);let m=null;h.aal&&(m=h.aal);let g=m;((a=(s=o.user.factors)===null||s===void 0?void 0:s.filter(_=>_.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(g="aal2");const v=h.amr||[];return{data:{currentLevel:m,nextLevel:g,currentAuthenticationMethods:v},error:null}}))}async fetchJwk(r,s={keys:[]}){let a=s.keys.find(m=>m.kid===r);if(a)return a;const o=Date.now();if(a=this.jwks.keys.find(m=>m.kid===r),a&&this.jwks_cached_at+Up>o)return a;const{data:c,error:h}=await ve(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=o,a=c.keys.find(m=>m.kid===r),!a)?null:a}async getClaims(r,s={}){try{let a=r;if(!a){const{data:A,error:T}=await this.getSession();if(T||!A.session)return{data:null,error:T};a=A.session.access_token}const{header:o,payload:c,signature:h,raw:{header:m,payload:g}}=bl(a);s?.allowExpired||og(c.exp);const y=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!y){const{error:A}=await this.getUser(a);if(A)throw A;return{data:{claims:c,header:o,signature:h},error:null}}const v=lg(o.alg),_=await crypto.subtle.importKey("jwk",y,v,!0,["verify"]);if(!await crypto.subtle.verify(v,_,h,Gp(`${m}.${g}`)))throw new Ul("Invalid JWT signature");return{data:{claims:c,header:o,signature:h},error:null}}catch(a){if(he(a))return{data:null,error:a};throw a}}}ii.nextInstanceID=0;const zg=ii;class Bg extends zg{constructor(r){super(r)}}var Hg=function(l,r,s,a){function o(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function m(v){try{y(a.next(v))}catch(_){h(_)}}function g(v){try{y(a.throw(v))}catch(_){h(_)}}function y(v){v.done?c(v.value):o(v.value).then(m,g)}y((a=a.apply(l,r||[])).next())})};class Wg{constructor(r,s,a){var o,c,h;this.supabaseUrl=r,this.supabaseKey=s;const m=Rp(r);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const g=`sb-${m.hostname.split(".")[0]}-auth-token`,y={db:kp,realtime:Np,auth:Object.assign(Object.assign({},jp),{storageKey:g}),global:Sp},v=Ap(a??{},y);this.storageKey=(o=v.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(c=v.global.headers)!==null&&c!==void 0?c:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(_,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((h=v.auth)!==null&&h!==void 0?h:{},this.headers,v.global.fetch),this.fetch=Pp(s,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new Fm(new URL("rest/v1",m).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),this.storage=new wp(this.storageUrl.href,this.headers,this.fetch,a?.storage),v.accessToken||this._listenForAuthEvents()}get functions(){return new Pm(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,s={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,s,a)}channel(r,s={config:{}}){return this.realtime.channel(r,s)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return Hg(this,void 0,void 0,function*(){var r,s;if(this.accessToken)return yield this.accessToken();const{data:a}=yield this.auth.getSession();return(s=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:s,detectSessionInUrl:a,storage:o,userStorage:c,storageKey:h,flowType:m,lock:g,debug:y},v,_){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Bg({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),v),storageKey:h,autoRefreshToken:r,persistSession:s,detectSessionInUrl:a,storage:o,userStorage:c,flowType:m,lock:g,debug:y,fetch:_,hasCustomAuthorizationHeader:Object.keys(this.headers).some(A=>A.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new np(this.realtimeUrl.href,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,a)=>{this._handleTokenChanged(s,"CLIENT",a?.access_token)})}_handleTokenChanged(r,s,a){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Vg=(l,r,s)=>new Wg(l,r,s);function qg(){if(typeof window<"u"||typeof process>"u")return!1;const l=process.version;if(l==null)return!1;const r=l.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}qg()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Kg="https://ljevjenvmimgmodpygwn.supabase.co",Gg="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxqZXZqZW52bWltZ21vZHB5Z3duIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg0NjgwODIsImV4cCI6MjA3NDA0NDA4Mn0.ZU_hzcFBWC7QZhsoVROZHIdwKWmoAwrfiKxJOUeJfi4",nn=Vg(Kg,Gg);async function Jg(l){const{error:r}=await nn.auth.signInWithOtp({phone:l,options:{channel:"sms"}});return{ok:!r,error:r}}async function Yg(l,r){const{error:s}=await nn.auth.verifyOtp({phone:l,token:r,type:"sms"});return{ok:!s,error:s}}const Qg=Object.freeze(Object.defineProperty({__proto__:null,signInWithPhoneOtp:Jg,verifyPhoneOtp:Yg},Symbol.toStringTag,{value:"Module"}));async function Xg(l){const r=l.trim().toLowerCase(),{error:s}=await nn.auth.signInWithOtp({email:r});return{ok:!s,error:s}}async function Zg(l,r){const s=l.trim().toLowerCase(),{error:a}=await nn.auth.verifyOtp({email:s,token:r,type:"email"});return{ok:!a,error:a}}const ey=Object.freeze(Object.defineProperty({__proto__:null,signInWithOtp:Xg,verifyOtp:Zg},Symbol.toStringTag,{value:"Module"}));async function ty(){const{data:l,error:r}=await nn.auth.getSession();return{session:l.session,user:l.session?.user??null,error:r}}function ry(l){const{data:r}=nn.auth.onAuthStateChange((s,a)=>{l(a)});return()=>r.subscription.unsubscribe()}async function ny(){const{data:l}=await nn.auth.getUser();return l.user??null}async function sy(){const{error:l}=await nn.auth.signOut();return{error:l}}const iy=Object.freeze(Object.defineProperty({__proto__:null,getSession:ty,getUser:ny,onAuthStateChange:ry,signOut:sy},Symbol.toStringTag,{value:"Module"}));window.authHelpers={phone:Qg,email:ey,session:iy};var ba={},kl={exports:{}},Dt={},jl={exports:{}},Nl={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gd;function ay(){return Gd||(Gd=1,(function(l){function r(J,ae){var Q=J.length;J.push(ae);e:for(;0<Q;){var C=Q-1>>>1,F=J[C];if(0<o(F,ae))J[C]=ae,J[Q]=F,Q=C;else break e}}function s(J){return J.length===0?null:J[0]}function a(J){if(J.length===0)return null;var ae=J[0],Q=J.pop();if(Q!==ae){J[0]=Q;e:for(var C=0,F=J.length,me=F>>>1;C<me;){var xe=2*(C+1)-1,_e=J[xe],Se=xe+1,Ee=J[Se];if(0>o(_e,Q))Se<F&&0>o(Ee,_e)?(J[C]=Ee,J[Se]=Q,C=Se):(J[C]=_e,J[xe]=Q,C=xe);else if(Se<F&&0>o(Ee,Q))J[C]=Ee,J[Se]=Q,C=Se;else break e}}return ae}function o(J,ae){var Q=J.sortIndex-ae.sortIndex;return Q!==0?Q:J.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;l.unstable_now=function(){return c.now()}}else{var h=Date,m=h.now();l.unstable_now=function(){return h.now()-m}}var g=[],y=[],v=1,_=null,w=3,A=!1,T=!1,E=!1,P=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(J){for(var ae=s(y);ae!==null;){if(ae.callback===null)a(y);else if(ae.startTime<=J)a(y),ae.sortIndex=ae.expirationTime,r(g,ae);else break;ae=s(y)}}function I(J){if(E=!1,$(J),!T)if(s(g)!==null)T=!0,Te(V);else{var ae=s(y);ae!==null&&Ne(I,ae.startTime-J)}}function V(J,ae){T=!1,E&&(E=!1,D(fe),fe=-1),A=!0;var Q=w;try{for($(ae),_=s(g);_!==null&&(!(_.expirationTime>ae)||J&&!Me());){var C=_.callback;if(typeof C=="function"){_.callback=null,w=_.priorityLevel;var F=C(_.expirationTime<=ae);ae=l.unstable_now(),typeof F=="function"?_.callback=F:_===s(g)&&a(g),$(ae)}else a(g);_=s(g)}if(_!==null)var me=!0;else{var xe=s(y);xe!==null&&Ne(I,xe.startTime-ae),me=!1}return me}finally{_=null,w=Q,A=!1}}var B=!1,te=null,fe=-1,we=5,je=-1;function Me(){return!(l.unstable_now()-je<we)}function Ge(){if(te!==null){var J=l.unstable_now();je=J;var ae=!0;try{ae=te(!0,J)}finally{ae?Le():(B=!1,te=null)}}else B=!1}var Le;if(typeof R=="function")Le=function(){R(Ge)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,nt=be.port2;be.port1.onmessage=Ge,Le=function(){nt.postMessage(null)}}else Le=function(){P(Ge,0)};function Te(J){te=J,B||(B=!0,Le())}function Ne(J,ae){fe=P(function(){J(l.unstable_now())},ae)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(J){J.callback=null},l.unstable_continueExecution=function(){T||A||(T=!0,Te(V))},l.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):we=0<J?Math.floor(1e3/J):5},l.unstable_getCurrentPriorityLevel=function(){return w},l.unstable_getFirstCallbackNode=function(){return s(g)},l.unstable_next=function(J){switch(w){case 1:case 2:case 3:var ae=3;break;default:ae=w}var Q=w;w=ae;try{return J()}finally{w=Q}},l.unstable_pauseExecution=function(){},l.unstable_requestPaint=function(){},l.unstable_runWithPriority=function(J,ae){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var Q=w;w=J;try{return ae()}finally{w=Q}},l.unstable_scheduleCallback=function(J,ae,Q){var C=l.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?C+Q:C):Q=C,J){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=Q+F,J={id:v++,callback:ae,priorityLevel:J,startTime:Q,expirationTime:F,sortIndex:-1},Q>C?(J.sortIndex=Q,r(y,J),s(g)===null&&J===s(y)&&(E?(D(fe),fe=-1):E=!0,Ne(I,Q-C))):(J.sortIndex=F,r(g,J),T||A||(T=!0,Te(V))),J},l.unstable_shouldYield=Me,l.unstable_wrapCallback=function(J){var ae=w;return function(){var Q=w;w=ae;try{return J.apply(this,arguments)}finally{w=Q}}}})(Nl)),Nl}var Jd;function oy(){return Jd||(Jd=1,jl.exports=ay()),jl.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yd;function ly(){if(Yd)return Dt;Yd=1;var l=zl(),r=oy();function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function c(e,t){h(e,t),h(e+"Capture",t)}function h(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},_={};function w(e){return g.call(_,e)?!0:g.call(v,e)?!1:y.test(e)?_[e]=!0:(v[e]=!0,!1)}function A(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function T(e,t,n,i){if(t===null||typeof t>"u"||A(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function E(e,t,n,i,d,f,p){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=d,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=f,this.removeEmptyString=p}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){P[e]=new E(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];P[t]=new E(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){P[e]=new E(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){P[e]=new E(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){P[e]=new E(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){P[e]=new E(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){P[e]=new E(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){P[e]=new E(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){P[e]=new E(e,5,!1,e.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function R(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(D,R);P[t]=new E(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(D,R);P[t]=new E(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(D,R);P[t]=new E(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){P[e]=new E(e,1,!1,e.toLowerCase(),null,!1,!1)}),P.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){P[e]=new E(e,1,!1,e.toLowerCase(),null,!0,!0)});function $(e,t,n,i){var d=P.hasOwnProperty(t)?P[t]:null;(d!==null?d.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(T(t,n,d,i)&&(n=null),i||d===null?w(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):d.mustUseProperty?e[d.propertyName]=n===null?d.type===3?!1:"":n:(t=d.attributeName,i=d.attributeNamespace,n===null?e.removeAttribute(t):(d=d.type,n=d===3||d===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var I=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,V=Symbol.for("react.element"),B=Symbol.for("react.portal"),te=Symbol.for("react.fragment"),fe=Symbol.for("react.strict_mode"),we=Symbol.for("react.profiler"),je=Symbol.for("react.provider"),Me=Symbol.for("react.context"),Ge=Symbol.for("react.forward_ref"),Le=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),nt=Symbol.for("react.memo"),Te=Symbol.for("react.lazy"),Ne=Symbol.for("react.offscreen"),J=Symbol.iterator;function ae(e){return e===null||typeof e!="object"?null:(e=J&&e[J]||e["@@iterator"],typeof e=="function"?e:null)}var Q=Object.assign,C;function F(e){if(C===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);C=t&&t[1]||""}return`
`+C+e}var me=!1;function xe(e,t){if(!e||me)return"";me=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(U){var i=U}Reflect.construct(e,[],t)}else{try{t.call()}catch(U){i=U}e.call(t.prototype)}else{try{throw Error()}catch(U){i=U}e()}}catch(U){if(U&&i&&typeof U.stack=="string"){for(var d=U.stack.split(`
`),f=i.stack.split(`
`),p=d.length-1,b=f.length-1;1<=p&&0<=b&&d[p]!==f[b];)b--;for(;1<=p&&0<=b;p--,b--)if(d[p]!==f[b]){if(p!==1||b!==1)do if(p--,b--,0>b||d[p]!==f[b]){var S=`
`+d[p].replace(" at new "," at ");return e.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",e.displayName)),S}while(1<=p&&0<=b);break}}}finally{me=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function _e(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=xe(e.type,!1),e;case 11:return e=xe(e.type.render,!1),e;case 1:return e=xe(e.type,!0),e;default:return""}}function Se(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case te:return"Fragment";case B:return"Portal";case we:return"Profiler";case fe:return"StrictMode";case Le:return"Suspense";case be:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Me:return(e.displayName||"Context")+".Consumer";case je:return(e._context.displayName||"Context")+".Provider";case Ge:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case nt:return t=e.displayName||null,t!==null?t:Se(e.type)||"Memo";case Te:t=e._payload,e=e._init;try{return Se(e(t))}catch{}}return null}function Ee(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Se(t);case 8:return t===fe?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function pe(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function De(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ae(e){var t=De(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var d=n.get,f=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return d.call(this)},set:function(p){i=""+p,f.call(this,p)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(p){i=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Z(e){e._valueTracker||(e._valueTracker=Ae(e))}function ge(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=De(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function oe(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function K(e,t){var n=t.checked;return Q({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function le(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=pe(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ce(e,t){t=t.checked,t!=null&&$(e,"checked",t,!1)}function Pe(e,t){ce(e,t);var n=pe(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ft(e,t.type,n):t.hasOwnProperty("defaultValue")&&ft(e,t.type,pe(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function We(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ft(e,t,n){(t!=="number"||oe(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Rt=Array.isArray;function Ve(e,t,n,i){if(e=e.options,t){t={};for(var d=0;d<n.length;d++)t["$"+n[d]]=!0;for(n=0;n<e.length;n++)d=t.hasOwnProperty("$"+e[n].value),e[n].selected!==d&&(e[n].selected=d),d&&i&&(e[n].defaultSelected=!0)}else{for(n=""+pe(n),t=null,d=0;d<e.length;d++){if(e[d].value===n){e[d].selected=!0,i&&(e[d].defaultSelected=!0);return}t!==null||e[d].disabled||(t=e[d])}t!==null&&(t.selected=!0)}}function Nr(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(s(91));return Q({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function fr(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(s(92));if(Rt(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:pe(n)}}function ds(e,t){var n=pe(t.value),i=pe(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function hs(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function li(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fs(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?li(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Er,ci=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,d){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,d)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Er=Er||document.createElement("div"),Er.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Er.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Cr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var sn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ui=["Webkit","ms","Moz","O"];Object.keys(sn).forEach(function(e){ui.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),sn[t]=sn[e]})});function Tr(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||sn.hasOwnProperty(e)&&sn[e]?(""+t).trim():t+"px"}function Pr(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,d=Tr(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,d):e[n]=d}}var Ta=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function It(e,t){if(t){if(Ta[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(s(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(t.style!=null&&typeof t.style!="object")throw Error(s(62))}}function ms(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ps=null;function gs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Re=null,mr=null,x=null;function k(e){if(e=$s(e)){if(typeof Re!="function")throw Error(s(280));var t=e.stateNode;t&&(t=Di(t),Re(e.stateNode,e.type,t))}}function M(e){mr?x?x.push(e):x=[e]:mr=e}function N(){if(mr){var e=mr,t=x;if(x=mr=null,k(e),t)for(e=0;e<t.length;e++)k(t[e])}}function Y(e,t){return e(t)}function Ie(){}var mt=!1;function pr(e,t,n){if(mt)return e(t,n);mt=!0;try{return Y(e,t,n)}finally{mt=!1,(mr!==null||x!==null)&&(Ie(),N())}}function pt(e,t){var n=e.stateNode;if(n===null)return null;var i=Di(n);if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(s(231,t,typeof n));return n}var gr=!1;if(m)try{var Bt={};Object.defineProperty(Bt,"passive",{get:function(){gr=!0}}),window.addEventListener("test",Bt,Bt),window.removeEventListener("test",Bt,Bt)}catch{gr=!1}function Or(e,t,n,i,d,f,p,b,S){var U=Array.prototype.slice.call(arguments,3);try{t.apply(n,U)}catch(W){this.onError(W)}}var St=!1,Dr=null,jn=!1,ys=null,di={onError:function(e){St=!0,Dr=e}};function vs(e,t,n,i,d,f,p,b,S){St=!1,Dr=null,Or.apply(di,arguments)}function X(e,t,n,i,d,f,p,b,S){if(vs.apply(this,arguments),St){if(St){var U=Dr;St=!1,Dr=null}else throw Error(s(198));jn||(jn=!0,ys=U)}}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function kt(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Lt(e){if(qe(e)!==e)throw Error(s(188))}function jt(e){var t=e.alternate;if(!t){if(t=qe(e),t===null)throw Error(s(188));return t!==e?null:e}for(var n=e,i=t;;){var d=n.return;if(d===null)break;var f=d.alternate;if(f===null){if(i=d.return,i!==null){n=i;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===n)return Lt(d),e;if(f===i)return Lt(d),t;f=f.sibling}throw Error(s(188))}if(n.return!==i.return)n=d,i=f;else{for(var p=!1,b=d.child;b;){if(b===n){p=!0,n=d,i=f;break}if(b===i){p=!0,i=d,n=f;break}b=b.sibling}if(!p){for(b=f.child;b;){if(b===n){p=!0,n=f,i=d;break}if(b===i){p=!0,i=f,n=d;break}b=b.sibling}if(!p)throw Error(s(189))}}if(n.alternate!==i)throw Error(s(190))}if(n.tag!==3)throw Error(s(188));return n.stateNode.current===n?e:t}function Ar(e){return e=jt(e),e!==null?wt(e):null}function wt(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=wt(e);if(t!==null)return t;e=e.sibling}return null}var Ht=r.unstable_scheduleCallback,Nn=r.unstable_cancelCallback,Pa=r.unstable_shouldYield,Oa=r.unstable_requestPaint,Je=r.unstable_now,Da=r.unstable_getCurrentPriorityLevel,Aa=r.unstable_ImmediatePriority,ql=r.unstable_UserBlockingPriority,hi=r.unstable_NormalPriority,Rh=r.unstable_LowPriority,Kl=r.unstable_IdlePriority,fi=null,ar=null;function Ih(e){if(ar&&typeof ar.onCommitFiberRoot=="function")try{ar.onCommitFiberRoot(fi,e,void 0,(e.current.flags&128)===128)}catch{}}var Yt=Math.clz32?Math.clz32:Mh,Lh=Math.log,$h=Math.LN2;function Mh(e){return e>>>=0,e===0?32:31-(Lh(e)/$h|0)|0}var mi=64,pi=4194304;function xs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function gi(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,d=e.suspendedLanes,f=e.pingedLanes,p=n&268435455;if(p!==0){var b=p&~d;b!==0?i=xs(b):(f&=p,f!==0&&(i=xs(f)))}else p=n&~d,p!==0?i=xs(p):f!==0&&(i=xs(f));if(i===0)return 0;if(t!==0&&t!==i&&(t&d)===0&&(d=i&-i,f=t&-t,d>=f||d===16&&(f&4194240)!==0))return t;if((i&4)!==0&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-Yt(t),d=1<<n,i|=e[n],t&=~d;return i}function Uh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fh(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,d=e.expirationTimes,f=e.pendingLanes;0<f;){var p=31-Yt(f),b=1<<p,S=d[p];S===-1?((b&n)===0||(b&i)!==0)&&(d[p]=Uh(b,t)):S<=t&&(e.expiredLanes|=b),f&=~b}}function Ra(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Gl(){var e=mi;return mi<<=1,(mi&4194240)===0&&(mi=64),e}function Ia(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ws(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Yt(t),e[t]=n}function zh(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var d=31-Yt(n),f=1<<d;t[d]=0,i[d]=-1,e[d]=-1,n&=~f}}function La(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Yt(n),d=1<<i;d&t|e[i]&t&&(e[i]|=t),n&=~d}}var $e=0;function Jl(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Yl,$a,Ql,Xl,Zl,Ma=!1,yi=[],Rr=null,Ir=null,Lr=null,bs=new Map,_s=new Map,$r=[],Bh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ec(e,t){switch(e){case"focusin":case"focusout":Rr=null;break;case"dragenter":case"dragleave":Ir=null;break;case"mouseover":case"mouseout":Lr=null;break;case"pointerover":case"pointerout":bs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_s.delete(t.pointerId)}}function Ss(e,t,n,i,d,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:f,targetContainers:[d]},t!==null&&(t=$s(t),t!==null&&$a(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,d!==null&&t.indexOf(d)===-1&&t.push(d),e)}function Hh(e,t,n,i,d){switch(t){case"focusin":return Rr=Ss(Rr,e,t,n,i,d),!0;case"dragenter":return Ir=Ss(Ir,e,t,n,i,d),!0;case"mouseover":return Lr=Ss(Lr,e,t,n,i,d),!0;case"pointerover":var f=d.pointerId;return bs.set(f,Ss(bs.get(f)||null,e,t,n,i,d)),!0;case"gotpointercapture":return f=d.pointerId,_s.set(f,Ss(_s.get(f)||null,e,t,n,i,d)),!0}return!1}function tc(e){var t=an(e.target);if(t!==null){var n=qe(t);if(n!==null){if(t=n.tag,t===13){if(t=kt(n),t!==null){e.blockedOn=t,Zl(e.priority,function(){Ql(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Fa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);ps=i,n.target.dispatchEvent(i),ps=null}else return t=$s(n),t!==null&&$a(t),e.blockedOn=n,!1;t.shift()}return!0}function rc(e,t,n){vi(e)&&n.delete(t)}function Wh(){Ma=!1,Rr!==null&&vi(Rr)&&(Rr=null),Ir!==null&&vi(Ir)&&(Ir=null),Lr!==null&&vi(Lr)&&(Lr=null),bs.forEach(rc),_s.forEach(rc)}function ks(e,t){e.blockedOn===t&&(e.blockedOn=null,Ma||(Ma=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Wh)))}function js(e){function t(d){return ks(d,e)}if(0<yi.length){ks(yi[0],e);for(var n=1;n<yi.length;n++){var i=yi[n];i.blockedOn===e&&(i.blockedOn=null)}}for(Rr!==null&&ks(Rr,e),Ir!==null&&ks(Ir,e),Lr!==null&&ks(Lr,e),bs.forEach(t),_s.forEach(t),n=0;n<$r.length;n++)i=$r[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<$r.length&&(n=$r[0],n.blockedOn===null);)tc(n),n.blockedOn===null&&$r.shift()}var En=I.ReactCurrentBatchConfig,xi=!0;function Vh(e,t,n,i){var d=$e,f=En.transition;En.transition=null;try{$e=1,Ua(e,t,n,i)}finally{$e=d,En.transition=f}}function qh(e,t,n,i){var d=$e,f=En.transition;En.transition=null;try{$e=4,Ua(e,t,n,i)}finally{$e=d,En.transition=f}}function Ua(e,t,n,i){if(xi){var d=Fa(e,t,n,i);if(d===null)no(e,t,i,wi,n),ec(e,i);else if(Hh(d,e,t,n,i))i.stopPropagation();else if(ec(e,i),t&4&&-1<Bh.indexOf(e)){for(;d!==null;){var f=$s(d);if(f!==null&&Yl(f),f=Fa(e,t,n,i),f===null&&no(e,t,i,wi,n),f===d)break;d=f}d!==null&&i.stopPropagation()}else no(e,t,i,null,n)}}var wi=null;function Fa(e,t,n,i){if(wi=null,e=gs(i),e=an(e),e!==null)if(t=qe(e),t===null)e=null;else if(n=t.tag,n===13){if(e=kt(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return wi=e,null}function nc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Da()){case Aa:return 1;case ql:return 4;case hi:case Rh:return 16;case Kl:return 536870912;default:return 16}default:return 16}}var Mr=null,za=null,bi=null;function sc(){if(bi)return bi;var e,t=za,n=t.length,i,d="value"in Mr?Mr.value:Mr.textContent,f=d.length;for(e=0;e<n&&t[e]===d[e];e++);var p=n-e;for(i=1;i<=p&&t[n-i]===d[f-i];i++);return bi=d.slice(e,1<i?1-i:void 0)}function _i(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Si(){return!0}function ic(){return!1}function $t(e){function t(n,i,d,f,p){this._reactName=n,this._targetInst=d,this.type=i,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(n=e[b],this[b]=n?n(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Si:ic,this.isPropagationStopped=ic,this}return Q(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Si)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Si)},persist:function(){},isPersistent:Si}),t}var Cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ba=$t(Cn),Ns=Q({},Cn,{view:0,detail:0}),Kh=$t(Ns),Ha,Wa,Es,ki=Q({},Ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Es&&(Es&&e.type==="mousemove"?(Ha=e.screenX-Es.screenX,Wa=e.screenY-Es.screenY):Wa=Ha=0,Es=e),Ha)},movementY:function(e){return"movementY"in e?e.movementY:Wa}}),ac=$t(ki),Gh=Q({},ki,{dataTransfer:0}),Jh=$t(Gh),Yh=Q({},Ns,{relatedTarget:0}),Va=$t(Yh),Qh=Q({},Cn,{animationName:0,elapsedTime:0,pseudoElement:0}),Xh=$t(Qh),Zh=Q({},Cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ef=$t(Zh),tf=Q({},Cn,{data:0}),oc=$t(tf),rf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function af(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=sf[e])?!!t[e]:!1}function qa(){return af}var of=Q({},Ns,{key:function(e){if(e.key){var t=rf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_i(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?nf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qa,charCode:function(e){return e.type==="keypress"?_i(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_i(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),lf=$t(of),cf=Q({},ki,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lc=$t(cf),uf=Q({},Ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qa}),df=$t(uf),hf=Q({},Cn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ff=$t(hf),mf=Q({},ki,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),pf=$t(mf),gf=[9,13,27,32],Ka=m&&"CompositionEvent"in window,Cs=null;m&&"documentMode"in document&&(Cs=document.documentMode);var yf=m&&"TextEvent"in window&&!Cs,cc=m&&(!Ka||Cs&&8<Cs&&11>=Cs),uc=" ",dc=!1;function hc(e,t){switch(e){case"keyup":return gf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Tn=!1;function vf(e,t){switch(e){case"compositionend":return fc(t);case"keypress":return t.which!==32?null:(dc=!0,uc);case"textInput":return e=t.data,e===uc&&dc?null:e;default:return null}}function xf(e,t){if(Tn)return e==="compositionend"||!Ka&&hc(e,t)?(e=sc(),bi=za=Mr=null,Tn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return cc&&t.locale!=="ko"?null:t.data;default:return null}}var wf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!wf[e.type]:t==="textarea"}function pc(e,t,n,i){M(i),t=Ti(t,"onChange"),0<t.length&&(n=new Ba("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Ts=null,Ps=null;function bf(e){Ac(e,0)}function ji(e){var t=Rn(e);if(ge(t))return e}function _f(e,t){if(e==="change")return t}var gc=!1;if(m){var Ga;if(m){var Ja="oninput"in document;if(!Ja){var yc=document.createElement("div");yc.setAttribute("oninput","return;"),Ja=typeof yc.oninput=="function"}Ga=Ja}else Ga=!1;gc=Ga&&(!document.documentMode||9<document.documentMode)}function vc(){Ts&&(Ts.detachEvent("onpropertychange",xc),Ps=Ts=null)}function xc(e){if(e.propertyName==="value"&&ji(Ps)){var t=[];pc(t,Ps,e,gs(e)),pr(bf,t)}}function Sf(e,t,n){e==="focusin"?(vc(),Ts=t,Ps=n,Ts.attachEvent("onpropertychange",xc)):e==="focusout"&&vc()}function kf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ji(Ps)}function jf(e,t){if(e==="click")return ji(t)}function Nf(e,t){if(e==="input"||e==="change")return ji(t)}function Ef(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qt=typeof Object.is=="function"?Object.is:Ef;function Os(e,t){if(Qt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var d=n[i];if(!g.call(t,d)||!Qt(e[d],t[d]))return!1}return!0}function wc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bc(e,t){var n=wc(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=wc(n)}}function _c(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_c(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Sc(){for(var e=window,t=oe();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=oe(e.document)}return t}function Ya(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Cf(e){var t=Sc(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&_c(n.ownerDocument.documentElement,n)){if(i!==null&&Ya(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var d=n.textContent.length,f=Math.min(i.start,d);i=i.end===void 0?f:Math.min(i.end,d),!e.extend&&f>i&&(d=i,i=f,f=d),d=bc(n,f);var p=bc(n,i);d&&p&&(e.rangeCount!==1||e.anchorNode!==d.node||e.anchorOffset!==d.offset||e.focusNode!==p.node||e.focusOffset!==p.offset)&&(t=t.createRange(),t.setStart(d.node,d.offset),e.removeAllRanges(),f>i?(e.addRange(t),e.extend(p.node,p.offset)):(t.setEnd(p.node,p.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Tf=m&&"documentMode"in document&&11>=document.documentMode,Pn=null,Qa=null,Ds=null,Xa=!1;function kc(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xa||Pn==null||Pn!==oe(i)||(i=Pn,"selectionStart"in i&&Ya(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Ds&&Os(Ds,i)||(Ds=i,i=Ti(Qa,"onSelect"),0<i.length&&(t=new Ba("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Pn)))}function Ni(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var On={animationend:Ni("Animation","AnimationEnd"),animationiteration:Ni("Animation","AnimationIteration"),animationstart:Ni("Animation","AnimationStart"),transitionend:Ni("Transition","TransitionEnd")},Za={},jc={};m&&(jc=document.createElement("div").style,"AnimationEvent"in window||(delete On.animationend.animation,delete On.animationiteration.animation,delete On.animationstart.animation),"TransitionEvent"in window||delete On.transitionend.transition);function Ei(e){if(Za[e])return Za[e];if(!On[e])return e;var t=On[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in jc)return Za[e]=t[n];return e}var Nc=Ei("animationend"),Ec=Ei("animationiteration"),Cc=Ei("animationstart"),Tc=Ei("transitionend"),Pc=new Map,Oc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ur(e,t){Pc.set(e,t),c(t,[e])}for(var eo=0;eo<Oc.length;eo++){var to=Oc[eo],Pf=to.toLowerCase(),Of=to[0].toUpperCase()+to.slice(1);Ur(Pf,"on"+Of)}Ur(Nc,"onAnimationEnd"),Ur(Ec,"onAnimationIteration"),Ur(Cc,"onAnimationStart"),Ur("dblclick","onDoubleClick"),Ur("focusin","onFocus"),Ur("focusout","onBlur"),Ur(Tc,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var As="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Df=new Set("cancel close invalid load scroll toggle".split(" ").concat(As));function Dc(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,X(i,t,void 0,e),e.currentTarget=null}function Ac(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],d=i.event;i=i.listeners;e:{var f=void 0;if(t)for(var p=i.length-1;0<=p;p--){var b=i[p],S=b.instance,U=b.currentTarget;if(b=b.listener,S!==f&&d.isPropagationStopped())break e;Dc(d,b,U),f=S}else for(p=0;p<i.length;p++){if(b=i[p],S=b.instance,U=b.currentTarget,b=b.listener,S!==f&&d.isPropagationStopped())break e;Dc(d,b,U),f=S}}}if(jn)throw e=ys,jn=!1,ys=null,e}function Be(e,t){var n=t[co];n===void 0&&(n=t[co]=new Set);var i=e+"__bubble";n.has(i)||(Rc(t,e,2,!1),n.add(i))}function ro(e,t,n){var i=0;t&&(i|=4),Rc(n,e,i,t)}var Ci="_reactListening"+Math.random().toString(36).slice(2);function Rs(e){if(!e[Ci]){e[Ci]=!0,a.forEach(function(n){n!=="selectionchange"&&(Df.has(n)||ro(n,!1,e),ro(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ci]||(t[Ci]=!0,ro("selectionchange",!1,t))}}function Rc(e,t,n,i){switch(nc(t)){case 1:var d=Vh;break;case 4:d=qh;break;default:d=Ua}n=d.bind(null,t,n,e),d=void 0,!gr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(d=!0),i?d!==void 0?e.addEventListener(t,n,{capture:!0,passive:d}):e.addEventListener(t,n,!0):d!==void 0?e.addEventListener(t,n,{passive:d}):e.addEventListener(t,n,!1)}function no(e,t,n,i,d){var f=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var p=i.tag;if(p===3||p===4){var b=i.stateNode.containerInfo;if(b===d||b.nodeType===8&&b.parentNode===d)break;if(p===4)for(p=i.return;p!==null;){var S=p.tag;if((S===3||S===4)&&(S=p.stateNode.containerInfo,S===d||S.nodeType===8&&S.parentNode===d))return;p=p.return}for(;b!==null;){if(p=an(b),p===null)return;if(S=p.tag,S===5||S===6){i=f=p;continue e}b=b.parentNode}}i=i.return}pr(function(){var U=f,W=gs(n),q=[];e:{var H=Pc.get(e);if(H!==void 0){var ee=Ba,ne=e;switch(e){case"keypress":if(_i(n)===0)break e;case"keydown":case"keyup":ee=lf;break;case"focusin":ne="focus",ee=Va;break;case"focusout":ne="blur",ee=Va;break;case"beforeblur":case"afterblur":ee=Va;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=ac;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=Jh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=df;break;case Nc:case Ec:case Cc:ee=Xh;break;case Tc:ee=ff;break;case"scroll":ee=Kh;break;case"wheel":ee=pf;break;case"copy":case"cut":case"paste":ee=ef;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=lc}var se=(t&4)!==0,Ze=!se&&e==="scroll",O=se?H!==null?H+"Capture":null:H;se=[];for(var j=U,L;j!==null;){L=j;var G=L.stateNode;if(L.tag===5&&G!==null&&(L=G,O!==null&&(G=pt(j,O),G!=null&&se.push(Is(j,G,L)))),Ze)break;j=j.return}0<se.length&&(H=new ee(H,ne,null,n,W),q.push({event:H,listeners:se}))}}if((t&7)===0){e:{if(H=e==="mouseover"||e==="pointerover",ee=e==="mouseout"||e==="pointerout",H&&n!==ps&&(ne=n.relatedTarget||n.fromElement)&&(an(ne)||ne[yr]))break e;if((ee||H)&&(H=W.window===W?W:(H=W.ownerDocument)?H.defaultView||H.parentWindow:window,ee?(ne=n.relatedTarget||n.toElement,ee=U,ne=ne?an(ne):null,ne!==null&&(Ze=qe(ne),ne!==Ze||ne.tag!==5&&ne.tag!==6)&&(ne=null)):(ee=null,ne=U),ee!==ne)){if(se=ac,G="onMouseLeave",O="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(se=lc,G="onPointerLeave",O="onPointerEnter",j="pointer"),Ze=ee==null?H:Rn(ee),L=ne==null?H:Rn(ne),H=new se(G,j+"leave",ee,n,W),H.target=Ze,H.relatedTarget=L,G=null,an(W)===U&&(se=new se(O,j+"enter",ne,n,W),se.target=L,se.relatedTarget=Ze,G=se),Ze=G,ee&&ne)t:{for(se=ee,O=ne,j=0,L=se;L;L=Dn(L))j++;for(L=0,G=O;G;G=Dn(G))L++;for(;0<j-L;)se=Dn(se),j--;for(;0<L-j;)O=Dn(O),L--;for(;j--;){if(se===O||O!==null&&se===O.alternate)break t;se=Dn(se),O=Dn(O)}se=null}else se=null;ee!==null&&Ic(q,H,ee,se,!1),ne!==null&&Ze!==null&&Ic(q,Ze,ne,se,!0)}}e:{if(H=U?Rn(U):window,ee=H.nodeName&&H.nodeName.toLowerCase(),ee==="select"||ee==="input"&&H.type==="file")var ie=_f;else if(mc(H))if(gc)ie=Nf;else{ie=kf;var ue=Sf}else(ee=H.nodeName)&&ee.toLowerCase()==="input"&&(H.type==="checkbox"||H.type==="radio")&&(ie=jf);if(ie&&(ie=ie(e,U))){pc(q,ie,n,W);break e}ue&&ue(e,H,U),e==="focusout"&&(ue=H._wrapperState)&&ue.controlled&&H.type==="number"&&ft(H,"number",H.value)}switch(ue=U?Rn(U):window,e){case"focusin":(mc(ue)||ue.contentEditable==="true")&&(Pn=ue,Qa=U,Ds=null);break;case"focusout":Ds=Qa=Pn=null;break;case"mousedown":Xa=!0;break;case"contextmenu":case"mouseup":case"dragend":Xa=!1,kc(q,n,W);break;case"selectionchange":if(Tf)break;case"keydown":case"keyup":kc(q,n,W)}var de;if(Ka)e:{switch(e){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else Tn?hc(e,n)&&(ye="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ye="onCompositionStart");ye&&(cc&&n.locale!=="ko"&&(Tn||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&Tn&&(de=sc()):(Mr=W,za="value"in Mr?Mr.value:Mr.textContent,Tn=!0)),ue=Ti(U,ye),0<ue.length&&(ye=new oc(ye,e,null,n,W),q.push({event:ye,listeners:ue}),de?ye.data=de:(de=fc(n),de!==null&&(ye.data=de)))),(de=yf?vf(e,n):xf(e,n))&&(U=Ti(U,"onBeforeInput"),0<U.length&&(W=new oc("onBeforeInput","beforeinput",null,n,W),q.push({event:W,listeners:U}),W.data=de))}Ac(q,t)})}function Is(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ti(e,t){for(var n=t+"Capture",i=[];e!==null;){var d=e,f=d.stateNode;d.tag===5&&f!==null&&(d=f,f=pt(e,n),f!=null&&i.unshift(Is(e,f,d)),f=pt(e,t),f!=null&&i.push(Is(e,f,d))),e=e.return}return i}function Dn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ic(e,t,n,i,d){for(var f=t._reactName,p=[];n!==null&&n!==i;){var b=n,S=b.alternate,U=b.stateNode;if(S!==null&&S===i)break;b.tag===5&&U!==null&&(b=U,d?(S=pt(n,f),S!=null&&p.unshift(Is(n,S,b))):d||(S=pt(n,f),S!=null&&p.push(Is(n,S,b)))),n=n.return}p.length!==0&&e.push({event:t,listeners:p})}var Af=/\r\n?/g,Rf=/\u0000|\uFFFD/g;function Lc(e){return(typeof e=="string"?e:""+e).replace(Af,`
`).replace(Rf,"")}function Pi(e,t,n){if(t=Lc(t),Lc(e)!==t&&n)throw Error(s(425))}function Oi(){}var so=null,io=null;function ao(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var oo=typeof setTimeout=="function"?setTimeout:void 0,If=typeof clearTimeout=="function"?clearTimeout:void 0,$c=typeof Promise=="function"?Promise:void 0,Lf=typeof queueMicrotask=="function"?queueMicrotask:typeof $c<"u"?function(e){return $c.resolve(null).then(e).catch($f)}:oo;function $f(e){setTimeout(function(){throw e})}function lo(e,t){var n=t,i=0;do{var d=n.nextSibling;if(e.removeChild(n),d&&d.nodeType===8)if(n=d.data,n==="/$"){if(i===0){e.removeChild(d),js(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=d}while(n);js(t)}function Fr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Mc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var An=Math.random().toString(36).slice(2),or="__reactFiber$"+An,Ls="__reactProps$"+An,yr="__reactContainer$"+An,co="__reactEvents$"+An,Mf="__reactListeners$"+An,Uf="__reactHandles$"+An;function an(e){var t=e[or];if(t)return t;for(var n=e.parentNode;n;){if(t=n[yr]||n[or]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Mc(e);e!==null;){if(n=e[or])return n;e=Mc(e)}return t}e=n,n=e.parentNode}return null}function $s(e){return e=e[or]||e[yr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Rn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function Di(e){return e[Ls]||null}var uo=[],In=-1;function zr(e){return{current:e}}function He(e){0>In||(e.current=uo[In],uo[In]=null,In--)}function Fe(e,t){In++,uo[In]=e.current,e.current=t}var Br={},gt=zr(Br),Nt=zr(!1),on=Br;function Ln(e,t){var n=e.type.contextTypes;if(!n)return Br;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var d={},f;for(f in n)d[f]=t[f];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=d),d}function Et(e){return e=e.childContextTypes,e!=null}function Ai(){He(Nt),He(gt)}function Uc(e,t,n){if(gt.current!==Br)throw Error(s(168));Fe(gt,t),Fe(Nt,n)}function Fc(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var d in i)if(!(d in t))throw Error(s(108,Ee(e)||"Unknown",d));return Q({},n,i)}function Ri(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Br,on=gt.current,Fe(gt,e),Fe(Nt,Nt.current),!0}function zc(e,t,n){var i=e.stateNode;if(!i)throw Error(s(169));n?(e=Fc(e,t,on),i.__reactInternalMemoizedMergedChildContext=e,He(Nt),He(gt),Fe(gt,e)):He(Nt),Fe(Nt,n)}var vr=null,Ii=!1,ho=!1;function Bc(e){vr===null?vr=[e]:vr.push(e)}function Ff(e){Ii=!0,Bc(e)}function Hr(){if(!ho&&vr!==null){ho=!0;var e=0,t=$e;try{var n=vr;for($e=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}vr=null,Ii=!1}catch(d){throw vr!==null&&(vr=vr.slice(e+1)),Ht(Aa,Hr),d}finally{$e=t,ho=!1}}return null}var $n=[],Mn=0,Li=null,$i=0,Wt=[],Vt=0,ln=null,xr=1,wr="";function cn(e,t){$n[Mn++]=$i,$n[Mn++]=Li,Li=e,$i=t}function Hc(e,t,n){Wt[Vt++]=xr,Wt[Vt++]=wr,Wt[Vt++]=ln,ln=e;var i=xr;e=wr;var d=32-Yt(i)-1;i&=~(1<<d),n+=1;var f=32-Yt(t)+d;if(30<f){var p=d-d%5;f=(i&(1<<p)-1).toString(32),i>>=p,d-=p,xr=1<<32-Yt(t)+d|n<<d|i,wr=f+e}else xr=1<<f|n<<d|i,wr=e}function fo(e){e.return!==null&&(cn(e,1),Hc(e,1,0))}function mo(e){for(;e===Li;)Li=$n[--Mn],$n[Mn]=null,$i=$n[--Mn],$n[Mn]=null;for(;e===ln;)ln=Wt[--Vt],Wt[Vt]=null,wr=Wt[--Vt],Wt[Vt]=null,xr=Wt[--Vt],Wt[Vt]=null}var Mt=null,Ut=null,Ke=!1,Xt=null;function Wc(e,t){var n=Jt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Vc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Mt=e,Ut=Fr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Mt=e,Ut=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=ln!==null?{id:xr,overflow:wr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Jt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Mt=e,Ut=null,!0):!1;default:return!1}}function po(e){return(e.mode&1)!==0&&(e.flags&128)===0}function go(e){if(Ke){var t=Ut;if(t){var n=t;if(!Vc(e,t)){if(po(e))throw Error(s(418));t=Fr(n.nextSibling);var i=Mt;t&&Vc(e,t)?Wc(i,n):(e.flags=e.flags&-4097|2,Ke=!1,Mt=e)}}else{if(po(e))throw Error(s(418));e.flags=e.flags&-4097|2,Ke=!1,Mt=e}}}function qc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Mt=e}function Mi(e){if(e!==Mt)return!1;if(!Ke)return qc(e),Ke=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ao(e.type,e.memoizedProps)),t&&(t=Ut)){if(po(e))throw Kc(),Error(s(418));for(;t;)Wc(e,t),t=Fr(t.nextSibling)}if(qc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ut=Fr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ut=null}}else Ut=Mt?Fr(e.stateNode.nextSibling):null;return!0}function Kc(){for(var e=Ut;e;)e=Fr(e.nextSibling)}function Un(){Ut=Mt=null,Ke=!1}function yo(e){Xt===null?Xt=[e]:Xt.push(e)}var zf=I.ReactCurrentBatchConfig;function Ms(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(s(309));var i=n.stateNode}if(!i)throw Error(s(147,e));var d=i,f=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===f?t.ref:(t=function(p){var b=d.refs;p===null?delete b[f]:b[f]=p},t._stringRef=f,t)}if(typeof e!="string")throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Ui(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Gc(e){var t=e._init;return t(e._payload)}function Jc(e){function t(O,j){if(e){var L=O.deletions;L===null?(O.deletions=[j],O.flags|=16):L.push(j)}}function n(O,j){if(!e)return null;for(;j!==null;)t(O,j),j=j.sibling;return null}function i(O,j){for(O=new Map;j!==null;)j.key!==null?O.set(j.key,j):O.set(j.index,j),j=j.sibling;return O}function d(O,j){return O=Qr(O,j),O.index=0,O.sibling=null,O}function f(O,j,L){return O.index=L,e?(L=O.alternate,L!==null?(L=L.index,L<j?(O.flags|=2,j):L):(O.flags|=2,j)):(O.flags|=1048576,j)}function p(O){return e&&O.alternate===null&&(O.flags|=2),O}function b(O,j,L,G){return j===null||j.tag!==6?(j=ll(L,O.mode,G),j.return=O,j):(j=d(j,L),j.return=O,j)}function S(O,j,L,G){var ie=L.type;return ie===te?W(O,j,L.props.children,G,L.key):j!==null&&(j.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===Te&&Gc(ie)===j.type)?(G=d(j,L.props),G.ref=Ms(O,j,L),G.return=O,G):(G=ca(L.type,L.key,L.props,null,O.mode,G),G.ref=Ms(O,j,L),G.return=O,G)}function U(O,j,L,G){return j===null||j.tag!==4||j.stateNode.containerInfo!==L.containerInfo||j.stateNode.implementation!==L.implementation?(j=cl(L,O.mode,G),j.return=O,j):(j=d(j,L.children||[]),j.return=O,j)}function W(O,j,L,G,ie){return j===null||j.tag!==7?(j=yn(L,O.mode,G,ie),j.return=O,j):(j=d(j,L),j.return=O,j)}function q(O,j,L){if(typeof j=="string"&&j!==""||typeof j=="number")return j=ll(""+j,O.mode,L),j.return=O,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case V:return L=ca(j.type,j.key,j.props,null,O.mode,L),L.ref=Ms(O,null,j),L.return=O,L;case B:return j=cl(j,O.mode,L),j.return=O,j;case Te:var G=j._init;return q(O,G(j._payload),L)}if(Rt(j)||ae(j))return j=yn(j,O.mode,L,null),j.return=O,j;Ui(O,j)}return null}function H(O,j,L,G){var ie=j!==null?j.key:null;if(typeof L=="string"&&L!==""||typeof L=="number")return ie!==null?null:b(O,j,""+L,G);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case V:return L.key===ie?S(O,j,L,G):null;case B:return L.key===ie?U(O,j,L,G):null;case Te:return ie=L._init,H(O,j,ie(L._payload),G)}if(Rt(L)||ae(L))return ie!==null?null:W(O,j,L,G,null);Ui(O,L)}return null}function ee(O,j,L,G,ie){if(typeof G=="string"&&G!==""||typeof G=="number")return O=O.get(L)||null,b(j,O,""+G,ie);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case V:return O=O.get(G.key===null?L:G.key)||null,S(j,O,G,ie);case B:return O=O.get(G.key===null?L:G.key)||null,U(j,O,G,ie);case Te:var ue=G._init;return ee(O,j,L,ue(G._payload),ie)}if(Rt(G)||ae(G))return O=O.get(L)||null,W(j,O,G,ie,null);Ui(j,G)}return null}function ne(O,j,L,G){for(var ie=null,ue=null,de=j,ye=j=0,ct=null;de!==null&&ye<L.length;ye++){de.index>ye?(ct=de,de=null):ct=de.sibling;var Oe=H(O,de,L[ye],G);if(Oe===null){de===null&&(de=ct);break}e&&de&&Oe.alternate===null&&t(O,de),j=f(Oe,j,ye),ue===null?ie=Oe:ue.sibling=Oe,ue=Oe,de=ct}if(ye===L.length)return n(O,de),Ke&&cn(O,ye),ie;if(de===null){for(;ye<L.length;ye++)de=q(O,L[ye],G),de!==null&&(j=f(de,j,ye),ue===null?ie=de:ue.sibling=de,ue=de);return Ke&&cn(O,ye),ie}for(de=i(O,de);ye<L.length;ye++)ct=ee(de,O,ye,L[ye],G),ct!==null&&(e&&ct.alternate!==null&&de.delete(ct.key===null?ye:ct.key),j=f(ct,j,ye),ue===null?ie=ct:ue.sibling=ct,ue=ct);return e&&de.forEach(function(Xr){return t(O,Xr)}),Ke&&cn(O,ye),ie}function se(O,j,L,G){var ie=ae(L);if(typeof ie!="function")throw Error(s(150));if(L=ie.call(L),L==null)throw Error(s(151));for(var ue=ie=null,de=j,ye=j=0,ct=null,Oe=L.next();de!==null&&!Oe.done;ye++,Oe=L.next()){de.index>ye?(ct=de,de=null):ct=de.sibling;var Xr=H(O,de,Oe.value,G);if(Xr===null){de===null&&(de=ct);break}e&&de&&Xr.alternate===null&&t(O,de),j=f(Xr,j,ye),ue===null?ie=Xr:ue.sibling=Xr,ue=Xr,de=ct}if(Oe.done)return n(O,de),Ke&&cn(O,ye),ie;if(de===null){for(;!Oe.done;ye++,Oe=L.next())Oe=q(O,Oe.value,G),Oe!==null&&(j=f(Oe,j,ye),ue===null?ie=Oe:ue.sibling=Oe,ue=Oe);return Ke&&cn(O,ye),ie}for(de=i(O,de);!Oe.done;ye++,Oe=L.next())Oe=ee(de,O,ye,Oe.value,G),Oe!==null&&(e&&Oe.alternate!==null&&de.delete(Oe.key===null?ye:Oe.key),j=f(Oe,j,ye),ue===null?ie=Oe:ue.sibling=Oe,ue=Oe);return e&&de.forEach(function(wm){return t(O,wm)}),Ke&&cn(O,ye),ie}function Ze(O,j,L,G){if(typeof L=="object"&&L!==null&&L.type===te&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case V:e:{for(var ie=L.key,ue=j;ue!==null;){if(ue.key===ie){if(ie=L.type,ie===te){if(ue.tag===7){n(O,ue.sibling),j=d(ue,L.props.children),j.return=O,O=j;break e}}else if(ue.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===Te&&Gc(ie)===ue.type){n(O,ue.sibling),j=d(ue,L.props),j.ref=Ms(O,ue,L),j.return=O,O=j;break e}n(O,ue);break}else t(O,ue);ue=ue.sibling}L.type===te?(j=yn(L.props.children,O.mode,G,L.key),j.return=O,O=j):(G=ca(L.type,L.key,L.props,null,O.mode,G),G.ref=Ms(O,j,L),G.return=O,O=G)}return p(O);case B:e:{for(ue=L.key;j!==null;){if(j.key===ue)if(j.tag===4&&j.stateNode.containerInfo===L.containerInfo&&j.stateNode.implementation===L.implementation){n(O,j.sibling),j=d(j,L.children||[]),j.return=O,O=j;break e}else{n(O,j);break}else t(O,j);j=j.sibling}j=cl(L,O.mode,G),j.return=O,O=j}return p(O);case Te:return ue=L._init,Ze(O,j,ue(L._payload),G)}if(Rt(L))return ne(O,j,L,G);if(ae(L))return se(O,j,L,G);Ui(O,L)}return typeof L=="string"&&L!==""||typeof L=="number"?(L=""+L,j!==null&&j.tag===6?(n(O,j.sibling),j=d(j,L),j.return=O,O=j):(n(O,j),j=ll(L,O.mode,G),j.return=O,O=j),p(O)):n(O,j)}return Ze}var Fn=Jc(!0),Yc=Jc(!1),Fi=zr(null),zi=null,zn=null,vo=null;function xo(){vo=zn=zi=null}function wo(e){var t=Fi.current;He(Fi),e._currentValue=t}function bo(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Bn(e,t){zi=e,vo=zn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Ct=!0),e.firstContext=null)}function qt(e){var t=e._currentValue;if(vo!==e)if(e={context:e,memoizedValue:t,next:null},zn===null){if(zi===null)throw Error(s(308));zn=e,zi.dependencies={lanes:0,firstContext:e}}else zn=zn.next=e;return t}var un=null;function _o(e){un===null?un=[e]:un.push(e)}function Qc(e,t,n,i){var d=t.interleaved;return d===null?(n.next=n,_o(t)):(n.next=d.next,d.next=n),t.interleaved=n,br(e,i)}function br(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Wr=!1;function So(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _r(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vr(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(Ce&2)!==0){var d=i.pending;return d===null?t.next=t:(t.next=d.next,d.next=t),i.pending=t,br(e,n)}return d=i.interleaved,d===null?(t.next=t,_o(i)):(t.next=d.next,d.next=t),i.interleaved=t,br(e,n)}function Bi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,La(e,n)}}function Zc(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var d=null,f=null;if(n=n.firstBaseUpdate,n!==null){do{var p={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};f===null?d=f=p:f=f.next=p,n=n.next}while(n!==null);f===null?d=f=t:f=f.next=t}else d=f=t;n={baseState:i.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Hi(e,t,n,i){var d=e.updateQueue;Wr=!1;var f=d.firstBaseUpdate,p=d.lastBaseUpdate,b=d.shared.pending;if(b!==null){d.shared.pending=null;var S=b,U=S.next;S.next=null,p===null?f=U:p.next=U,p=S;var W=e.alternate;W!==null&&(W=W.updateQueue,b=W.lastBaseUpdate,b!==p&&(b===null?W.firstBaseUpdate=U:b.next=U,W.lastBaseUpdate=S))}if(f!==null){var q=d.baseState;p=0,W=U=S=null,b=f;do{var H=b.lane,ee=b.eventTime;if((i&H)===H){W!==null&&(W=W.next={eventTime:ee,lane:0,tag:b.tag,payload:b.payload,callback:b.callback,next:null});e:{var ne=e,se=b;switch(H=t,ee=n,se.tag){case 1:if(ne=se.payload,typeof ne=="function"){q=ne.call(ee,q,H);break e}q=ne;break e;case 3:ne.flags=ne.flags&-65537|128;case 0:if(ne=se.payload,H=typeof ne=="function"?ne.call(ee,q,H):ne,H==null)break e;q=Q({},q,H);break e;case 2:Wr=!0}}b.callback!==null&&b.lane!==0&&(e.flags|=64,H=d.effects,H===null?d.effects=[b]:H.push(b))}else ee={eventTime:ee,lane:H,tag:b.tag,payload:b.payload,callback:b.callback,next:null},W===null?(U=W=ee,S=q):W=W.next=ee,p|=H;if(b=b.next,b===null){if(b=d.shared.pending,b===null)break;H=b,b=H.next,H.next=null,d.lastBaseUpdate=H,d.shared.pending=null}}while(!0);if(W===null&&(S=q),d.baseState=S,d.firstBaseUpdate=U,d.lastBaseUpdate=W,t=d.shared.interleaved,t!==null){d=t;do p|=d.lane,d=d.next;while(d!==t)}else f===null&&(d.shared.lanes=0);fn|=p,e.lanes=p,e.memoizedState=q}}function eu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],d=i.callback;if(d!==null){if(i.callback=null,i=n,typeof d!="function")throw Error(s(191,d));d.call(i)}}}var Us={},lr=zr(Us),Fs=zr(Us),zs=zr(Us);function dn(e){if(e===Us)throw Error(s(174));return e}function ko(e,t){switch(Fe(zs,t),Fe(Fs,e),Fe(lr,Us),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fs(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=fs(t,e)}He(lr),Fe(lr,t)}function Hn(){He(lr),He(Fs),He(zs)}function tu(e){dn(zs.current);var t=dn(lr.current),n=fs(t,e.type);t!==n&&(Fe(Fs,e),Fe(lr,n))}function jo(e){Fs.current===e&&(He(lr),He(Fs))}var Ye=zr(0);function Wi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var No=[];function Eo(){for(var e=0;e<No.length;e++)No[e]._workInProgressVersionPrimary=null;No.length=0}var Vi=I.ReactCurrentDispatcher,Co=I.ReactCurrentBatchConfig,hn=0,Qe=null,st=null,ot=null,qi=!1,Bs=!1,Hs=0,Bf=0;function yt(){throw Error(s(321))}function To(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qt(e[n],t[n]))return!1;return!0}function Po(e,t,n,i,d,f){if(hn=f,Qe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vi.current=e===null||e.memoizedState===null?qf:Kf,e=n(i,d),Bs){f=0;do{if(Bs=!1,Hs=0,25<=f)throw Error(s(301));f+=1,ot=st=null,t.updateQueue=null,Vi.current=Gf,e=n(i,d)}while(Bs)}if(Vi.current=Ji,t=st!==null&&st.next!==null,hn=0,ot=st=Qe=null,qi=!1,t)throw Error(s(300));return e}function Oo(){var e=Hs!==0;return Hs=0,e}function cr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?Qe.memoizedState=ot=e:ot=ot.next=e,ot}function Kt(){if(st===null){var e=Qe.alternate;e=e!==null?e.memoizedState:null}else e=st.next;var t=ot===null?Qe.memoizedState:ot.next;if(t!==null)ot=t,st=e;else{if(e===null)throw Error(s(310));st=e,e={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},ot===null?Qe.memoizedState=ot=e:ot=ot.next=e}return ot}function Ws(e,t){return typeof t=="function"?t(e):t}function Do(e){var t=Kt(),n=t.queue;if(n===null)throw Error(s(311));n.lastRenderedReducer=e;var i=st,d=i.baseQueue,f=n.pending;if(f!==null){if(d!==null){var p=d.next;d.next=f.next,f.next=p}i.baseQueue=d=f,n.pending=null}if(d!==null){f=d.next,i=i.baseState;var b=p=null,S=null,U=f;do{var W=U.lane;if((hn&W)===W)S!==null&&(S=S.next={lane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),i=U.hasEagerState?U.eagerState:e(i,U.action);else{var q={lane:W,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null};S===null?(b=S=q,p=i):S=S.next=q,Qe.lanes|=W,fn|=W}U=U.next}while(U!==null&&U!==f);S===null?p=i:S.next=b,Qt(i,t.memoizedState)||(Ct=!0),t.memoizedState=i,t.baseState=p,t.baseQueue=S,n.lastRenderedState=i}if(e=n.interleaved,e!==null){d=e;do f=d.lane,Qe.lanes|=f,fn|=f,d=d.next;while(d!==e)}else d===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=Kt(),n=t.queue;if(n===null)throw Error(s(311));n.lastRenderedReducer=e;var i=n.dispatch,d=n.pending,f=t.memoizedState;if(d!==null){n.pending=null;var p=d=d.next;do f=e(f,p.action),p=p.next;while(p!==d);Qt(f,t.memoizedState)||(Ct=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),n.lastRenderedState=f}return[f,i]}function ru(){}function nu(e,t){var n=Qe,i=Kt(),d=t(),f=!Qt(i.memoizedState,d);if(f&&(i.memoizedState=d,Ct=!0),i=i.queue,Ro(au.bind(null,n,i,e),[e]),i.getSnapshot!==t||f||ot!==null&&ot.memoizedState.tag&1){if(n.flags|=2048,Vs(9,iu.bind(null,n,i,d,t),void 0,null),lt===null)throw Error(s(349));(hn&30)!==0||su(n,t,d)}return d}function su(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Qe.updateQueue,t===null?(t={lastEffect:null,stores:null},Qe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function iu(e,t,n,i){t.value=n,t.getSnapshot=i,ou(t)&&lu(e)}function au(e,t,n){return n(function(){ou(t)&&lu(e)})}function ou(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qt(e,n)}catch{return!0}}function lu(e){var t=br(e,1);t!==null&&rr(t,e,1,-1)}function cu(e){var t=cr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:e},t.queue=e,e=e.dispatch=Vf.bind(null,Qe,e),[t.memoizedState,e]}function Vs(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=Qe.updateQueue,t===null?(t={lastEffect:null,stores:null},Qe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function uu(){return Kt().memoizedState}function Ki(e,t,n,i){var d=cr();Qe.flags|=e,d.memoizedState=Vs(1|t,n,void 0,i===void 0?null:i)}function Gi(e,t,n,i){var d=Kt();i=i===void 0?null:i;var f=void 0;if(st!==null){var p=st.memoizedState;if(f=p.destroy,i!==null&&To(i,p.deps)){d.memoizedState=Vs(t,n,f,i);return}}Qe.flags|=e,d.memoizedState=Vs(1|t,n,f,i)}function du(e,t){return Ki(8390656,8,e,t)}function Ro(e,t){return Gi(2048,8,e,t)}function hu(e,t){return Gi(4,2,e,t)}function fu(e,t){return Gi(4,4,e,t)}function mu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function pu(e,t,n){return n=n!=null?n.concat([e]):null,Gi(4,4,mu.bind(null,t,e),n)}function Io(){}function gu(e,t){var n=Kt();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&To(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function yu(e,t){var n=Kt();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&To(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function vu(e,t,n){return(hn&21)===0?(e.baseState&&(e.baseState=!1,Ct=!0),e.memoizedState=n):(Qt(n,t)||(n=Gl(),Qe.lanes|=n,fn|=n,e.baseState=!0),t)}function Hf(e,t){var n=$e;$e=n!==0&&4>n?n:4,e(!0);var i=Co.transition;Co.transition={};try{e(!1),t()}finally{$e=n,Co.transition=i}}function xu(){return Kt().memoizedState}function Wf(e,t,n){var i=Jr(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},wu(e))bu(t,n);else if(n=Qc(e,t,n,i),n!==null){var d=_t();rr(n,e,i,d),_u(n,t,i)}}function Vf(e,t,n){var i=Jr(e),d={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(wu(e))bu(t,d);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var p=t.lastRenderedState,b=f(p,n);if(d.hasEagerState=!0,d.eagerState=b,Qt(b,p)){var S=t.interleaved;S===null?(d.next=d,_o(t)):(d.next=S.next,S.next=d),t.interleaved=d;return}}catch{}finally{}n=Qc(e,t,d,i),n!==null&&(d=_t(),rr(n,e,i,d),_u(n,t,i))}}function wu(e){var t=e.alternate;return e===Qe||t!==null&&t===Qe}function bu(e,t){Bs=qi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function _u(e,t,n){if((n&4194240)!==0){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,La(e,n)}}var Ji={readContext:qt,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useInsertionEffect:yt,useLayoutEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useMutableSource:yt,useSyncExternalStore:yt,useId:yt,unstable_isNewReconciler:!1},qf={readContext:qt,useCallback:function(e,t){return cr().memoizedState=[e,t===void 0?null:t],e},useContext:qt,useEffect:du,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ki(4194308,4,mu.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ki(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ki(4,2,e,t)},useMemo:function(e,t){var n=cr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=cr();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=Wf.bind(null,Qe,e),[i.memoizedState,e]},useRef:function(e){var t=cr();return e={current:e},t.memoizedState=e},useState:cu,useDebugValue:Io,useDeferredValue:function(e){return cr().memoizedState=e},useTransition:function(){var e=cu(!1),t=e[0];return e=Hf.bind(null,e[1]),cr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=Qe,d=cr();if(Ke){if(n===void 0)throw Error(s(407));n=n()}else{if(n=t(),lt===null)throw Error(s(349));(hn&30)!==0||su(i,t,n)}d.memoizedState=n;var f={value:n,getSnapshot:t};return d.queue=f,du(au.bind(null,i,f,e),[e]),i.flags|=2048,Vs(9,iu.bind(null,i,f,n,t),void 0,null),n},useId:function(){var e=cr(),t=lt.identifierPrefix;if(Ke){var n=wr,i=xr;n=(i&~(1<<32-Yt(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=Hs++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Bf++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Kf={readContext:qt,useCallback:gu,useContext:qt,useEffect:Ro,useImperativeHandle:pu,useInsertionEffect:hu,useLayoutEffect:fu,useMemo:yu,useReducer:Do,useRef:uu,useState:function(){return Do(Ws)},useDebugValue:Io,useDeferredValue:function(e){var t=Kt();return vu(t,st.memoizedState,e)},useTransition:function(){var e=Do(Ws)[0],t=Kt().memoizedState;return[e,t]},useMutableSource:ru,useSyncExternalStore:nu,useId:xu,unstable_isNewReconciler:!1},Gf={readContext:qt,useCallback:gu,useContext:qt,useEffect:Ro,useImperativeHandle:pu,useInsertionEffect:hu,useLayoutEffect:fu,useMemo:yu,useReducer:Ao,useRef:uu,useState:function(){return Ao(Ws)},useDebugValue:Io,useDeferredValue:function(e){var t=Kt();return st===null?t.memoizedState=e:vu(t,st.memoizedState,e)},useTransition:function(){var e=Ao(Ws)[0],t=Kt().memoizedState;return[e,t]},useMutableSource:ru,useSyncExternalStore:nu,useId:xu,unstable_isNewReconciler:!1};function Zt(e,t){if(e&&e.defaultProps){t=Q({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Lo(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:Q({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Yi={isMounted:function(e){return(e=e._reactInternals)?qe(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=_t(),d=Jr(e),f=_r(i,d);f.payload=t,n!=null&&(f.callback=n),t=Vr(e,f,d),t!==null&&(rr(t,e,d,i),Bi(t,e,d))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=_t(),d=Jr(e),f=_r(i,d);f.tag=1,f.payload=t,n!=null&&(f.callback=n),t=Vr(e,f,d),t!==null&&(rr(t,e,d,i),Bi(t,e,d))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=_t(),i=Jr(e),d=_r(n,i);d.tag=2,t!=null&&(d.callback=t),t=Vr(e,d,i),t!==null&&(rr(t,e,i,n),Bi(t,e,i))}};function Su(e,t,n,i,d,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,f,p):t.prototype&&t.prototype.isPureReactComponent?!Os(n,i)||!Os(d,f):!0}function ku(e,t,n){var i=!1,d=Br,f=t.contextType;return typeof f=="object"&&f!==null?f=qt(f):(d=Et(t)?on:gt.current,i=t.contextTypes,f=(i=i!=null)?Ln(e,d):Br),t=new t(n,f),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Yi,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=d,e.__reactInternalMemoizedMaskedChildContext=f),t}function ju(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Yi.enqueueReplaceState(t,t.state,null)}function $o(e,t,n,i){var d=e.stateNode;d.props=n,d.state=e.memoizedState,d.refs={},So(e);var f=t.contextType;typeof f=="object"&&f!==null?d.context=qt(f):(f=Et(t)?on:gt.current,d.context=Ln(e,f)),d.state=e.memoizedState,f=t.getDerivedStateFromProps,typeof f=="function"&&(Lo(e,t,f,n),d.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(t=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),t!==d.state&&Yi.enqueueReplaceState(d,d.state,null),Hi(e,n,d,i),d.state=e.memoizedState),typeof d.componentDidMount=="function"&&(e.flags|=4194308)}function Wn(e,t){try{var n="",i=t;do n+=_e(i),i=i.return;while(i);var d=n}catch(f){d=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:t,stack:d,digest:null}}function Mo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Uo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Jf=typeof WeakMap=="function"?WeakMap:Map;function Nu(e,t,n){n=_r(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){na||(na=!0,el=i),Uo(e,t)},n}function Eu(e,t,n){n=_r(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var d=t.value;n.payload=function(){return i(d)},n.callback=function(){Uo(e,t)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(n.callback=function(){Uo(e,t),typeof i!="function"&&(Kr===null?Kr=new Set([this]):Kr.add(this));var p=t.stack;this.componentDidCatch(t.value,{componentStack:p!==null?p:""})}),n}function Cu(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new Jf;var d=new Set;i.set(t,d)}else d=i.get(t),d===void 0&&(d=new Set,i.set(t,d));d.has(n)||(d.add(n),e=cm.bind(null,e,t,n),t.then(e,e))}function Tu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Pu(e,t,n,i,d){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=_r(-1,1),t.tag=2,Vr(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=d,e)}var Yf=I.ReactCurrentOwner,Ct=!1;function bt(e,t,n,i){t.child=e===null?Yc(t,null,n,i):Fn(t,e.child,n,i)}function Ou(e,t,n,i,d){n=n.render;var f=t.ref;return Bn(t,d),i=Po(e,t,n,i,f,d),n=Oo(),e!==null&&!Ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~d,Sr(e,t,d)):(Ke&&n&&fo(t),t.flags|=1,bt(e,t,i,d),t.child)}function Du(e,t,n,i,d){if(e===null){var f=n.type;return typeof f=="function"&&!ol(f)&&f.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=f,Au(e,t,f,i,d)):(e=ca(n.type,null,i,t,t.mode,d),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,(e.lanes&d)===0){var p=f.memoizedProps;if(n=n.compare,n=n!==null?n:Os,n(p,i)&&e.ref===t.ref)return Sr(e,t,d)}return t.flags|=1,e=Qr(f,i),e.ref=t.ref,e.return=t,t.child=e}function Au(e,t,n,i,d){if(e!==null){var f=e.memoizedProps;if(Os(f,i)&&e.ref===t.ref)if(Ct=!1,t.pendingProps=i=f,(e.lanes&d)!==0)(e.flags&131072)!==0&&(Ct=!0);else return t.lanes=e.lanes,Sr(e,t,d)}return Fo(e,t,n,i,d)}function Ru(e,t,n){var i=t.pendingProps,d=i.children,f=e!==null?e.memoizedState:null;if(i.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(qn,Ft),Ft|=n;else{if((n&1073741824)===0)return e=f!==null?f.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Fe(qn,Ft),Ft|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=f!==null?f.baseLanes:n,Fe(qn,Ft),Ft|=i}else f!==null?(i=f.baseLanes|n,t.memoizedState=null):i=n,Fe(qn,Ft),Ft|=i;return bt(e,t,d,n),t.child}function Iu(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Fo(e,t,n,i,d){var f=Et(n)?on:gt.current;return f=Ln(t,f),Bn(t,d),n=Po(e,t,n,i,f,d),i=Oo(),e!==null&&!Ct?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~d,Sr(e,t,d)):(Ke&&i&&fo(t),t.flags|=1,bt(e,t,n,d),t.child)}function Lu(e,t,n,i,d){if(Et(n)){var f=!0;Ri(t)}else f=!1;if(Bn(t,d),t.stateNode===null)Xi(e,t),ku(t,n,i),$o(t,n,i,d),i=!0;else if(e===null){var p=t.stateNode,b=t.memoizedProps;p.props=b;var S=p.context,U=n.contextType;typeof U=="object"&&U!==null?U=qt(U):(U=Et(n)?on:gt.current,U=Ln(t,U));var W=n.getDerivedStateFromProps,q=typeof W=="function"||typeof p.getSnapshotBeforeUpdate=="function";q||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b!==i||S!==U)&&ju(t,p,i,U),Wr=!1;var H=t.memoizedState;p.state=H,Hi(t,i,p,d),S=t.memoizedState,b!==i||H!==S||Nt.current||Wr?(typeof W=="function"&&(Lo(t,n,W,i),S=t.memoizedState),(b=Wr||Su(t,n,b,i,H,S,U))?(q||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(t.flags|=4194308)):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=S),p.props=i,p.state=S,p.context=U,i=b):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{p=t.stateNode,Xc(e,t),b=t.memoizedProps,U=t.type===t.elementType?b:Zt(t.type,b),p.props=U,q=t.pendingProps,H=p.context,S=n.contextType,typeof S=="object"&&S!==null?S=qt(S):(S=Et(n)?on:gt.current,S=Ln(t,S));var ee=n.getDerivedStateFromProps;(W=typeof ee=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b!==q||H!==S)&&ju(t,p,i,S),Wr=!1,H=t.memoizedState,p.state=H,Hi(t,i,p,d);var ne=t.memoizedState;b!==q||H!==ne||Nt.current||Wr?(typeof ee=="function"&&(Lo(t,n,ee,i),ne=t.memoizedState),(U=Wr||Su(t,n,U,i,H,ne,S)||!1)?(W||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(i,ne,S),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(i,ne,S)),typeof p.componentDidUpdate=="function"&&(t.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof p.componentDidUpdate!="function"||b===e.memoizedProps&&H===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&H===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=ne),p.props=i,p.state=ne,p.context=S,i=U):(typeof p.componentDidUpdate!="function"||b===e.memoizedProps&&H===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&H===e.memoizedState||(t.flags|=1024),i=!1)}return zo(e,t,n,i,f,d)}function zo(e,t,n,i,d,f){Iu(e,t);var p=(t.flags&128)!==0;if(!i&&!p)return d&&zc(t,n,!1),Sr(e,t,f);i=t.stateNode,Yf.current=t;var b=p&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&p?(t.child=Fn(t,e.child,null,f),t.child=Fn(t,null,b,f)):bt(e,t,b,f),t.memoizedState=i.state,d&&zc(t,n,!0),t.child}function $u(e){var t=e.stateNode;t.pendingContext?Uc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Uc(e,t.context,!1),ko(e,t.containerInfo)}function Mu(e,t,n,i,d){return Un(),yo(d),t.flags|=256,bt(e,t,n,i),t.child}var Bo={dehydrated:null,treeContext:null,retryLane:0};function Ho(e){return{baseLanes:e,cachePool:null,transitions:null}}function Uu(e,t,n){var i=t.pendingProps,d=Ye.current,f=!1,p=(t.flags&128)!==0,b;if((b=p)||(b=e!==null&&e.memoizedState===null?!1:(d&2)!==0),b?(f=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(d|=1),Fe(Ye,d&1),e===null)return go(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(p=i.children,e=i.fallback,f?(i=t.mode,f=t.child,p={mode:"hidden",children:p},(i&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=p):f=ua(p,i,0,null),e=yn(e,i,n,null),f.return=t,e.return=t,f.sibling=e,t.child=f,t.child.memoizedState=Ho(n),t.memoizedState=Bo,e):Wo(t,p));if(d=e.memoizedState,d!==null&&(b=d.dehydrated,b!==null))return Qf(e,t,p,i,b,d,n);if(f){f=i.fallback,p=t.mode,d=e.child,b=d.sibling;var S={mode:"hidden",children:i.children};return(p&1)===0&&t.child!==d?(i=t.child,i.childLanes=0,i.pendingProps=S,t.deletions=null):(i=Qr(d,S),i.subtreeFlags=d.subtreeFlags&14680064),b!==null?f=Qr(b,f):(f=yn(f,p,n,null),f.flags|=2),f.return=t,i.return=t,i.sibling=f,t.child=i,i=f,f=t.child,p=e.child.memoizedState,p=p===null?Ho(n):{baseLanes:p.baseLanes|n,cachePool:null,transitions:p.transitions},f.memoizedState=p,f.childLanes=e.childLanes&~n,t.memoizedState=Bo,i}return f=e.child,e=f.sibling,i=Qr(f,{mode:"visible",children:i.children}),(t.mode&1)===0&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Wo(e,t){return t=ua({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Qi(e,t,n,i){return i!==null&&yo(i),Fn(t,e.child,null,n),e=Wo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Qf(e,t,n,i,d,f,p){if(n)return t.flags&256?(t.flags&=-257,i=Mo(Error(s(422))),Qi(e,t,p,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(f=i.fallback,d=t.mode,i=ua({mode:"visible",children:i.children},d,0,null),f=yn(f,d,p,null),f.flags|=2,i.return=t,f.return=t,i.sibling=f,t.child=i,(t.mode&1)!==0&&Fn(t,e.child,null,p),t.child.memoizedState=Ho(p),t.memoizedState=Bo,f);if((t.mode&1)===0)return Qi(e,t,p,null);if(d.data==="$!"){if(i=d.nextSibling&&d.nextSibling.dataset,i)var b=i.dgst;return i=b,f=Error(s(419)),i=Mo(f,i,void 0),Qi(e,t,p,i)}if(b=(p&e.childLanes)!==0,Ct||b){if(i=lt,i!==null){switch(p&-p){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(i.suspendedLanes|p))!==0?0:d,d!==0&&d!==f.retryLane&&(f.retryLane=d,br(e,d),rr(i,e,d,-1))}return al(),i=Mo(Error(s(421))),Qi(e,t,p,i)}return d.data==="$?"?(t.flags|=128,t.child=e.child,t=um.bind(null,e),d._reactRetry=t,null):(e=f.treeContext,Ut=Fr(d.nextSibling),Mt=t,Ke=!0,Xt=null,e!==null&&(Wt[Vt++]=xr,Wt[Vt++]=wr,Wt[Vt++]=ln,xr=e.id,wr=e.overflow,ln=t),t=Wo(t,i.children),t.flags|=4096,t)}function Fu(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),bo(e.return,t,n)}function Vo(e,t,n,i,d){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:d}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=i,f.tail=n,f.tailMode=d)}function zu(e,t,n){var i=t.pendingProps,d=i.revealOrder,f=i.tail;if(bt(e,t,i.children,n),i=Ye.current,(i&2)!==0)i=i&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fu(e,n,t);else if(e.tag===19)Fu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Fe(Ye,i),(t.mode&1)===0)t.memoizedState=null;else switch(d){case"forwards":for(n=t.child,d=null;n!==null;)e=n.alternate,e!==null&&Wi(e)===null&&(d=n),n=n.sibling;n=d,n===null?(d=t.child,t.child=null):(d=n.sibling,n.sibling=null),Vo(t,!1,d,n,f);break;case"backwards":for(n=null,d=t.child,t.child=null;d!==null;){if(e=d.alternate,e!==null&&Wi(e)===null){t.child=d;break}e=d.sibling,d.sibling=n,n=d,d=e}Vo(t,!0,n,null,f);break;case"together":Vo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xi(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Sr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),fn|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,n=Qr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Qr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Xf(e,t,n){switch(t.tag){case 3:$u(t),Un();break;case 5:tu(t);break;case 1:Et(t.type)&&Ri(t);break;case 4:ko(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,d=t.memoizedProps.value;Fe(Fi,i._currentValue),i._currentValue=d;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(Fe(Ye,Ye.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?Uu(e,t,n):(Fe(Ye,Ye.current&1),e=Sr(e,t,n),e!==null?e.sibling:null);Fe(Ye,Ye.current&1);break;case 19:if(i=(n&t.childLanes)!==0,(e.flags&128)!==0){if(i)return zu(e,t,n);t.flags|=128}if(d=t.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Fe(Ye,Ye.current),i)break;return null;case 22:case 23:return t.lanes=0,Ru(e,t,n)}return Sr(e,t,n)}var Bu,qo,Hu,Wu;Bu=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},qo=function(){},Hu=function(e,t,n,i){var d=e.memoizedProps;if(d!==i){e=t.stateNode,dn(lr.current);var f=null;switch(n){case"input":d=K(e,d),i=K(e,i),f=[];break;case"select":d=Q({},d,{value:void 0}),i=Q({},i,{value:void 0}),f=[];break;case"textarea":d=Nr(e,d),i=Nr(e,i),f=[];break;default:typeof d.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=Oi)}It(n,i);var p;n=null;for(U in d)if(!i.hasOwnProperty(U)&&d.hasOwnProperty(U)&&d[U]!=null)if(U==="style"){var b=d[U];for(p in b)b.hasOwnProperty(p)&&(n||(n={}),n[p]="")}else U!=="dangerouslySetInnerHTML"&&U!=="children"&&U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&U!=="autoFocus"&&(o.hasOwnProperty(U)?f||(f=[]):(f=f||[]).push(U,null));for(U in i){var S=i[U];if(b=d?.[U],i.hasOwnProperty(U)&&S!==b&&(S!=null||b!=null))if(U==="style")if(b){for(p in b)!b.hasOwnProperty(p)||S&&S.hasOwnProperty(p)||(n||(n={}),n[p]="");for(p in S)S.hasOwnProperty(p)&&b[p]!==S[p]&&(n||(n={}),n[p]=S[p])}else n||(f||(f=[]),f.push(U,n)),n=S;else U==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,b=b?b.__html:void 0,S!=null&&b!==S&&(f=f||[]).push(U,S)):U==="children"?typeof S!="string"&&typeof S!="number"||(f=f||[]).push(U,""+S):U!=="suppressContentEditableWarning"&&U!=="suppressHydrationWarning"&&(o.hasOwnProperty(U)?(S!=null&&U==="onScroll"&&Be("scroll",e),f||b===S||(f=[])):(f=f||[]).push(U,S))}n&&(f=f||[]).push("style",n);var U=f;(t.updateQueue=U)&&(t.flags|=4)}},Wu=function(e,t,n,i){n!==i&&(t.flags|=4)};function qs(e,t){if(!Ke)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function vt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var d=e.child;d!==null;)n|=d.lanes|d.childLanes,i|=d.subtreeFlags&14680064,i|=d.flags&14680064,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)n|=d.lanes|d.childLanes,i|=d.subtreeFlags,i|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Zf(e,t,n){var i=t.pendingProps;switch(mo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(t),null;case 1:return Et(t.type)&&Ai(),vt(t),null;case 3:return i=t.stateNode,Hn(),He(Nt),He(gt),Eo(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Mi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Xt!==null&&(nl(Xt),Xt=null))),qo(e,t),vt(t),null;case 5:jo(t);var d=dn(zs.current);if(n=t.type,e!==null&&t.stateNode!=null)Hu(e,t,n,i,d),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(s(166));return vt(t),null}if(e=dn(lr.current),Mi(t)){i=t.stateNode,n=t.type;var f=t.memoizedProps;switch(i[or]=t,i[Ls]=f,e=(t.mode&1)!==0,n){case"dialog":Be("cancel",i),Be("close",i);break;case"iframe":case"object":case"embed":Be("load",i);break;case"video":case"audio":for(d=0;d<As.length;d++)Be(As[d],i);break;case"source":Be("error",i);break;case"img":case"image":case"link":Be("error",i),Be("load",i);break;case"details":Be("toggle",i);break;case"input":le(i,f),Be("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!f.multiple},Be("invalid",i);break;case"textarea":fr(i,f),Be("invalid",i)}It(n,f),d=null;for(var p in f)if(f.hasOwnProperty(p)){var b=f[p];p==="children"?typeof b=="string"?i.textContent!==b&&(f.suppressHydrationWarning!==!0&&Pi(i.textContent,b,e),d=["children",b]):typeof b=="number"&&i.textContent!==""+b&&(f.suppressHydrationWarning!==!0&&Pi(i.textContent,b,e),d=["children",""+b]):o.hasOwnProperty(p)&&b!=null&&p==="onScroll"&&Be("scroll",i)}switch(n){case"input":Z(i),We(i,f,!0);break;case"textarea":Z(i),hs(i);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(i.onclick=Oi)}i=d,t.updateQueue=i,i!==null&&(t.flags|=4)}else{p=d.nodeType===9?d:d.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=li(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=p.createElement(n,{is:i.is}):(e=p.createElement(n),n==="select"&&(p=e,i.multiple?p.multiple=!0:i.size&&(p.size=i.size))):e=p.createElementNS(e,n),e[or]=t,e[Ls]=i,Bu(e,t,!1,!1),t.stateNode=e;e:{switch(p=ms(n,i),n){case"dialog":Be("cancel",e),Be("close",e),d=i;break;case"iframe":case"object":case"embed":Be("load",e),d=i;break;case"video":case"audio":for(d=0;d<As.length;d++)Be(As[d],e);d=i;break;case"source":Be("error",e),d=i;break;case"img":case"image":case"link":Be("error",e),Be("load",e),d=i;break;case"details":Be("toggle",e),d=i;break;case"input":le(e,i),d=K(e,i),Be("invalid",e);break;case"option":d=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},d=Q({},i,{value:void 0}),Be("invalid",e);break;case"textarea":fr(e,i),d=Nr(e,i),Be("invalid",e);break;default:d=i}It(n,d),b=d;for(f in b)if(b.hasOwnProperty(f)){var S=b[f];f==="style"?Pr(e,S):f==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,S!=null&&ci(e,S)):f==="children"?typeof S=="string"?(n!=="textarea"||S!=="")&&Cr(e,S):typeof S=="number"&&Cr(e,""+S):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(o.hasOwnProperty(f)?S!=null&&f==="onScroll"&&Be("scroll",e):S!=null&&$(e,f,S,p))}switch(n){case"input":Z(e),We(e,i,!1);break;case"textarea":Z(e),hs(e);break;case"option":i.value!=null&&e.setAttribute("value",""+pe(i.value));break;case"select":e.multiple=!!i.multiple,f=i.value,f!=null?Ve(e,!!i.multiple,f,!1):i.defaultValue!=null&&Ve(e,!!i.multiple,i.defaultValue,!0);break;default:typeof d.onClick=="function"&&(e.onclick=Oi)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return vt(t),null;case 6:if(e&&t.stateNode!=null)Wu(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(s(166));if(n=dn(zs.current),dn(lr.current),Mi(t)){if(i=t.stateNode,n=t.memoizedProps,i[or]=t,(f=i.nodeValue!==n)&&(e=Mt,e!==null))switch(e.tag){case 3:Pi(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Pi(i.nodeValue,n,(e.mode&1)!==0)}f&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[or]=t,t.stateNode=i}return vt(t),null;case 13:if(He(Ye),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ke&&Ut!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Kc(),Un(),t.flags|=98560,f=!1;else if(f=Mi(t),i!==null&&i.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[or]=t}else Un(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;vt(t),f=!1}else Xt!==null&&(nl(Xt),Xt=null),f=!0;if(!f)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ye.current&1)!==0?it===0&&(it=3):al())),t.updateQueue!==null&&(t.flags|=4),vt(t),null);case 4:return Hn(),qo(e,t),e===null&&Rs(t.stateNode.containerInfo),vt(t),null;case 10:return wo(t.type._context),vt(t),null;case 17:return Et(t.type)&&Ai(),vt(t),null;case 19:if(He(Ye),f=t.memoizedState,f===null)return vt(t),null;if(i=(t.flags&128)!==0,p=f.rendering,p===null)if(i)qs(f,!1);else{if(it!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(p=Wi(e),p!==null){for(t.flags|=128,qs(f,!1),i=p.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)f=n,e=i,f.flags&=14680066,p=f.alternate,p===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=p.childLanes,f.lanes=p.lanes,f.child=p.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=p.memoizedProps,f.memoizedState=p.memoizedState,f.updateQueue=p.updateQueue,f.type=p.type,e=p.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Fe(Ye,Ye.current&1|2),t.child}e=e.sibling}f.tail!==null&&Je()>Kn&&(t.flags|=128,i=!0,qs(f,!1),t.lanes=4194304)}else{if(!i)if(e=Wi(p),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),qs(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!Ke)return vt(t),null}else 2*Je()-f.renderingStartTime>Kn&&n!==1073741824&&(t.flags|=128,i=!0,qs(f,!1),t.lanes=4194304);f.isBackwards?(p.sibling=t.child,t.child=p):(n=f.last,n!==null?n.sibling=p:t.child=p,f.last=p)}return f.tail!==null?(t=f.tail,f.rendering=t,f.tail=t.sibling,f.renderingStartTime=Je(),t.sibling=null,n=Ye.current,Fe(Ye,i?n&1|2:n&1),t):(vt(t),null);case 22:case 23:return il(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&(t.mode&1)!==0?(Ft&1073741824)!==0&&(vt(t),t.subtreeFlags&6&&(t.flags|=8192)):vt(t),null;case 24:return null;case 25:return null}throw Error(s(156,t.tag))}function em(e,t){switch(mo(t),t.tag){case 1:return Et(t.type)&&Ai(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Hn(),He(Nt),He(gt),Eo(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return jo(t),null;case 13:if(He(Ye),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));Un()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return He(Ye),null;case 4:return Hn(),null;case 10:return wo(t.type._context),null;case 22:case 23:return il(),null;case 24:return null;default:return null}}var Zi=!1,xt=!1,tm=typeof WeakSet=="function"?WeakSet:Set,re=null;function Vn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Xe(e,t,i)}else n.current=null}function Ko(e,t,n){try{n()}catch(i){Xe(e,t,i)}}var Vu=!1;function rm(e,t){if(so=xi,e=Sc(),Ya(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var d=i.anchorOffset,f=i.focusNode;i=i.focusOffset;try{n.nodeType,f.nodeType}catch{n=null;break e}var p=0,b=-1,S=-1,U=0,W=0,q=e,H=null;t:for(;;){for(var ee;q!==n||d!==0&&q.nodeType!==3||(b=p+d),q!==f||i!==0&&q.nodeType!==3||(S=p+i),q.nodeType===3&&(p+=q.nodeValue.length),(ee=q.firstChild)!==null;)H=q,q=ee;for(;;){if(q===e)break t;if(H===n&&++U===d&&(b=p),H===f&&++W===i&&(S=p),(ee=q.nextSibling)!==null)break;q=H,H=q.parentNode}q=ee}n=b===-1||S===-1?null:{start:b,end:S}}else n=null}n=n||{start:0,end:0}}else n=null;for(io={focusedElem:e,selectionRange:n},xi=!1,re=t;re!==null;)if(t=re,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,re=e;else for(;re!==null;){t=re;try{var ne=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(ne!==null){var se=ne.memoizedProps,Ze=ne.memoizedState,O=t.stateNode,j=O.getSnapshotBeforeUpdate(t.elementType===t.type?se:Zt(t.type,se),Ze);O.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var L=t.stateNode.containerInfo;L.nodeType===1?L.textContent="":L.nodeType===9&&L.documentElement&&L.removeChild(L.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(G){Xe(t,t.return,G)}if(e=t.sibling,e!==null){e.return=t.return,re=e;break}re=t.return}return ne=Vu,Vu=!1,ne}function Ks(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var d=i=i.next;do{if((d.tag&e)===e){var f=d.destroy;d.destroy=void 0,f!==void 0&&Ko(t,n,f)}d=d.next}while(d!==i)}}function ea(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function Go(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function qu(e){var t=e.alternate;t!==null&&(e.alternate=null,qu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[or],delete t[Ls],delete t[co],delete t[Mf],delete t[Uf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ku(e){return e.tag===5||e.tag===3||e.tag===4}function Gu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ku(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Jo(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Oi));else if(i!==4&&(e=e.child,e!==null))for(Jo(e,t,n),e=e.sibling;e!==null;)Jo(e,t,n),e=e.sibling}function Yo(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(Yo(e,t,n),e=e.sibling;e!==null;)Yo(e,t,n),e=e.sibling}var dt=null,er=!1;function qr(e,t,n){for(n=n.child;n!==null;)Ju(e,t,n),n=n.sibling}function Ju(e,t,n){if(ar&&typeof ar.onCommitFiberUnmount=="function")try{ar.onCommitFiberUnmount(fi,n)}catch{}switch(n.tag){case 5:xt||Vn(n,t);case 6:var i=dt,d=er;dt=null,qr(e,t,n),dt=i,er=d,dt!==null&&(er?(e=dt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):dt.removeChild(n.stateNode));break;case 18:dt!==null&&(er?(e=dt,n=n.stateNode,e.nodeType===8?lo(e.parentNode,n):e.nodeType===1&&lo(e,n),js(e)):lo(dt,n.stateNode));break;case 4:i=dt,d=er,dt=n.stateNode.containerInfo,er=!0,qr(e,t,n),dt=i,er=d;break;case 0:case 11:case 14:case 15:if(!xt&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){d=i=i.next;do{var f=d,p=f.destroy;f=f.tag,p!==void 0&&((f&2)!==0||(f&4)!==0)&&Ko(n,t,p),d=d.next}while(d!==i)}qr(e,t,n);break;case 1:if(!xt&&(Vn(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(b){Xe(n,t,b)}qr(e,t,n);break;case 21:qr(e,t,n);break;case 22:n.mode&1?(xt=(i=xt)||n.memoizedState!==null,qr(e,t,n),xt=i):qr(e,t,n);break;default:qr(e,t,n)}}function Yu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new tm),t.forEach(function(i){var d=dm.bind(null,e,i);n.has(i)||(n.add(i),i.then(d,d))})}}function tr(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var d=n[i];try{var f=e,p=t,b=p;e:for(;b!==null;){switch(b.tag){case 5:dt=b.stateNode,er=!1;break e;case 3:dt=b.stateNode.containerInfo,er=!0;break e;case 4:dt=b.stateNode.containerInfo,er=!0;break e}b=b.return}if(dt===null)throw Error(s(160));Ju(f,p,d),dt=null,er=!1;var S=d.alternate;S!==null&&(S.return=null),d.return=null}catch(U){Xe(d,t,U)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Qu(t,e),t=t.sibling}function Qu(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(tr(t,e),ur(e),i&4){try{Ks(3,e,e.return),ea(3,e)}catch(se){Xe(e,e.return,se)}try{Ks(5,e,e.return)}catch(se){Xe(e,e.return,se)}}break;case 1:tr(t,e),ur(e),i&512&&n!==null&&Vn(n,n.return);break;case 5:if(tr(t,e),ur(e),i&512&&n!==null&&Vn(n,n.return),e.flags&32){var d=e.stateNode;try{Cr(d,"")}catch(se){Xe(e,e.return,se)}}if(i&4&&(d=e.stateNode,d!=null)){var f=e.memoizedProps,p=n!==null?n.memoizedProps:f,b=e.type,S=e.updateQueue;if(e.updateQueue=null,S!==null)try{b==="input"&&f.type==="radio"&&f.name!=null&&ce(d,f),ms(b,p);var U=ms(b,f);for(p=0;p<S.length;p+=2){var W=S[p],q=S[p+1];W==="style"?Pr(d,q):W==="dangerouslySetInnerHTML"?ci(d,q):W==="children"?Cr(d,q):$(d,W,q,U)}switch(b){case"input":Pe(d,f);break;case"textarea":ds(d,f);break;case"select":var H=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!f.multiple;var ee=f.value;ee!=null?Ve(d,!!f.multiple,ee,!1):H!==!!f.multiple&&(f.defaultValue!=null?Ve(d,!!f.multiple,f.defaultValue,!0):Ve(d,!!f.multiple,f.multiple?[]:"",!1))}d[Ls]=f}catch(se){Xe(e,e.return,se)}}break;case 6:if(tr(t,e),ur(e),i&4){if(e.stateNode===null)throw Error(s(162));d=e.stateNode,f=e.memoizedProps;try{d.nodeValue=f}catch(se){Xe(e,e.return,se)}}break;case 3:if(tr(t,e),ur(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{js(t.containerInfo)}catch(se){Xe(e,e.return,se)}break;case 4:tr(t,e),ur(e);break;case 13:tr(t,e),ur(e),d=e.child,d.flags&8192&&(f=d.memoizedState!==null,d.stateNode.isHidden=f,!f||d.alternate!==null&&d.alternate.memoizedState!==null||(Zo=Je())),i&4&&Yu(e);break;case 22:if(W=n!==null&&n.memoizedState!==null,e.mode&1?(xt=(U=xt)||W,tr(t,e),xt=U):tr(t,e),ur(e),i&8192){if(U=e.memoizedState!==null,(e.stateNode.isHidden=U)&&!W&&(e.mode&1)!==0)for(re=e,W=e.child;W!==null;){for(q=re=W;re!==null;){switch(H=re,ee=H.child,H.tag){case 0:case 11:case 14:case 15:Ks(4,H,H.return);break;case 1:Vn(H,H.return);var ne=H.stateNode;if(typeof ne.componentWillUnmount=="function"){i=H,n=H.return;try{t=i,ne.props=t.memoizedProps,ne.state=t.memoizedState,ne.componentWillUnmount()}catch(se){Xe(i,n,se)}}break;case 5:Vn(H,H.return);break;case 22:if(H.memoizedState!==null){ed(q);continue}}ee!==null?(ee.return=H,re=ee):ed(q)}W=W.sibling}e:for(W=null,q=e;;){if(q.tag===5){if(W===null){W=q;try{d=q.stateNode,U?(f=d.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(b=q.stateNode,S=q.memoizedProps.style,p=S!=null&&S.hasOwnProperty("display")?S.display:null,b.style.display=Tr("display",p))}catch(se){Xe(e,e.return,se)}}}else if(q.tag===6){if(W===null)try{q.stateNode.nodeValue=U?"":q.memoizedProps}catch(se){Xe(e,e.return,se)}}else if((q.tag!==22&&q.tag!==23||q.memoizedState===null||q===e)&&q.child!==null){q.child.return=q,q=q.child;continue}if(q===e)break e;for(;q.sibling===null;){if(q.return===null||q.return===e)break e;W===q&&(W=null),q=q.return}W===q&&(W=null),q.sibling.return=q.return,q=q.sibling}}break;case 19:tr(t,e),ur(e),i&4&&Yu(e);break;case 21:break;default:tr(t,e),ur(e)}}function ur(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ku(n)){var i=n;break e}n=n.return}throw Error(s(160))}switch(i.tag){case 5:var d=i.stateNode;i.flags&32&&(Cr(d,""),i.flags&=-33);var f=Gu(e);Yo(e,f,d);break;case 3:case 4:var p=i.stateNode.containerInfo,b=Gu(e);Jo(e,b,p);break;default:throw Error(s(161))}}catch(S){Xe(e,e.return,S)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function nm(e,t,n){re=e,Xu(e)}function Xu(e,t,n){for(var i=(e.mode&1)!==0;re!==null;){var d=re,f=d.child;if(d.tag===22&&i){var p=d.memoizedState!==null||Zi;if(!p){var b=d.alternate,S=b!==null&&b.memoizedState!==null||xt;b=Zi;var U=xt;if(Zi=p,(xt=S)&&!U)for(re=d;re!==null;)p=re,S=p.child,p.tag===22&&p.memoizedState!==null?td(d):S!==null?(S.return=p,re=S):td(d);for(;f!==null;)re=f,Xu(f),f=f.sibling;re=d,Zi=b,xt=U}Zu(e)}else(d.subtreeFlags&8772)!==0&&f!==null?(f.return=d,re=f):Zu(e)}}function Zu(e){for(;re!==null;){var t=re;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:xt||ea(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!xt)if(n===null)i.componentDidMount();else{var d=t.elementType===t.type?n.memoizedProps:Zt(t.type,n.memoizedProps);i.componentDidUpdate(d,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var f=t.updateQueue;f!==null&&eu(t,f,i);break;case 3:var p=t.updateQueue;if(p!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}eu(t,p,n)}break;case 5:var b=t.stateNode;if(n===null&&t.flags&4){n=b;var S=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":S.autoFocus&&n.focus();break;case"img":S.src&&(n.src=S.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var U=t.alternate;if(U!==null){var W=U.memoizedState;if(W!==null){var q=W.dehydrated;q!==null&&js(q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}xt||t.flags&512&&Go(t)}catch(H){Xe(t,t.return,H)}}if(t===e){re=null;break}if(n=t.sibling,n!==null){n.return=t.return,re=n;break}re=t.return}}function ed(e){for(;re!==null;){var t=re;if(t===e){re=null;break}var n=t.sibling;if(n!==null){n.return=t.return,re=n;break}re=t.return}}function td(e){for(;re!==null;){var t=re;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ea(4,t)}catch(S){Xe(t,n,S)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var d=t.return;try{i.componentDidMount()}catch(S){Xe(t,d,S)}}var f=t.return;try{Go(t)}catch(S){Xe(t,f,S)}break;case 5:var p=t.return;try{Go(t)}catch(S){Xe(t,p,S)}}}catch(S){Xe(t,t.return,S)}if(t===e){re=null;break}var b=t.sibling;if(b!==null){b.return=t.return,re=b;break}re=t.return}}var sm=Math.ceil,ta=I.ReactCurrentDispatcher,Qo=I.ReactCurrentOwner,Gt=I.ReactCurrentBatchConfig,Ce=0,lt=null,et=null,ht=0,Ft=0,qn=zr(0),it=0,Gs=null,fn=0,ra=0,Xo=0,Js=null,Tt=null,Zo=0,Kn=1/0,kr=null,na=!1,el=null,Kr=null,sa=!1,Gr=null,ia=0,Ys=0,tl=null,aa=-1,oa=0;function _t(){return(Ce&6)!==0?Je():aa!==-1?aa:aa=Je()}function Jr(e){return(e.mode&1)===0?1:(Ce&2)!==0&&ht!==0?ht&-ht:zf.transition!==null?(oa===0&&(oa=Gl()),oa):(e=$e,e!==0||(e=window.event,e=e===void 0?16:nc(e.type)),e)}function rr(e,t,n,i){if(50<Ys)throw Ys=0,tl=null,Error(s(185));ws(e,n,i),((Ce&2)===0||e!==lt)&&(e===lt&&((Ce&2)===0&&(ra|=n),it===4&&Yr(e,ht)),Pt(e,i),n===1&&Ce===0&&(t.mode&1)===0&&(Kn=Je()+500,Ii&&Hr()))}function Pt(e,t){var n=e.callbackNode;Fh(e,t);var i=gi(e,e===lt?ht:0);if(i===0)n!==null&&Nn(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&Nn(n),t===1)e.tag===0?Ff(nd.bind(null,e)):Bc(nd.bind(null,e)),Lf(function(){(Ce&6)===0&&Hr()}),n=null;else{switch(Jl(i)){case 1:n=Aa;break;case 4:n=ql;break;case 16:n=hi;break;case 536870912:n=Kl;break;default:n=hi}n=dd(n,rd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rd(e,t){if(aa=-1,oa=0,(Ce&6)!==0)throw Error(s(327));var n=e.callbackNode;if(Gn()&&e.callbackNode!==n)return null;var i=gi(e,e===lt?ht:0);if(i===0)return null;if((i&30)!==0||(i&e.expiredLanes)!==0||t)t=la(e,i);else{t=i;var d=Ce;Ce|=2;var f=id();(lt!==e||ht!==t)&&(kr=null,Kn=Je()+500,pn(e,t));do try{om();break}catch(b){sd(e,b)}while(!0);xo(),ta.current=f,Ce=d,et!==null?t=0:(lt=null,ht=0,t=it)}if(t!==0){if(t===2&&(d=Ra(e),d!==0&&(i=d,t=rl(e,d))),t===1)throw n=Gs,pn(e,0),Yr(e,i),Pt(e,Je()),n;if(t===6)Yr(e,i);else{if(d=e.current.alternate,(i&30)===0&&!im(d)&&(t=la(e,i),t===2&&(f=Ra(e),f!==0&&(i=f,t=rl(e,f))),t===1))throw n=Gs,pn(e,0),Yr(e,i),Pt(e,Je()),n;switch(e.finishedWork=d,e.finishedLanes=i,t){case 0:case 1:throw Error(s(345));case 2:gn(e,Tt,kr);break;case 3:if(Yr(e,i),(i&130023424)===i&&(t=Zo+500-Je(),10<t)){if(gi(e,0)!==0)break;if(d=e.suspendedLanes,(d&i)!==i){_t(),e.pingedLanes|=e.suspendedLanes&d;break}e.timeoutHandle=oo(gn.bind(null,e,Tt,kr),t);break}gn(e,Tt,kr);break;case 4:if(Yr(e,i),(i&4194240)===i)break;for(t=e.eventTimes,d=-1;0<i;){var p=31-Yt(i);f=1<<p,p=t[p],p>d&&(d=p),i&=~f}if(i=d,i=Je()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*sm(i/1960))-i,10<i){e.timeoutHandle=oo(gn.bind(null,e,Tt,kr),i);break}gn(e,Tt,kr);break;case 5:gn(e,Tt,kr);break;default:throw Error(s(329))}}}return Pt(e,Je()),e.callbackNode===n?rd.bind(null,e):null}function rl(e,t){var n=Js;return e.current.memoizedState.isDehydrated&&(pn(e,t).flags|=256),e=la(e,t),e!==2&&(t=Tt,Tt=n,t!==null&&nl(t)),e}function nl(e){Tt===null?Tt=e:Tt.push.apply(Tt,e)}function im(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var d=n[i],f=d.getSnapshot;d=d.value;try{if(!Qt(f(),d))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Yr(e,t){for(t&=~Xo,t&=~ra,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Yt(t),i=1<<n;e[n]=-1,t&=~i}}function nd(e){if((Ce&6)!==0)throw Error(s(327));Gn();var t=gi(e,0);if((t&1)===0)return Pt(e,Je()),null;var n=la(e,t);if(e.tag!==0&&n===2){var i=Ra(e);i!==0&&(t=i,n=rl(e,i))}if(n===1)throw n=Gs,pn(e,0),Yr(e,t),Pt(e,Je()),n;if(n===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gn(e,Tt,kr),Pt(e,Je()),null}function sl(e,t){var n=Ce;Ce|=1;try{return e(t)}finally{Ce=n,Ce===0&&(Kn=Je()+500,Ii&&Hr())}}function mn(e){Gr!==null&&Gr.tag===0&&(Ce&6)===0&&Gn();var t=Ce;Ce|=1;var n=Gt.transition,i=$e;try{if(Gt.transition=null,$e=1,e)return e()}finally{$e=i,Gt.transition=n,Ce=t,(Ce&6)===0&&Hr()}}function il(){Ft=qn.current,He(qn)}function pn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,If(n)),et!==null)for(n=et.return;n!==null;){var i=n;switch(mo(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Ai();break;case 3:Hn(),He(Nt),He(gt),Eo();break;case 5:jo(i);break;case 4:Hn();break;case 13:He(Ye);break;case 19:He(Ye);break;case 10:wo(i.type._context);break;case 22:case 23:il()}n=n.return}if(lt=e,et=e=Qr(e.current,null),ht=Ft=t,it=0,Gs=null,Xo=ra=fn=0,Tt=Js=null,un!==null){for(t=0;t<un.length;t++)if(n=un[t],i=n.interleaved,i!==null){n.interleaved=null;var d=i.next,f=n.pending;if(f!==null){var p=f.next;f.next=d,i.next=p}n.pending=i}un=null}return e}function sd(e,t){do{var n=et;try{if(xo(),Vi.current=Ji,qi){for(var i=Qe.memoizedState;i!==null;){var d=i.queue;d!==null&&(d.pending=null),i=i.next}qi=!1}if(hn=0,ot=st=Qe=null,Bs=!1,Hs=0,Qo.current=null,n===null||n.return===null){it=1,Gs=t,et=null;break}e:{var f=e,p=n.return,b=n,S=t;if(t=ht,b.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){var U=S,W=b,q=W.tag;if((W.mode&1)===0&&(q===0||q===11||q===15)){var H=W.alternate;H?(W.updateQueue=H.updateQueue,W.memoizedState=H.memoizedState,W.lanes=H.lanes):(W.updateQueue=null,W.memoizedState=null)}var ee=Tu(p);if(ee!==null){ee.flags&=-257,Pu(ee,p,b,f,t),ee.mode&1&&Cu(f,U,t),t=ee,S=U;var ne=t.updateQueue;if(ne===null){var se=new Set;se.add(S),t.updateQueue=se}else ne.add(S);break e}else{if((t&1)===0){Cu(f,U,t),al();break e}S=Error(s(426))}}else if(Ke&&b.mode&1){var Ze=Tu(p);if(Ze!==null){(Ze.flags&65536)===0&&(Ze.flags|=256),Pu(Ze,p,b,f,t),yo(Wn(S,b));break e}}f=S=Wn(S,b),it!==4&&(it=2),Js===null?Js=[f]:Js.push(f),f=p;do{switch(f.tag){case 3:f.flags|=65536,t&=-t,f.lanes|=t;var O=Nu(f,S,t);Zc(f,O);break e;case 1:b=S;var j=f.type,L=f.stateNode;if((f.flags&128)===0&&(typeof j.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(Kr===null||!Kr.has(L)))){f.flags|=65536,t&=-t,f.lanes|=t;var G=Eu(f,b,t);Zc(f,G);break e}}f=f.return}while(f!==null)}od(n)}catch(ie){t=ie,et===n&&n!==null&&(et=n=n.return);continue}break}while(!0)}function id(){var e=ta.current;return ta.current=Ji,e===null?Ji:e}function al(){(it===0||it===3||it===2)&&(it=4),lt===null||(fn&268435455)===0&&(ra&268435455)===0||Yr(lt,ht)}function la(e,t){var n=Ce;Ce|=2;var i=id();(lt!==e||ht!==t)&&(kr=null,pn(e,t));do try{am();break}catch(d){sd(e,d)}while(!0);if(xo(),Ce=n,ta.current=i,et!==null)throw Error(s(261));return lt=null,ht=0,it}function am(){for(;et!==null;)ad(et)}function om(){for(;et!==null&&!Pa();)ad(et)}function ad(e){var t=ud(e.alternate,e,Ft);e.memoizedProps=e.pendingProps,t===null?od(e):et=t,Qo.current=null}function od(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=Zf(n,t,Ft),n!==null){et=n;return}}else{if(n=em(n,t),n!==null){n.flags&=32767,et=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{it=6,et=null;return}}if(t=t.sibling,t!==null){et=t;return}et=t=e}while(t!==null);it===0&&(it=5)}function gn(e,t,n){var i=$e,d=Gt.transition;try{Gt.transition=null,$e=1,lm(e,t,n,i)}finally{Gt.transition=d,$e=i}return null}function lm(e,t,n,i){do Gn();while(Gr!==null);if((Ce&6)!==0)throw Error(s(327));n=e.finishedWork;var d=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var f=n.lanes|n.childLanes;if(zh(e,f),e===lt&&(et=lt=null,ht=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||sa||(sa=!0,dd(hi,function(){return Gn(),null})),f=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||f){f=Gt.transition,Gt.transition=null;var p=$e;$e=1;var b=Ce;Ce|=4,Qo.current=null,rm(e,n),Qu(n,e),Cf(io),xi=!!so,io=so=null,e.current=n,nm(n),Oa(),Ce=b,$e=p,Gt.transition=f}else e.current=n;if(sa&&(sa=!1,Gr=e,ia=d),f=e.pendingLanes,f===0&&(Kr=null),Ih(n.stateNode),Pt(e,Je()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)d=t[n],i(d.value,{componentStack:d.stack,digest:d.digest});if(na)throw na=!1,e=el,el=null,e;return(ia&1)!==0&&e.tag!==0&&Gn(),f=e.pendingLanes,(f&1)!==0?e===tl?Ys++:(Ys=0,tl=e):Ys=0,Hr(),null}function Gn(){if(Gr!==null){var e=Jl(ia),t=Gt.transition,n=$e;try{if(Gt.transition=null,$e=16>e?16:e,Gr===null)var i=!1;else{if(e=Gr,Gr=null,ia=0,(Ce&6)!==0)throw Error(s(331));var d=Ce;for(Ce|=4,re=e.current;re!==null;){var f=re,p=f.child;if((re.flags&16)!==0){var b=f.deletions;if(b!==null){for(var S=0;S<b.length;S++){var U=b[S];for(re=U;re!==null;){var W=re;switch(W.tag){case 0:case 11:case 15:Ks(8,W,f)}var q=W.child;if(q!==null)q.return=W,re=q;else for(;re!==null;){W=re;var H=W.sibling,ee=W.return;if(qu(W),W===U){re=null;break}if(H!==null){H.return=ee,re=H;break}re=ee}}}var ne=f.alternate;if(ne!==null){var se=ne.child;if(se!==null){ne.child=null;do{var Ze=se.sibling;se.sibling=null,se=Ze}while(se!==null)}}re=f}}if((f.subtreeFlags&2064)!==0&&p!==null)p.return=f,re=p;else e:for(;re!==null;){if(f=re,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:Ks(9,f,f.return)}var O=f.sibling;if(O!==null){O.return=f.return,re=O;break e}re=f.return}}var j=e.current;for(re=j;re!==null;){p=re;var L=p.child;if((p.subtreeFlags&2064)!==0&&L!==null)L.return=p,re=L;else e:for(p=j;re!==null;){if(b=re,(b.flags&2048)!==0)try{switch(b.tag){case 0:case 11:case 15:ea(9,b)}}catch(ie){Xe(b,b.return,ie)}if(b===p){re=null;break e}var G=b.sibling;if(G!==null){G.return=b.return,re=G;break e}re=b.return}}if(Ce=d,Hr(),ar&&typeof ar.onPostCommitFiberRoot=="function")try{ar.onPostCommitFiberRoot(fi,e)}catch{}i=!0}return i}finally{$e=n,Gt.transition=t}}return!1}function ld(e,t,n){t=Wn(n,t),t=Nu(e,t,1),e=Vr(e,t,1),t=_t(),e!==null&&(ws(e,1,t),Pt(e,t))}function Xe(e,t,n){if(e.tag===3)ld(e,e,n);else for(;t!==null;){if(t.tag===3){ld(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Kr===null||!Kr.has(i))){e=Wn(n,e),e=Eu(t,e,1),t=Vr(t,e,1),e=_t(),t!==null&&(ws(t,1,e),Pt(t,e));break}}t=t.return}}function cm(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=_t(),e.pingedLanes|=e.suspendedLanes&n,lt===e&&(ht&n)===n&&(it===4||it===3&&(ht&130023424)===ht&&500>Je()-Zo?pn(e,0):Xo|=n),Pt(e,t)}function cd(e,t){t===0&&((e.mode&1)===0?t=1:(t=pi,pi<<=1,(pi&130023424)===0&&(pi=4194304)));var n=_t();e=br(e,t),e!==null&&(ws(e,t,n),Pt(e,n))}function um(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),cd(e,n)}function dm(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,d=e.memoizedState;d!==null&&(n=d.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(s(314))}i!==null&&i.delete(t),cd(e,n)}var ud;ud=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Nt.current)Ct=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return Ct=!1,Xf(e,t,n);Ct=(e.flags&131072)!==0}else Ct=!1,Ke&&(t.flags&1048576)!==0&&Hc(t,$i,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Xi(e,t),e=t.pendingProps;var d=Ln(t,gt.current);Bn(t,n),d=Po(null,t,i,e,d,n);var f=Oo();return t.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Et(i)?(f=!0,Ri(t)):f=!1,t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,So(t),d.updater=Yi,t.stateNode=d,d._reactInternals=t,$o(t,i,e,n),t=zo(null,t,i,!0,f,n)):(t.tag=0,Ke&&f&&fo(t),bt(null,t,d,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Xi(e,t),e=t.pendingProps,d=i._init,i=d(i._payload),t.type=i,d=t.tag=fm(i),e=Zt(i,e),d){case 0:t=Fo(null,t,i,e,n);break e;case 1:t=Lu(null,t,i,e,n);break e;case 11:t=Ou(null,t,i,e,n);break e;case 14:t=Du(null,t,i,Zt(i.type,e),n);break e}throw Error(s(306,i,""))}return t;case 0:return i=t.type,d=t.pendingProps,d=t.elementType===i?d:Zt(i,d),Fo(e,t,i,d,n);case 1:return i=t.type,d=t.pendingProps,d=t.elementType===i?d:Zt(i,d),Lu(e,t,i,d,n);case 3:e:{if($u(t),e===null)throw Error(s(387));i=t.pendingProps,f=t.memoizedState,d=f.element,Xc(e,t),Hi(t,i,null,n);var p=t.memoizedState;if(i=p.element,f.isDehydrated)if(f={element:i,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){d=Wn(Error(s(423)),t),t=Mu(e,t,i,n,d);break e}else if(i!==d){d=Wn(Error(s(424)),t),t=Mu(e,t,i,n,d);break e}else for(Ut=Fr(t.stateNode.containerInfo.firstChild),Mt=t,Ke=!0,Xt=null,n=Yc(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Un(),i===d){t=Sr(e,t,n);break e}bt(e,t,i,n)}t=t.child}return t;case 5:return tu(t),e===null&&go(t),i=t.type,d=t.pendingProps,f=e!==null?e.memoizedProps:null,p=d.children,ao(i,d)?p=null:f!==null&&ao(i,f)&&(t.flags|=32),Iu(e,t),bt(e,t,p,n),t.child;case 6:return e===null&&go(t),null;case 13:return Uu(e,t,n);case 4:return ko(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Fn(t,null,i,n):bt(e,t,i,n),t.child;case 11:return i=t.type,d=t.pendingProps,d=t.elementType===i?d:Zt(i,d),Ou(e,t,i,d,n);case 7:return bt(e,t,t.pendingProps,n),t.child;case 8:return bt(e,t,t.pendingProps.children,n),t.child;case 12:return bt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,d=t.pendingProps,f=t.memoizedProps,p=d.value,Fe(Fi,i._currentValue),i._currentValue=p,f!==null)if(Qt(f.value,p)){if(f.children===d.children&&!Nt.current){t=Sr(e,t,n);break e}}else for(f=t.child,f!==null&&(f.return=t);f!==null;){var b=f.dependencies;if(b!==null){p=f.child;for(var S=b.firstContext;S!==null;){if(S.context===i){if(f.tag===1){S=_r(-1,n&-n),S.tag=2;var U=f.updateQueue;if(U!==null){U=U.shared;var W=U.pending;W===null?S.next=S:(S.next=W.next,W.next=S),U.pending=S}}f.lanes|=n,S=f.alternate,S!==null&&(S.lanes|=n),bo(f.return,n,t),b.lanes|=n;break}S=S.next}}else if(f.tag===10)p=f.type===t.type?null:f.child;else if(f.tag===18){if(p=f.return,p===null)throw Error(s(341));p.lanes|=n,b=p.alternate,b!==null&&(b.lanes|=n),bo(p,n,t),p=f.sibling}else p=f.child;if(p!==null)p.return=f;else for(p=f;p!==null;){if(p===t){p=null;break}if(f=p.sibling,f!==null){f.return=p.return,p=f;break}p=p.return}f=p}bt(e,t,d.children,n),t=t.child}return t;case 9:return d=t.type,i=t.pendingProps.children,Bn(t,n),d=qt(d),i=i(d),t.flags|=1,bt(e,t,i,n),t.child;case 14:return i=t.type,d=Zt(i,t.pendingProps),d=Zt(i.type,d),Du(e,t,i,d,n);case 15:return Au(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,d=t.pendingProps,d=t.elementType===i?d:Zt(i,d),Xi(e,t),t.tag=1,Et(i)?(e=!0,Ri(t)):e=!1,Bn(t,n),ku(t,i,d),$o(t,i,d,n),zo(null,t,i,!0,e,n);case 19:return zu(e,t,n);case 22:return Ru(e,t,n)}throw Error(s(156,t.tag))};function dd(e,t){return Ht(e,t)}function hm(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jt(e,t,n,i){return new hm(e,t,n,i)}function ol(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fm(e){if(typeof e=="function")return ol(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ge)return 11;if(e===nt)return 14}return 2}function Qr(e,t){var n=e.alternate;return n===null?(n=Jt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ca(e,t,n,i,d,f){var p=2;if(i=e,typeof e=="function")ol(e)&&(p=1);else if(typeof e=="string")p=5;else e:switch(e){case te:return yn(n.children,d,f,t);case fe:p=8,d|=8;break;case we:return e=Jt(12,n,t,d|2),e.elementType=we,e.lanes=f,e;case Le:return e=Jt(13,n,t,d),e.elementType=Le,e.lanes=f,e;case be:return e=Jt(19,n,t,d),e.elementType=be,e.lanes=f,e;case Ne:return ua(n,d,f,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case je:p=10;break e;case Me:p=9;break e;case Ge:p=11;break e;case nt:p=14;break e;case Te:p=16,i=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return t=Jt(p,n,t,d),t.elementType=e,t.type=i,t.lanes=f,t}function yn(e,t,n,i){return e=Jt(7,e,i,t),e.lanes=n,e}function ua(e,t,n,i){return e=Jt(22,e,i,t),e.elementType=Ne,e.lanes=n,e.stateNode={isHidden:!1},e}function ll(e,t,n){return e=Jt(6,e,null,t),e.lanes=n,e}function cl(e,t,n){return t=Jt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function mm(e,t,n,i,d){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ia(0),this.expirationTimes=Ia(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ia(0),this.identifierPrefix=i,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function ul(e,t,n,i,d,f,p,b,S){return e=new mm(e,t,n,b,S),t===1?(t=1,f===!0&&(t|=8)):t=0,f=Jt(3,null,null,t),e.current=f,f.stateNode=e,f.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},So(f),e}function pm(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function hd(e){if(!e)return Br;e=e._reactInternals;e:{if(qe(e)!==e||e.tag!==1)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Et(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(s(171))}if(e.tag===1){var n=e.type;if(Et(n))return Fc(e,n,t)}return t}function fd(e,t,n,i,d,f,p,b,S){return e=ul(n,i,!0,e,d,f,p,b,S),e.context=hd(null),n=e.current,i=_t(),d=Jr(n),f=_r(i,d),f.callback=t??null,Vr(n,f,d),e.current.lanes=d,ws(e,d,i),Pt(e,i),e}function da(e,t,n,i){var d=t.current,f=_t(),p=Jr(d);return n=hd(n),t.context===null?t.context=n:t.pendingContext=n,t=_r(f,p),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=Vr(d,t,p),e!==null&&(rr(e,d,p,f),Bi(e,d,p)),p}function ha(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function md(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function dl(e,t){md(e,t),(e=e.alternate)&&md(e,t)}function gm(){return null}var pd=typeof reportError=="function"?reportError:function(e){console.error(e)};function hl(e){this._internalRoot=e}fa.prototype.render=hl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));da(e,t,null,null)},fa.prototype.unmount=hl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;mn(function(){da(null,e,null,null)}),t[yr]=null}};function fa(e){this._internalRoot=e}fa.prototype.unstable_scheduleHydration=function(e){if(e){var t=Xl();e={blockedOn:null,target:e,priority:t};for(var n=0;n<$r.length&&t!==0&&t<$r[n].priority;n++);$r.splice(n,0,e),n===0&&tc(e)}};function fl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ma(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function gd(){}function ym(e,t,n,i,d){if(d){if(typeof i=="function"){var f=i;i=function(){var U=ha(p);f.call(U)}}var p=fd(t,i,e,0,null,!1,!1,"",gd);return e._reactRootContainer=p,e[yr]=p.current,Rs(e.nodeType===8?e.parentNode:e),mn(),p}for(;d=e.lastChild;)e.removeChild(d);if(typeof i=="function"){var b=i;i=function(){var U=ha(S);b.call(U)}}var S=ul(e,0,!1,null,null,!1,!1,"",gd);return e._reactRootContainer=S,e[yr]=S.current,Rs(e.nodeType===8?e.parentNode:e),mn(function(){da(t,S,n,i)}),S}function pa(e,t,n,i,d){var f=n._reactRootContainer;if(f){var p=f;if(typeof d=="function"){var b=d;d=function(){var S=ha(p);b.call(S)}}da(t,p,e,d)}else p=ym(n,t,e,d,i);return ha(p)}Yl=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=xs(t.pendingLanes);n!==0&&(La(t,n|1),Pt(t,Je()),(Ce&6)===0&&(Kn=Je()+500,Hr()))}break;case 13:mn(function(){var i=br(e,1);if(i!==null){var d=_t();rr(i,e,1,d)}}),dl(e,1)}},$a=function(e){if(e.tag===13){var t=br(e,134217728);if(t!==null){var n=_t();rr(t,e,134217728,n)}dl(e,134217728)}},Ql=function(e){if(e.tag===13){var t=Jr(e),n=br(e,t);if(n!==null){var i=_t();rr(n,e,t,i)}dl(e,t)}},Xl=function(){return $e},Zl=function(e,t){var n=$e;try{return $e=e,t()}finally{$e=n}},Re=function(e,t,n){switch(t){case"input":if(Pe(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var d=Di(i);if(!d)throw Error(s(90));ge(i),Pe(i,d)}}}break;case"textarea":ds(e,n);break;case"select":t=n.value,t!=null&&Ve(e,!!n.multiple,t,!1)}},Y=sl,Ie=mn;var vm={usingClientEntryPoint:!1,Events:[$s,Rn,Di,M,N,sl]},Qs={findFiberByHostInstance:an,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xm={bundleType:Qs.bundleType,version:Qs.version,rendererPackageName:Qs.rendererPackageName,rendererConfig:Qs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ar(e),e===null?null:e.stateNode},findFiberByHostInstance:Qs.findFiberByHostInstance||gm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ga=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ga.isDisabled&&ga.supportsFiber)try{fi=ga.inject(xm),ar=ga}catch{}}return Dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vm,Dt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fl(t))throw Error(s(200));return pm(e,t,null,n)},Dt.createRoot=function(e,t){if(!fl(e))throw Error(s(299));var n=!1,i="",d=pd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),t=ul(e,1,!1,null,null,n,!1,i,d),e[yr]=t.current,Rs(e.nodeType===8?e.parentNode:e),new hl(t)},Dt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=Ar(t),e=e===null?null:e.stateNode,e},Dt.flushSync=function(e){return mn(e)},Dt.hydrate=function(e,t,n){if(!ma(t))throw Error(s(200));return pa(null,e,t,!0,n)},Dt.hydrateRoot=function(e,t,n){if(!fl(e))throw Error(s(405));var i=n!=null&&n.hydratedSources||null,d=!1,f="",p=pd;if(n!=null&&(n.unstable_strictMode===!0&&(d=!0),n.identifierPrefix!==void 0&&(f=n.identifierPrefix),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),t=fd(t,null,e,1,n??null,d,!1,f,p),e[yr]=t.current,Rs(e),i)for(e=0;e<i.length;e++)n=i[e],d=n._getVersion,d=d(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,d]:t.mutableSourceEagerHydrationData.push(n,d);return new fa(t)},Dt.render=function(e,t,n){if(!ma(t))throw Error(s(200));return pa(null,e,t,!1,n)},Dt.unmountComponentAtNode=function(e){if(!ma(e))throw Error(s(40));return e._reactRootContainer?(mn(function(){pa(null,null,e,!1,function(){e._reactRootContainer=null,e[yr]=null})}),!0):!1},Dt.unstable_batchedUpdates=sl,Dt.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!ma(n))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return pa(e,t,n,!1,i)},Dt.version="18.3.1-next-f1338f8080-20240426",Dt}var Qd;function cy(){if(Qd)return kl.exports;Qd=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(r){console.error(r)}}return l(),kl.exports=ly(),kl.exports}var Xd;function uy(){if(Xd)return ba;Xd=1;var l=cy();return ba.createRoot=l.createRoot,ba.hydrateRoot=l.hydrateRoot,ba}var dy=uy(),z=zl();function El(l){try{return new Date(l).toLocaleDateString(navigator.language||"en-US",{day:"numeric",month:"short",year:"numeric"})}catch{return new Date(l).toDateString()}}function Ph(l,r){const s=new Date(l),a=new Date(r||l);if(s.toDateString()===a.toDateString())return El(s);if(s.getFullYear()===a.getFullYear()&&s.getMonth()===a.getMonth()){const o=s.toLocaleDateString(navigator.language||"en-US",{day:"numeric"}),c=s.toLocaleDateString(navigator.language||"en-US",{month:"short",year:"numeric"}),h=a.toLocaleDateString(navigator.language||"en-US",{day:"numeric"});return`${o}${h} ${c}`}if(s.getFullYear()===a.getFullYear()){const o=s.toLocaleDateString(navigator.language||"en-US",{day:"numeric",month:"short"}),c=a.toLocaleDateString(navigator.language||"en-US",{day:"numeric",month:"short",year:"numeric"});return`${o}  ${c}`}return`${El(s)}  ${El(a)}`}function hy(l,r){l=l.toLowerCase(),r=r.toLowerCase();const s=l.length,a=r.length;if(s===0)return a;if(a===0)return s;const o=Array.from({length:s+1},()=>new Array(a+1).fill(0));for(let c=0;c<=s;c++)o[c][0]=c;for(let c=0;c<=a;c++)o[0][c]=c;for(let c=1;c<=s;c++)for(let h=1;h<=a;h++){const m=l[c-1]===r[h-1]?0:1;o[c][h]=Math.min(o[c-1][h]+1,o[c][h-1]+1,o[c-1][h-1]+m)}return o[s][a]}function fy(l,r){if(!l||!r)return 0;if(l=l.toLowerCase().trim(),r=r.toLowerCase().trim(),l===r)return 1;if(l.includes(r)||r.includes(l))return .9;const s=hy(l,r),a=Math.max(l.length,r.length),o=(a-s)/a;return a<=6&&s<=2?Math.max(.7,o):a<=10&&s<=3?Math.max(.6,o):o}function my(l){return l.map(r=>({college:r.college,event:r.eventName,city:r.location,start:Zd(r.dates),end:Zd(r.dates,!0),type:r.type,comp:r.competition,id:r.id,createdAt:r.createdAt||0,subEvents:r.events||[]}))}function Zd(l,r=!1){const s=l.match(/(\d{1,2})(?:st|nd|rd|th)?\s+to\s+(\d{1,2})(?:st|nd|rd|th)?\s+(\w+)\s+(\d{2})/);if(s){const[,o,c,h,m]=s,g=parseInt(m)+2e3,y=eh(h),v=parseInt(r?c:o);return`${g}-${y.toString().padStart(2,"0")}-${v.toString().padStart(2,"0")}`}const a=l.match(/(\d{1,2})(?:st|nd|rd|th)?\s+(\w+)\s+(\d{2})/);if(a){const[,o,c,h]=a,m=parseInt(h)+2e3,g=eh(c);return`${m}-${g.toString().padStart(2,"0")}-${parseInt(o).toString().padStart(2,"0")}`}return"2025-01-01"}function eh(l){return{jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12}[l.toLowerCase()]||1}const Oh="grid grid-cols-[1fr_124px] items-start gap-3",py=({children:l})=>u.jsx("div",{className:"w-full max-w-[360px] h-[100dvh] mx-auto bg-white border rounded-2xl shadow-sm flex flex-col overflow-hidden",children:l});function gy({navigate:l,userProfile:r}){const s=r.name||"User";return u.jsx("div",{className:"h-14 bg-neutral-100/80 border-b backdrop-blur flex items-center px-4 justify-end shrink-0",children:u.jsx("button",{className:"px-3 py-1.5 border rounded-lg bg-white hover:bg-neutral-50 transition-transform duration-75 active:scale-95","aria-label":`${s} Menu`,onClick:()=>l("org_dashboard"),children:s})})}function yy({query:l,setQuery:r}){return u.jsx("div",{className:"shrink-0 bg-white border-b",children:u.jsx("div",{className:"px-4 py-2",children:u.jsxs("div",{className:"h-10 w-full rounded-xl border bg-white flex items-center gap-2 px-2 text-neutral-700",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-neutral-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-4.35-4.35M10 18a8 8 0 100-16 8 8 0 000 16z"})}),u.jsx("input",{value:l,onChange:s=>r(s.target.value),placeholder:"Search: College / Event / City / Type or date",className:"flex-1 outline-none placeholder:text-neutral-400","aria-label":"Search events"}),l&&u.jsx("button",{onClick:()=>r(""),className:"px-2 py-1 border rounded-md hover:bg-neutral-50",title:"Clear search",children:"Clear"})]})})})}function vy(){return u.jsx("div",{className:"shrink-0 border-b border-t bg-white",children:u.jsx("div",{className:"w-full max-w-full mx-auto px-3 py-3",children:u.jsxs("div",{className:Oh,children:[u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"leading-5",children:"College Name"}),u.jsx("div",{className:"leading-5",children:"Event Name"}),u.jsx("div",{className:"leading-5 text-neutral-700",children:"City, Locality"})]}),u.jsxs("div",{className:"text-right leading-5",children:[u.jsx("div",{children:"Event Dates"}),u.jsx("div",{children:"Event Type"}),u.jsx("div",{children:"Competition Type"})]})]})})})}function xy(){return u.jsxs("div",{className:"text-center py-10 px-6",children:[u.jsx("div",{className:"text-neutral-700",children:"No events found"}),u.jsx("div",{className:"text-neutral-400 mt-1",children:"Refine your search by another city, college, type, or date"})]})}function wy({data:l,onClick:r}){const s=Ph(l.start,l.end);return u.jsx("div",{className:"w-full max-w-full mx-auto block text-left px-3 py-3 rounded-xl border shadow-sm bg-white cursor-pointer transition-transform duration-75 active:scale-95",onClick:r,children:u.jsxs("div",{className:Oh,children:[u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"leading-5",children:l.college}),u.jsx("div",{className:"leading-5 whitespace-pre-line",children:l.event}),u.jsx("div",{className:"leading-5 text-neutral-700",children:l.city})]}),u.jsxs("div",{className:"text-right leading-5 whitespace-pre-line",children:[u.jsx("div",{children:s}),u.jsx("div",{children:l.type}),l.comp&&u.jsx("div",{children:l.comp})]})]})})}function by({query:l,navigate:r,events:s}){let o=my(s).map((T,E)=>({...T,key:`event-${E}`}));const c=new Date;c.setHours(0,0,0,0);const h=new Date(c);h.setDate(h.getDate()-7);const g=o.filter(T=>{const E=new Date(T.end);return E.setHours(23,59,59,999),E>=h}).map(T=>{const E=new Date(T.start),P=new Date(T.end);E.setHours(0,0,0,0),P.setHours(23,59,59,999);let D,R;return c>=E&&c<=P?(D="current",R=E.getTime()):c<E?(D="upcoming",R=E.getTime()):(D="past",R=-P.getTime()),{...T,category:D,sortKey:R}}),y=g.filter(T=>T.category==="current").sort((T,E)=>T.sortKey!==E.sortKey?T.sortKey-E.sortKey:(T.createdAt||0)-(E.createdAt||0)),v=g.filter(T=>T.category==="upcoming").sort((T,E)=>T.sortKey!==E.sortKey?T.sortKey-E.sortKey:(T.createdAt||0)-(E.createdAt||0)),_=g.filter(T=>T.category==="past").sort((T,E)=>T.sortKey!==E.sortKey?T.sortKey-E.sortKey:(T.createdAt||0)-(E.createdAt||0));o=[...y,...v,..._];const w=z.useMemo(()=>{const T=(l||"").trim();if(!T)return o;const E=T.split(/\s+/).filter(Boolean);return o.filter(P=>{const D=[P.college,P.event,P.city,P.type,P.comp,...(P.subEvents||[]).map(R=>`${R.name||""} ${R.type||""}`),Ph(P.start,P.end)].join(" ").toLowerCase();return E.every(R=>{const $=R.toLowerCase();return D.includes($)?!0:D.split(/\s+/).filter(Boolean).some(V=>{if(V===$||V.includes($)||$.includes(V))return!0;if($.length>=3&&V.length>=3){const B=fy($,V),te=$.length<=4?.7:.6;return B>=te}return!1})})})},[o,l]),A=T=>{["pandu","kaiso","maker","aitran","saman","sund"].includes(T)?r(`detail_${T}`,T):r("event_detail",T)};return u.jsx("div",{className:"pb-6",children:u.jsx("div",{className:"mt-2 space-y-2",children:w.length===0?u.jsx(xy,{}):w.map(T=>u.jsx(wy,{data:T,onClick:()=>A(T.id)},T.key))})})}function _a({navigate:l,events:r,userProfile:s}){const[a,o]=z.useState("");return u.jsxs(py,{children:[u.jsx(gy,{navigate:l,userProfile:s}),u.jsx(yy,{query:a,setQuery:o}),u.jsx(vy,{}),u.jsx("div",{className:"flex-1 overflow-y-auto overscroll-y-contain scrollbar-hide inertial-scroll-y",children:u.jsx(by,{query:a,navigate:l,events:r})})]})}function _y({navigate:l,event:r,onRegister:s,registeredEvents:a,setCurrentLiveStream:o,selectedSubEvent:c,userProfile:h}){const m=()=>{alert("Final results will be displayed, only if events team decide to to release it here, on event day.")},g=D=>{const R=`sub-event-${D+1}`,$=localStorage.getItem(`zhevents_live_stream_${R}`);if($)try{if(JSON.parse($).activated){o&&o(R,r.eventName),l("liveStream");return}}catch(I){console.error("Error parsing stream info:",I)}alert("Live feed on event day, if the event is streamed live here.")},y=D=>D.replace(/(\d+)(?:st|nd|rd|th)?\s+to\s+(\d+)(?:st|nd|rd|th)?/,"$1$2"),v=D=>{if(D.includes("")){const[R,$]=D.split("");return R.trim()===$.trim()?`${R.trim()} max`:`${D} max`}return D==="1"?D:`${D} max`},_=D=>D&&D.replace(/(\d+)(am|pm)/gi,"$1 $2"),w=D=>D==="TBD"?D:D.replace(/(\d+)(am|pm)/gi,"$1 $2").replace(/\(or until slots are available\)/gi,"or until slots are available"),A=D=>{if(r.subEventsDetail&&r.subEventsDetail[D]){const R=r.subEventsDetail[D];if(R.timeLimitNotApplicable)return"N.A.";const $=parseInt(R.performanceDurationMin||"0"),I=parseInt(R.performanceDurationMax||"0");let V="";return $>0&&($===1?V+="1 hr":V+=`${$} hrs`),I>0&&(V&&(V+=" "),I===1?V+="1 min":V+=`${I} mins`),$===0&&I===0?"00 hrs 00 mins":V}return"00 hrs 00 mins"},T=D=>{const R=`${r.id}:${D}`;return a.includes(R)},E=D=>{const $=r.events?.[D]?.deadline||r.deadline;if(!$||$==="TBD")return!1;try{const I=new Date;let V;if($.includes("at")){const B=$.split("at"),te=B[0].trim(),we=B[1].trim().match(/(\d+):(\d+)\s*(am|pm)/i);if(we){const[,je,Me,Ge]=we;let Le=parseInt(je);Ge.toLowerCase()==="pm"&&Le!==12?Le+=12:Ge.toLowerCase()==="am"&&Le===12&&(Le=0),V=new Date(te),V.setHours(Le,parseInt(Me),0,0)}else V=new Date(te),V.setHours(23,59,59,999)}else V=new Date($),V.setHours(23,59,59,999);return I>V}catch(I){return console.warn("Could not parse deadline:",$,I),!1}},P=D=>{if(T(D))return;if(E(D)){alert("We regret to inform you that the registration deadline has passed. Request you to check with the event team for OTSE");return}const R=h?{name:h.name||"Unknown",college:h.profileData?.collegeName||"Unknown College",phone:h.phone||"0000000000",email:h.email||"unknown@example.com"}:void 0;s(r.id,D,R)};return u.jsxs("div",{className:"w-full min-h-screen bg-white p-4",children:[u.jsx("div",{className:"mb-6",children:u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-sm text-black",children:r.collegeName||r.college}),u.jsx("p",{className:"text-sm text-black",children:"Presents"}),u.jsx("h1",{className:"text-xl font-extrabold text-black",children:r.eventName}),(r.collegeAddress||r.collegeLocality||r.city||r.pinCode)&&u.jsx("p",{className:"text-sm text-black",children:[r.collegeAddress,r.collegeLocality,r.city,r.pinCode].filter(Boolean).join(", ")}),!r.collegeAddress&&!r.collegeLocality&&!r.city&&!r.pinCode&&r.address&&u.jsx("p",{className:"text-sm text-black",children:r.address}),u.jsxs("p",{className:"text-sm text-black",children:[r.competition,u.jsx("span",{className:"font-bold",children:"."})," ",y(r.dates)]})]})}),r.events&&r.events.length>0&&u.jsx("div",{className:"mb-6",children:r.events.map((D,R)=>c!=null&&R!==c?null:u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-start mb-2",children:[u.jsxs("div",{className:"text-sm text-black",children:[u.jsx("strong",{children:D.name}),u.jsx("br",{}),"Event Type: ",D.type,u.jsx("br",{}),"Competition: ",D.competition,u.jsx("br",{}),"Group/Single: ",D.groupType,u.jsx("br",{}),"Date: ",D.date,u.jsx("br",{}),"Time: ",_(D.time),u.jsx("br",{}),"Performance Duration: ",A(R),u.jsx("br",{}),"Participants: ",v(D.participants)]}),u.jsx("button",{onClick:()=>g(R),className:"px-2 py-1 bg-gray-200 border border-gray-400 rounded text-sm text-black ml-4 shrink-0 hover:bg-gray-300 transition-colors",children:"Live"})]}),u.jsx("div",{className:"text-sm text-black mb-6",children:D.rules&&D.rules.length>0?u.jsxs(u.Fragment,{children:[u.jsx("strong",{children:"Rules:"}),u.jsx("ol",{className:"list-decimal list-inside",children:D.rules.map(($,I)=>u.jsx("li",{children:$},I))})]}):u.jsxs("div",{children:[u.jsx("strong",{children:"Rules:"})," No rules specified."]})}),u.jsxs("div",{className:"text-sm text-black mb-6",children:["Contact Person: ",(()=>{const $=D.contact||r.contact||"TBD";return $==="TBD"?"TBD":$.split("")[0].trim()||$})(),u.jsx("br",{}),"Contact No.: ",(()=>{const $=D.contact||r.contact||"TBD";if($==="TBD")return"TBD";const I=$.split("");if(I.length>1){const B=I[1].trim().match(/\d{10}/);return B?B[0]:"TBD"}return"TBD"})(),u.jsx("br",{}),"Entry Fees: ",D.entryFees||r.entryFees||"TBD",u.jsx("br",{}),"Registration Deadline: ",w(D.deadline||r.deadline||"TBD"),u.jsx("br",{}),"OTSE: ",D.otse||r.otse||"TBD"]}),u.jsxs("div",{className:"flex gap-4 mb-6",children:[u.jsx("button",{onClick:()=>P(R),disabled:T(R),className:`flex-1 h-10 ${T(R)?"bg-gray-200 border border-gray-400 text-black":"bg-gray-200 border border-gray-400 text-black hover:bg-gray-300"} rounded-lg font-semibold text-sm transition-colors flex justify-center items-center`,children:T(R)?"Registered ":"Register"}),u.jsx("button",{onClick:m,className:"flex-1 h-10 bg-gray-200 border border-gray-400 rounded-lg font-semibold text-sm text-black hover:bg-gray-300 transition-colors flex justify-center items-center",children:"Results"})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("p",{className:"text-xs text-black mb-4",children:"Event details are subject to change. Please check here periodically for updates."}),u.jsx("div",{className:"border-t border-gray-300 pt-4"})]})]},R))}),r.organizingCommittee&&r.organizingCommittee.length>1&&u.jsxs("div",{className:"mb-6",children:[u.jsx("p",{className:"text-xs font-bold text-black text-right mb-1",children:"Event Team"}),r.organizingCommittee.map((D,R)=>u.jsxs("p",{className:"text-xs text-black text-right",children:[D.name,". ",D.designation||"Not specified",". ",D.phone]},R))]}),u.jsx("button",{onClick:()=>l("home"),className:"mt-6 px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg text-sm font-semibold text-black hover:bg-gray-200 transition-colors",children:" Back to Home"})]})}function Sy({navigate:l}){const[r,s]=z.useState({fullName:"",collegeName:"",eventName:"",phone:"",email:""}),[a,o]=z.useState({phone:!1}),c=(m,g)=>{if(m==="phone"){const v=g.replace(/[^0-9]/g,"").slice(0,10);s(_=>({..._,[m]:v})),a.phone&&o(_=>({..._,phone:!1}))}else s(y=>({...y,[m]:g}))},h=()=>{if(r.phone.length<10){o(m=>({...m,phone:!0}));return}alert("Registration submitted successfully!"),l("home")};return u.jsxs("div",{className:"w-full min-h-screen bg-white p-4",children:[u.jsx("h1",{className:"text-lg font-bold text-black mb-6",children:"Register (Participation)"}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"w-full h-11 bg-gray-100 border border-gray-300 rounded-lg px-3 flex items-center",children:u.jsx("input",{type:"text",placeholder:"Full Name",value:r.fullName,onChange:m=>c("fullName",m.target.value),className:"w-full bg-transparent text-sm text-black outline-none"})}),u.jsx("div",{className:"w-full h-11 bg-gray-100 border border-gray-300 rounded-lg px-3 flex items-center",children:u.jsx("input",{type:"text",placeholder:"College Name",value:r.collegeName,onChange:m=>c("collegeName",m.target.value),className:"w-full bg-transparent text-sm text-black outline-none"})}),u.jsx("div",{className:"w-full h-11 bg-gray-100 border border-gray-300 rounded-lg px-3 flex items-center",children:u.jsx("input",{type:"text",placeholder:"Event Name",value:r.eventName,onChange:m=>c("eventName",m.target.value),className:"w-full bg-transparent text-sm text-black outline-none"})}),u.jsx("div",{className:`w-full h-11 bg-gray-100 border rounded-lg px-3 flex items-center ${a.phone?"border-red-500 bg-red-50":"border-gray-300"}`,children:u.jsx("input",{type:"tel",placeholder:"Mobile Number",value:r.phone,onChange:m=>c("phone",m.target.value),className:"w-full bg-transparent text-sm text-black outline-none placeholder-black",maxLength:10})}),a.phone&&u.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Mobile number must be exactly 10 digits"}),u.jsx("div",{className:"w-full h-11 bg-gray-100 border border-gray-300 rounded-lg px-3 flex items-center",children:u.jsx("input",{type:"email",placeholder:"Email id (confirmation will be sent)",value:r.email,onChange:m=>c("email",m.target.value),className:"w-full bg-transparent text-sm text-black outline-none"})}),u.jsx("button",{onClick:h,className:"w-full h-11 bg-gray-200 border border-gray-400 rounded-lg font-semibold text-sm text-black hover:bg-gray-300 transition-colors",children:"Submit Registration"})]}),u.jsx("button",{onClick:()=>l("home"),className:"mt-6 px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg text-sm font-semibold text-black hover:bg-gray-200 transition-colors",children:" Back"})]})}const ky=[{position:"1st Prize",name:"Arjun Patel",college:"Pandurang College",phone:"9876543210",email:"arjun@example.com"},{position:"2nd Prize",name:"Priya Sharma",college:"Sindhu College",phone:"9876543211",email:"priya@example.com"},{position:"3rd Prize",name:"Rahul Kumar",college:"ABV College",phone:"9876543212",email:"rahul@example.com"}];function jy({navigate:l}){return u.jsxs("div",{className:"w-full min-h-screen bg-white p-4",children:[u.jsx("h1",{className:"text-lg font-bold text-black mb-6",children:"Results"}),u.jsx("div",{className:"space-y-2",children:ky.map((r,s)=>u.jsxs("p",{className:"text-sm text-black",children:[r.position,"  ",r.name,"  ",r.college,"  ",r.phone,"  ",r.email]},s))}),u.jsx("button",{onClick:()=>l("home"),className:"mt-6 px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg text-sm font-semibold text-black hover:bg-gray-200 transition-colors",children:" Back"})]})}function Ny({navigate:l}){return u.jsxs("div",{className:"w-full min-h-screen bg-white p-4",children:[u.jsx("h1",{className:"text-lg font-bold text-black mb-6",children:"Dashboard"}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("button",{onClick:()=>l("my_org"),className:"w-full h-12 bg-gray-100 border border-gray-300 rounded-lg flex items-center px-4 text-sm font-semibold text-black hover:bg-gray-200 transition-colors",children:"My Organised Events"}),u.jsx("button",{onClick:()=>l("add_event",void 0,void 0,!0),className:"w-full h-12 bg-gray-100 border border-gray-300 rounded-lg flex items-center px-4 text-sm font-semibold text-black hover:bg-gray-200 transition-colors",children:"Add New Event"}),u.jsx("button",{onClick:()=>l("my_part"),className:"w-full h-12 bg-gray-100 border border-gray-300 rounded-lg flex items-center px-4 text-sm font-semibold text-black hover:bg-gray-200 transition-colors",children:"My Participating Events"}),u.jsx("button",{onClick:()=>l("profile"),className:"w-full h-12 bg-gray-100 border border-gray-300 rounded-lg flex items-center px-4 text-sm font-semibold text-black hover:bg-gray-200 transition-colors",children:"Account / Profile"})]}),u.jsx("button",{onClick:()=>l("home"),className:"mt-6 px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg text-sm font-semibold text-black hover:bg-gray-200 transition-colors",children:" Back to Home"})]})}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=l=>l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Cy=l=>l.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,s,a)=>a?a.toUpperCase():s.toLowerCase()),th=l=>{const r=Cy(l);return r.charAt(0).toUpperCase()+r.slice(1)},Dh=(...l)=>l.filter((r,s,a)=>!!r&&r.trim()!==""&&a.indexOf(r)===s).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ty={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=z.forwardRef(({color:l="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:h,...m},g)=>z.createElement("svg",{ref:g,...Ty,width:r,height:r,stroke:l,strokeWidth:a?Number(s)*24/Number(r):s,className:Dh("lucide",o),...m},[...h.map(([y,v])=>z.createElement(y,v)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=(l,r)=>{const s=z.forwardRef(({className:a,...o},c)=>z.createElement(Py,{ref:c,iconNode:r,className:Dh(`lucide-${Ey(th(l))}`,`lucide-${l}`,a),...o}));return s.displayName=th(l),s};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oy=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ea=At("arrow-left",Oy);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],rh=At("calendar",Dy);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Fl=At("camera",Ay);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],nh=At("chevron-down",Ry);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],sh=At("chevron-up",Iy);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],$y=At("file-text",Ly);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Uy=At("mail",My);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],zy=At("message-circle",Fy);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=[["path",{d:"M5 12h14",key:"1ays0h"}]],ih=At("minus",By);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hy=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Zs=At("plus",Hy);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Ah=At("trash-2",Wy);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],qy=At("users",Vy);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Gy=At("wifi-off",Ky);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],ah=At("wifi",Jy);function Yy({isOpen:l,onClose:r,subEventId:s,subEventName:a,subEventStartDate:o}){const[c,h]=z.useState({first:"",second:"",third:""});if(!l)return null;const m=()=>{if(!o)return!1;const v=new Date,_=new Date(o);return v.setHours(0,0,0,0),_.setHours(0,0,0,0),v>=_},g=(v,_)=>{if(!m()){alert(`Results can only be entered on or after the event start date (${new Date(o||"").toLocaleDateString()}).`);return}h(w=>({...w,[v]:_}))},y=()=>{if(!m()){alert(`Results can only be entered on or after the event start date (${new Date(o||"").toLocaleDateString()}).`);return}alert("Results saved successfully!"),r()};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg p-4 max-w-sm mx-4 shadow-lg",children:[u.jsx("div",{className:"mb-3",children:u.jsxs("h3",{className:"text-lg font-semibold text-black mb-2",children:["Results - ",a]})}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm text-black",children:"1st Place:"}),u.jsx("input",{type:"text",value:c.first,onChange:v=>g("first",v.target.value),className:"w-full h-5 px-1 bg-gray-50 border border-gray-300 rounded text-sm text-black leading-none mt-0.5",placeholder:"Enter winner name"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm text-black",children:"2nd Place:"}),u.jsx("input",{type:"text",value:c.second,onChange:v=>g("second",v.target.value),className:"w-full h-5 px-1 bg-gray-50 border border-gray-300 rounded text-sm text-black leading-none mt-0.5",placeholder:"Enter runner-up name"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm text-black",children:"3rd Place:"}),u.jsx("input",{type:"text",value:c.third,onChange:v=>g("third",v.target.value),className:"w-full h-5 px-1 bg-gray-50 border border-gray-300 rounded text-sm text-black leading-none mt-0.5",placeholder:"Enter third place name"})]})]}),u.jsxs("div",{className:"flex gap-2 justify-end mt-4",children:[u.jsx("button",{onClick:r,className:"px-4 py-2 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors",children:"Cancel"}),u.jsx("button",{onClick:y,className:"px-4 py-2 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Save Results"})]})]})})}function Qy({isOpen:l,onClose:r,memberIndex:s,onOTPSent:a}){const[o,c]=z.useState("sending"),[h,m]=z.useState("");if(z.useEffect(()=>{l&&(c("sending"),setTimeout(()=>{c("enter-otp")},1e3))},[l]),!l)return null;const g=()=>{h==="123456"?(a(),r(),alert("OTP verified successfully!")):alert("Invalid OTP. Please try again.")};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsx("div",{className:"bg-white rounded-lg p-4 max-w-sm mx-4 shadow-lg",children:o==="sending"?u.jsxs("div",{className:"text-center",children:[u.jsx("h3",{className:"text-lg font-semibold text-black mb-2",children:"Sending OTP"}),u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"To confirm Phone Number, a OTP is sent on registered mobile number"}),u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})]}):u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-black mb-2",children:"Enter OTP"}),u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Please enter the OTP sent to your mobile number"}),u.jsx("input",{type:"text",value:h,onChange:y=>m(y.target.value),className:"w-full h-8 px-2 bg-gray-50 border border-gray-300 rounded text-sm text-black mb-4",placeholder:"Enter OTP",maxLength:6}),u.jsxs("div",{className:"flex gap-2 justify-end",children:[u.jsx("button",{onClick:r,className:"px-4 py-2 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors",children:"Cancel"}),u.jsx("button",{onClick:g,className:"px-4 py-2 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Save"})]})]})})})}function Xy({navigate:l,addEvent:r,editingEvent:s,isNewFromDashboard:a,userProfile:o}){const c={collegeName:o.profileData?.collegeName||"",address:o.profileData?.collegeAddress||"",locality:o.profileData?.collegeLocality||"",city:o.profileData?.city||"",pinCode:o.profileData?.pincode||""},[h,m]=z.useState({collegeName:c.collegeName,mainEventName:"",address:c.address,locality:c.locality,city:c.city,pinCode:c.pinCode,competitionType:"",startDate:"",endDate:"",isSingleDate:!1}),[g,y]=z.useState([{id:"sub-event-1",eventType:"",groupSingle:"",minParticipants:"1",maxParticipants:"1",startDate:"",endDate:"",isSingleDate:!1,timeHour:"10",timeMinute:"00",timeAmPm:"am",rules:[""],entryFees:"",registrationDeadlineDate:"",registrationDeadlineHour:"11",registrationDeadlineMinute:"59",registrationDeadlineAmPm:"pm",otse:"",performanceDurationMin:"",performanceDurationMax:"",timeLimitNotApplicable:!1,activateLiveFeed:!1,isActive:!0}]),[v,_]=z.useState([{name:o.name,designation:"",phone:o.phone,email:o.email,otpSent:!1,otpVerified:!1,otp:"",isFirstMember:!0}]),[w,A]=z.useState({}),[T,E]=z.useState({}),[P,D]=z.useState({}),[R,$]=z.useState({}),[I,V]=z.useState(new Set),[B,te]=z.useState({eventId:"",show:!1}),[fe,we]=z.useState({memberIndex:-1,show:!1}),[je,Me]=z.useState({subEventId:"",ruleIndex:-1,show:!1}),[Ge,Le]=z.useState({}),[be,nt]=z.useState({}),[Te,Ne]=z.useState({}),[J,ae]=z.useState({isOpen:!1}),[Q,C]=z.useState({isOpen:!1,memberIndex:-1}),[F,me]=z.useState({}),xe=z.useRef(null),_e=z.useRef(null),Se=["Dancing","Singing","Acting","Treasure Hunt","Debate","Personality Contest"],Ee=["Inter-collegiate","Intra-collegiate","Inter-school","Intra-school","Online","Others"],pe=["Free","10","20","30","40","50","60","70","80","90","100","150","200","250","300","350","400","450","500"],De=x=>{const k=w[x]||"";return Se.filter(M=>M.toLowerCase().includes(k.toLowerCase()))},Ae="zhevents_add_event_form";z.useEffect(()=>{if(s){console.log("editingEvent in AddEvent:",s),console.log("editingEvent.dates:",s.dates);let x="",k="";if(s.dates.includes(" to ")){const M=s.dates.split(" to "),N=M[0].trim(),Y=M[1].trim(),Ie=Y.match(/(\d+\w*)\s+(.+)/);if(Ie){const mt=Ie[2];x=`${N} ${mt}`,k=Y}else x=s.dates,k=s.dates}else x=s.dates,k=s.dates;if(console.log("startDateStr:",x),console.log("endDateStr:",k),m({collegeName:s.college,mainEventName:s.eventName,address:s.collegeAddress||c.address,locality:s.collegeLocality||c.locality,city:s.city||c.city,pinCode:s.pinCode||c.pinCode,competitionType:s.competition,startDate:ui(x),endDate:ui(k),isSingleDate:!s.dates.includes(" to ")}),s.organizingCommittee&&s.organizingCommittee.length>0&&_(s.organizingCommittee.map((M,N)=>({name:M.name||(N===0?o.name:""),designation:M.designation||"",phone:M.phone||(N===0?o.phone:""),email:M.email||(N===0?o.email:""),otpSent:M.otpSent||!1,otpVerified:M.otpVerified||N===0,otp:"",isFirstMember:N===0}))),s.subEventsDetail&&s.subEventsDetail.length>0){const M=s.subEventsDetail.map((N,Y)=>({...N,isActive:Y===0?!0:N.isActive}));y(M)}else if(s.events&&s.events.length>0){const M=s.events.map((N,Y)=>({id:`sub-event-${Y+1}`,eventType:N.type||"",groupSingle:N.groupType||"",minParticipants:N.participants?.split("")[0]||"0",maxParticipants:N.participants?.split("")[1]||N.participants||"0",startDate:N.date||"",endDate:N.date||"",isSingleDate:!0,timeHour:N.time?.split(":")[0]||"10",timeMinute:N.time?.split(":")[1]?.split("am")[0]?.split("pm")[0]||"00",timeAmPm:N.time?.includes("pm")?"pm":"am",rules:N.rules||[""],entryFees:N.entryFees||"Free",registrationDeadlineDate:N.deadline?.split(" at ")[0]||"",registrationDeadlineHour:"11",registrationDeadlineMinute:"59",registrationDeadlineAmPm:"pm",otse:N.otse||"",performanceDurationMin:"",performanceDurationMax:"",timeLimitNotApplicable:!1,activateLiveFeed:!1,isActive:!0}));y(M)}return}},[s]),z.useEffect(()=>{if(s)return;if(a){m(k=>({...k,mainEventName:"",competitionType:"",startDate:"",endDate:"",isSingleDate:!1})),y([{id:"sub-event-1",eventType:"",groupSingle:"",minParticipants:"0",maxParticipants:"0",startDate:"",endDate:"",isSingleDate:!1,timeHour:"10",timeMinute:"00",timeAmPm:"am",rules:[""],entryFees:"",registrationDeadlineDate:"",registrationDeadlineHour:"11",registrationDeadlineMinute:"59",registrationDeadlineAmPm:"pm",otse:"",performanceDurationMin:"",performanceDurationMax:"",timeLimitNotApplicable:!1,activateLiveFeed:!1,isActive:!0}]),_([{name:o.name,designation:"",phone:o.phone,email:o.email,otpSent:!1,otpVerified:!1,otp:"",isFirstMember:!0}]),A({}),E({}),D({}),$({}),V(new Set),te({eventId:"",show:!1}),we({memberIndex:-1,show:!1}),Me({subEventId:"",ruleIndex:-1,show:!1}),Le({}),nt({}),Ne({}),localStorage.removeItem(Ae);return}const x=localStorage.getItem(Ae);if(x)try{const k=JSON.parse(x);if(k.eventData&&m(M=>({...M,...k.eventData,isSingleDate:k.eventData.isSingleDate??!1})),k.subEvents&&Array.isArray(k.subEvents)){const M=k.subEvents.map((N,Y)=>({...N,isActive:Y===0?!0:N.isActive}));y(M)}k.organizingCommittee&&_(k.organizingCommittee)}catch(k){console.error("Failed to load saved form data:",k)}},[a,s,o.name,o.phone,o.email]),z.useEffect(()=>{!s&&!a&&(m({collegeName:c.collegeName,mainEventName:"",address:c.address,locality:c.locality,city:c.city,pinCode:c.pinCode,competitionType:"",startDate:"",endDate:"",isSingleDate:!1}),y([{id:"sub-event-1",eventType:"",groupSingle:"",minParticipants:"1",maxParticipants:"1",startDate:"",endDate:"",isSingleDate:!1,timeHour:"10",timeMinute:"00",timeAmPm:"am",rules:[""],entryFees:"",registrationDeadlineDate:"",registrationDeadlineHour:"11",registrationDeadlineMinute:"59",registrationDeadlineAmPm:"pm",otse:"",performanceDurationMin:"",performanceDurationMax:"",timeLimitNotApplicable:!1,activateLiveFeed:!1,isActive:!0}]),_([{name:o.name,designation:"",phone:o.phone,email:o.email,otpSent:!1,otpVerified:!1,otp:"",isFirstMember:!0}]),A({}),E({}),D({}),$({}),V(new Set),te({eventId:"",show:!1}),we({memberIndex:-1,show:!1}),Me({subEventId:"",ruleIndex:-1,show:!1}),Le({}),nt({}),Ne({}),localStorage.removeItem(Ae))},[s]),z.useEffect(()=>{if(s)return;if(h.mainEventName.trim()||g.some(k=>k.eventType.trim()||k.groupSingle.trim()||k.startDate.trim())){const k={eventData:h,subEvents:g,organizingCommittee:v,timestamp:Date.now()};localStorage.setItem(Ae,JSON.stringify(k))}},[h,g,v,s]),z.useEffect(()=>{const x=k=>{const M=document.querySelectorAll(".event-type-dropdown");Array.from(M).every(Y=>!Y.contains(k.target))&&E({}),_e.current&&!_e.current.contains(k.target)&&$({})};return document.addEventListener("mousedown",x),()=>{document.removeEventListener("mousedown",x)}},[]),z.useEffect(()=>()=>{Object.values(F).forEach(x=>{x.getTracks().forEach(k=>k.stop())})},[F]);const Z=async x=>{try{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){alert("Camera access is not supported in this browser or environment.");return}try{if((await navigator.permissions.query({name:"camera"})).state==="denied"){alert(`Camera permission is blocked. Please:

1. Click the camera/lock icon in your browser's address bar
2. Select "Allow" for camera access
3. Refresh the page and try again

Note: Camera access requires HTTPS or localhost.`);return}}catch{console.log("Permission API not supported, proceeding with camera request")}if(!(await navigator.mediaDevices.enumerateDevices()).some(Y=>Y.kind==="videoinput")){alert("No camera found on this device. Please connect a camera and try again.");return}const N=await Promise.race([navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},facingMode:"user"},audio:!0}),new Promise((Y,Ie)=>setTimeout(()=>Ie(new Error("Camera request timeout")),1e4))]);me(Y=>({...Y,[x]:N})),oe(x,"activateLiveFeed",!0),localStorage.setItem(`zhevents_live_stream_${x}`,JSON.stringify({eventId:x,activated:!0,timestamp:Date.now()})),console.log(`Live feed activated for sub-event: ${x}`),alert(" Live feed activated! Camera access granted successfully.")}catch(k){if(console.error("Error accessing camera:",k),k instanceof Error)switch(k.name){case"NotAllowedError":alert(` Camera Permission Denied

To enable camera access:

 On Mobile:
 Tap the camera icon in your browser
 Select "Allow" for camera access
 Refresh the page

 On Desktop:
 Click the camera icon in address bar
 Select "Allow" for camera
 Refresh the page

 Note: Camera requires HTTPS or localhost`);break;case"NotFoundError":alert(` No Camera Found

Please check:
 Camera is connected properly
 No other app is using the camera
 Camera drivers are installed
 Try reconnecting your camera`);break;case"NotReadableError":alert(` Camera In Use

The camera is already being used by another application.

Please:
 Close other apps using the camera
 Close other browser tabs with camera access
 Restart your browser and try again`);break;case"OverconstrainedError":alert(` Camera Settings Issue

Your camera doesn't support the required settings.

Trying with basic settings...`);try{const M=await navigator.mediaDevices.getUserMedia({video:!0,audio:!1});me(N=>({...N,[x]:M})),oe(x,"activateLiveFeed",!0),alert(" Live feed activated with basic settings!");return}catch{alert(" Unable to access camera even with basic settings. Please check your camera configuration.")}break;case"SecurityError":alert(` Security Error

Camera access is blocked for security reasons.

 Make sure you're using HTTPS or localhost
 Check if camera access is allowed in browser settings
 Try using a different browser`);break;default:k.message==="Camera request timeout"?alert(` Camera Request Timeout

The camera request took too long.

Please:
 Check your camera connection
 Close other camera applications
 Try again in a few moments`):alert(` Camera Error: ${k.message}

Troubleshooting:
 Refresh the page and try again
 Check camera permissions in browser settings
 Ensure no other app is using the camera
 Try using a different browser`)}else alert(` Camera Access Failed

Please ensure:

 Camera permissions are granted
 No other app is using the camera
 You're using HTTPS or localhost
 Your browser supports camera access
 Camera is properly connected

Try refreshing the page and allowing camera access when prompted.`);oe(x,"activateLiveFeed",!1)}},ge=x=>{const k=F[x];k&&(k.getTracks().forEach(M=>M.stop()),me(M=>{const N={...M};return delete N[x],N})),oe(x,"activateLiveFeed",!1),localStorage.removeItem(`zhevents_live_stream_${x}`),console.log(`Live feed deactivated for sub-event: ${x}`),alert("Live feed deactivated.")},oe=(x,k,M)=>{y(N=>N.map(Y=>Y.id===x?{...Y,[k]:M}:Y))},K=x=>{if(!(!x.registrationDeadlineDate||!x.startDate||!x.registrationDeadlineHour||!x.registrationDeadlineMinute||!x.registrationDeadlineAmPm||!x.timeHour||!x.timeMinute||!x.timeAmPm)){try{const k=new Date(x.registrationDeadlineDate),M=new Date(x.startDate),N=parseInt(x.registrationDeadlineHour),Y=x.registrationDeadlineAmPm==="pm"&&N!==12?N+12:x.registrationDeadlineAmPm==="am"&&N===12?0:N;k.setHours(Y,parseInt(x.registrationDeadlineMinute),0,0);const Ie=parseInt(x.timeHour),mt=x.timeAmPm==="pm"&&Ie!==12?Ie+12:x.timeAmPm==="am"&&Ie===12?0:Ie;if(M.setHours(mt,parseInt(x.timeMinute),0,0),k>M){const pr=g.findIndex(St=>St.id===x.id)+1,pt=x.eventType||`Sub Event-${pr}`,gr=k.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})+" at "+k.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),Bt=M.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})+" at "+M.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0});return confirm(`Registration Deadline Alert

Registration deadline is AFTER the event start time.
 OK: Keep current deadline
 Cancel: Reset deadline`)?!0:(oe(x.id,"registrationDeadlineDate",""),oe(x.id,"registrationDeadlineHour","11"),oe(x.id,"registrationDeadlineMinute","59"),oe(x.id,"registrationDeadlineAmPm","pm"),!1)}}catch(k){console.error("Error checking registration deadline:",k)}return!0}},le=(x,k)=>{const M=[];for(let N=x;N<=k;N++)M.push(N.toString());return M},ce=(x,k)=>{const M=[];for(let N=Math.max(x,1);N<=k;N++)M.push(N.toString());return M},Pe=x=>{x&&y(k=>k.map(M=>M.id===x&&M.rules.length<5?{...M,rules:[...M.rules,""]}:M))},We=(x,k)=>{y(M=>M.map(N=>N.id===x&&N.rules.length>1?{...N,rules:N.rules.filter((Y,Ie)=>Ie!==k)}:N)),Me({subEventId:"",ruleIndex:-1,show:!1})},ft=(x,k,M)=>{M.length<=250&&y(N=>N.map(Y=>Y.id===x?{...Y,rules:Y.rules.map((Ie,mt)=>mt===k?M:Ie)}:Y))},Rt=(x,k)=>{k&&(oe(k,"eventType",x),A(M=>({...M,[k]:x})),E(M=>({...M,[k]:!1})))},Ve=()=>{if(v.filter(M=>!M.isFirstMember).some(M=>!M.otpVerified)){alert("Please verify OTP for all existing committee members before adding a new member.");return}_(M=>[...M,{name:"",designation:"",phone:"",email:"",otpSent:!1,otpVerified:!1,otp:"",isFirstMember:!1}])},Nr=x=>{if(v.length>1&&!v[x].isFirstMember){const k=v.filter((M,N)=>N!==x);_(k)}},fr=(x,k,M)=>{const N=[...v];if(k==="phone"&&!N[x].isFirstMember){const Ie=M.replace(/[^0-9]/g,"").slice(0,10);N[x]={...N[x],[k]:Ie}}else k==="email"&&!N[x].isFirstMember?N[x]={...N[x],[k]:M}:N[x]={...N[x],[k]:M};_(N)},ds=x=>{if(x==="sub-event-1"&&g.find(M=>M.id===x)?.isActive){alert("The first sub-event cannot be deactivated. It must remain active.");return}oe(x,"isActive",!g.find(k=>k.id===x)?.isActive)},hs=x=>{V(k=>{const M=new Set(k);return M.has(x)?M.delete(x):M.add(x),M})},li=x=>{const k=v[x];if(!k.name||!k.designation||!k.phone||!k.email){alert("Please fill all mandatory fields first");return}if(!k.isFirstMember&&k.phone.length!==10){alert("Please enter a valid phone number");return}if(!k.isFirstMember&&!k.email.includes("@")){alert("Please enter a valid email address");return}C({isOpen:!0,memberIndex:x})},fs=()=>{const x=[...v];x[Q.memberIndex]={...x[Q.memberIndex],otpSent:!0,otpVerified:!0},_(x)},Er=()=>{const x={id:`sub-event-${g.length+1}`,eventType:"",groupSingle:"",minParticipants:a?"0":"1",maxParticipants:a?"0":"1",startDate:"",endDate:"",isSingleDate:!1,timeHour:"10",timeMinute:"00",timeAmPm:"am",rules:[""],entryFees:"",registrationDeadlineDate:"",registrationDeadlineHour:"11",registrationDeadlineMinute:"59",registrationDeadlineAmPm:"pm",otse:"",performanceDurationMin:"",performanceDurationMax:"",timeLimitNotApplicable:!1,activateLiveFeed:!1,isActive:!0};y(k=>[...k,x])},ci=x=>{te({eventId:x,show:!0})},Cr=()=>{te({eventId:"",show:!1})},sn=()=>{const x=B.eventId;y(k=>k.filter(M=>M.id!==x)),V(k=>{const M=new Set(k);return M.delete(x),M}),Cr()},ui=x=>{if(console.log("parseEventDate called with:",x),!x)return"";const k=x.replace(/(\d+)(st|nd|rd|th)/gi,"$1");console.log("After removing ordinals:",k);const M=/\b(\d{1,2})\s+(\w+)\s+(\d{2,4})\b/,N=k.match(M);if(N){const[,Y,Ie,mt]=N,pr=mt.length===2?parseInt(mt)<=79?`20${mt}`:`19${mt}`:mt,gr={jan:"01",january:"01",feb:"02",february:"02",mar:"03",march:"03",apr:"04",april:"04",may:"05",jun:"06",june:"06",jul:"07",july:"07",aug:"08",august:"08",sep:"09",september:"09",sept:"09",oct:"10",october:"10",nov:"11",november:"11",dec:"12",december:"12"}[Ie.toLowerCase()];if(gr){const Bt=Y.padStart(2,"0"),Or=`${pr}-${gr}-${Bt}`;console.log("Constructed ISO date:",Or);const St=new Date(Or);if(!isNaN(St.getTime()))return console.log("Successfully parsed date:",St),Or}}return console.log("Date parsing failed, returning empty string"),""},Tr=x=>{if(!x)return"";const k=new Date(x);if(isNaN(k.getTime()))return"";const M=k.getDate().toString().padStart(2,"0"),N=(k.getMonth()+1).toString().padStart(2,"0"),Y=k.getFullYear().toString();return`${M}-${N}-${Y}`},Pr=()=>new Date().toISOString().split("T")[0],Ta=()=>{const x={collegeName:h.collegeName?.trim(),mainEventName:h.mainEventName?.trim(),address:h.address?.trim(),locality:h.locality?.trim(),city:h.city?.trim(),pinCode:h.pinCode?.trim(),competitionType:h.competitionType?.trim(),startDate:h.startDate?.trim(),endDate:h.endDate?.trim()},k=[],M={};return x.collegeName||(k.push("College Name"),M.collegeName=!0),x.mainEventName||(k.push("Main Event"),M.mainEventName=!0),x.address||(k.push("Address"),M.address=!0),x.locality||(k.push("Location"),M.locality=!0),x.city||(k.push("City"),M.city=!0),x.pinCode||(k.push("Pin Code"),M.pinCode=!0),x.competitionType||(k.push("Comp. Type"),M.competitionType=!0),x.startDate||(k.push("Main Event Start Date"),M.startDate=!0),x.endDate||(k.push("Main Event End Date"),M.endDate=!0),Ne(M),{isValid:k.length===0,missingFields:k}},It=x=>{Ne(k=>{if(k[x]){const M={...k};return delete M[x],M}return k})},ms=x=>{const k=g.find(Y=>Y.id===x);if(!k)return{isValid:!1,missingFields:[],errors:{}};const M=[],N={};if(k.eventType.trim()||(M.push("Event Type"),N.eventType=!0),k.groupSingle.trim()||(M.push("Group/Single"),N.groupSingle=!0),(!k.minParticipants||!k.maxParticipants||parseInt(k.minParticipants)===0||parseInt(k.maxParticipants)===0)&&(M.push("Number of Participants"),N.participants=!0),(!k.startDate.trim()||!k.isSingleDate&&!k.endDate.trim())&&(M.push("Event Dates"),N.eventDates=!0),(!k.timeHour.trim()||!k.timeMinute?.trim()||!k.timeAmPm.trim())&&(M.push("Event Time"),N.time=!0),k.entryFees.trim()||(M.push("Entry Fees"),N.entryFees=!0),(!k.registrationDeadlineDate.trim()||!k.registrationDeadlineHour.trim()||!k.registrationDeadlineMinute.trim()||!k.registrationDeadlineAmPm.trim())&&(M.push("Registration Deadline"),N.regDeadline=!0),k.otse.trim()||(M.push("On the Spot Entry (OTSE)"),N.otse=!0),!k.timeLimitNotApplicable&&(!k.performanceDurationMin.trim()||k.performanceDurationMin==="0")&&(!k.performanceDurationMax.trim()||k.performanceDurationMax==="0")&&(M.push("Time Limit"),N.duration=!0),k.registrationDeadlineDate.trim()&&k.startDate.trim()){const Y=new Date(k.registrationDeadlineDate),Ie=k.isSingleDate?new Date(k.startDate):new Date(k.endDate||k.startDate);Y.setHours(parseInt(k.registrationDeadlineHour)+(k.registrationDeadlineAmPm==="pm"&&k.registrationDeadlineHour!=="12"?12:0),parseInt(k.registrationDeadlineMinute),0,0),Ie.setHours(23,59,59,999),Y>Ie&&(M.push("Registration Deadline cannot be beyond the event end date"),N.regDeadline=!0)}return nt(Y=>({...Y,[x]:N})),{isValid:M.length===0,missingFields:M,errors:N}},ps=x=>{const k=g.find(M=>M.id===x);k&&(k.activateLiveFeed?ge(x):Z(x))},gs=()=>{const x=Ta();if(!x.isValid){alert(`Please complete all mandatory main form fields first:

${x.missingFields.join(`
`)}`);return}if(g.filter(X=>X.isActive?ms(X.id).isValid:!1).length===0){alert("Please complete at least one sub-event with all mandatory fields before saving.");return}const M=[];for(const X of g)if(X.isActive&&X.registrationDeadlineDate.trim()&&X.startDate.trim()){const qe=new Date(X.registrationDeadlineDate),kt=X.isSingleDate?new Date(X.startDate):new Date(X.endDate||X.startDate);if(qe.setHours(parseInt(X.registrationDeadlineHour)+(X.registrationDeadlineAmPm==="pm"&&X.registrationDeadlineHour!=="12"?12:0),parseInt(X.registrationDeadlineMinute),0,0),kt.setHours(23,59,59,999),qe>kt){const Lt=g.findIndex(jt=>jt.id===X.id)+1;M.push(`Sub Event ${Lt}: Registration deadline (${qe.toLocaleDateString()}) is beyond event end date (${kt.toLocaleDateString()})`)}}if(M.length>0){alert(`Please fix the following registration deadline issues:\\n\\n${M.join("\\n\\n")}`);return}if(v.filter(X=>!X.designation?.trim()).length>0){alert("Please fill in the Department field for all organizing committee members before saving.");return}if(v.filter(X=>!X.isFirstMember&&X.email&&!X.email.includes("@")).length>0){alert("Please enter valid email addresses with @ symbol for all organizing committee members before saving.");return}if(v.filter(X=>!X.isFirstMember&&X.phone&&X.phone.length!==10).length>0){alert("Please enter a valid phone number for all organizing committee members before saving.");return}if(v.filter(X=>!X.isFirstMember&&!X.otpVerified).length>0){alert("Please verify OTP for all organizing committee members (except the first member) before saving.");return}const pr=g,pt=g.filter(X=>X.isActive),gr=(X,qe)=>{if(!X)return"";const kt=new Date(X),Lt=qe?new Date(qe):kt;if(isNaN(kt.getTime())||qe&&isNaN(Lt.getTime()))return X;const jt=kt.getDate(),Ar=Lt.getDate(),wt=kt.toLocaleDateString("en-US",{month:"short"}),Ht=kt.getFullYear().toString().slice(-2);return jt===Ar?`${jt}${Bt(jt)} ${wt} ${Ht}`:`${jt}${Bt(jt)} to ${Ar}${Bt(Ar)} ${wt} ${Ht}`},Bt=X=>{if(X>3&&X<21)return"th";switch(X%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},Or=h.mainEventName.toLowerCase().replace(/[^a-z0-9]/g,"").slice(0,10)||"event"+Date.now(),St=pr.map(X=>X.eventType).filter(X=>X),Dr=St.reduce((X,qe)=>(X[qe]=(X[qe]||0)+1,X),{}),jn=St.length>0?Object.keys(Dr).reduce((X,qe)=>Dr[X]>Dr[qe]?X:qe,"Mixed"):"Mixed",ys=pt.map((X,qe)=>{const kt=(Lt,jt,Ar)=>{if(!Lt)return"";const wt=new Date(Lt),Ht=jt?new Date(jt):wt;if(isNaN(wt.getTime()))return Lt;if(jt&&isNaN(Ht.getTime()))return wt.toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric"});const Nn=wt.toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric"});if(Ar||!jt||wt.toDateString()===Ht.toDateString())return Nn;const Pa=Ht.toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric"});if(wt.getMonth()===Ht.getMonth()&&wt.getFullYear()===Ht.getFullYear()){const Oa=wt.getDate(),Je=Ht.getDate(),Da=wt.toLocaleDateString("en-US",{month:"short",year:"numeric"});return`${Oa} to ${Je} ${Da}`}return`${Nn} to ${Pa}`};return{name:`Event ${qe+1}`,type:X.eventType,competition:h.competitionType,groupType:X.groupSingle,date:kt(X.startDate,X.endDate,X.isSingleDate),time:`${X.timeHour}:${X.timeMinute}${X.timeAmPm}`,participants:X.groupSingle==="Single"?"1":`${X.minParticipants}${X.maxParticipants}`,rules:X.rules.filter(Lt=>Lt.trim()!==""),contact:v[0]?`${v[0].name}  ${v[0].phone}`:"Contact info not available",entryFees:X.entryFees,deadline:X.registrationDeadlineDate?`${new Date(X.registrationDeadlineDate).toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric"})} at ${X.registrationDeadlineHour}:${X.registrationDeadlineMinute}${X.registrationDeadlineAmPm} (or until slots are available)`:"TBD",otse:X.otse||"No"}}),di={id:Or,college:h.collegeName,eventName:h.mainEventName,location:`${h.city}, ${h.locality}`,dates:gr(h.startDate,h.endDate),type:St.length>1?"Mixed":jn,competition:h.competitionType,color:"bg-blue-200",address:h.address,contact:v[0]?`${v[0].name}  ${v[0].phone}`:"Contact info not available",entryFees:pt[0]?.entryFees||"TBD",deadline:pt[0]?.registrationDeadlineDate?`${new Date(pt[0].registrationDeadlineDate).toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric"})} at ${pt[0].registrationDeadlineHour}:${pt[0].registrationDeadlineMinute}${pt[0].registrationDeadlineAmPm} (or until slots are available)`:"TBD",otse:pt[0]?.otse||"No",events:ys,collegeName:h.collegeName,collegeAddress:h.address,collegeLocality:h.locality,city:h.city,pinCode:h.pinCode,subEventsDetail:pr,organizingCommittee:v},vs=!!s;r(di,vs),localStorage.removeItem("zhevents_add_event_form"),alert(vs?"Event updated successfully!":`Event added successfully!

You can now continue adding more sub-events to this main event. Each sub-event will be automatically linked to your main event.`),vs||l("add_event",void 0,di,!1)},Re=(x,k)=>k?x.replace("border-gray-300","border-red-300").replace("bg-gray-50","bg-red-50").replace("bg-white","bg-red-50"):x,mr=(x,k)=>{const M=be[x.id]||{};return u.jsxs("div",{className:"space-y-0.5",children:[u.jsxs("div",{className:"grid grid-cols-[85px_1fr] items-center",children:[u.jsx("label",{className:"text-sm text-black",children:"Category:"}),u.jsxs("div",{className:"relative event-type-dropdown",ref:xe,children:[u.jsx("input",{type:"text",value:x.eventType||"",onChange:N=>{oe(x.id,"eventType",N.target.value),A(Y=>({...Y,[x.id]:N.target.value})),E(Y=>({...Y,[x.id]:!0}))},onFocus:()=>E(N=>({...N,[x.id]:!0})),className:Re("w-full h-6 px-1 bg-transparent border border-gray-300 rounded text-sm text-black leading-normal",M.eventType),placeholder:"Type or select event type"}),T[x.id]&&De(x.id).length>0&&u.jsx("div",{className:"absolute top-full left-0 w-full bg-white border border-gray-300 rounded mt-0.5 max-h-24 overflow-y-auto scrollbar-hide z-10",children:De(x.id).map(N=>u.jsx("div",{onClick:Y=>{Y.preventDefault(),Y.stopPropagation(),Rt(N,x.id)},className:"px-1 py-0.5 text-sm text-black hover:bg-gray-100 cursor-pointer",children:N},N))})]})]}),u.jsxs("div",{className:"grid grid-cols-[85px_1fr] items-center",children:[u.jsx("label",{className:"text-sm text-black",children:"Group/Single:"}),u.jsxs("select",{value:x.groupSingle||"",onChange:N=>{oe(x.id,"groupSingle",N.target.value),N.target.value==="Single"?(oe(x.id,"minParticipants","1"),oe(x.id,"maxParticipants","1")):N.target.value==="Group"&&(parseInt(x.minParticipants)||1)<2&&(oe(x.id,"minParticipants","2"),oe(x.id,"maxParticipants","2"))},className:Re("h-6 px-1 bg-transparent border border-gray-300 rounded text-sm text-black leading-normal",M.groupSingle),children:[u.jsx("option",{value:"",disabled:!0,hidden:!0}),u.jsx("option",{value:"Group",children:"Group"}),u.jsx("option",{value:"Single",children:"Single"})]})]}),u.jsxs("div",{className:"grid grid-cols-[85px_1fr] items-center mt-0.5",children:[u.jsx("label",{className:"text-sm text-black",children:"Participants:"}),u.jsx("div",{className:"flex gap-1 items-center",children:x.groupSingle==="Single"?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"h-6 px-1 border border-gray-300 rounded text-sm text-black leading-none w-7 flex items-center justify-center",children:"1"}),u.jsx("span",{className:"text-xs ml-1",children:"Min"})]}):u.jsxs(u.Fragment,{children:[u.jsx("select",{value:x.minParticipants||"0",onChange:N=>{const Y=parseInt(N.target.value),Ie=parseInt(x.maxParticipants)||0;oe(x.id,"minParticipants",N.target.value),Ie<Y&&oe(x.id,"maxParticipants",N.target.value)},className:Re("h-6 px-1 bg-transparent border border-gray-300 rounded text-sm text-black leading-none w-7 scrollbar-hide",M.participants),children:ce(x.groupSingle==="Group"?2:1,20).map(N=>u.jsx("option",{value:N,children:N},N))}),u.jsx("span",{className:"text-xs ml-1",children:"Min"}),u.jsx("span",{className:"text-xs mx-1",children:"to"}),u.jsx("select",{value:x.maxParticipants||"0",onChange:N=>oe(x.id,"maxParticipants",N.target.value),className:Re("h-6 px-1 bg-transparent border border-gray-300 rounded text-sm text-black leading-none w-7 scrollbar-hide",M.participants),children:ce(parseInt(x.minParticipants)||1,20).map(N=>u.jsx("option",{value:N,children:N},N))}),u.jsx("span",{className:"text-xs ml-1",children:"Max"})]})})]}),u.jsxs("div",{className:"grid grid-cols-[85px_1fr] items-center",children:[u.jsx("label",{className:"text-sm text-black",children:"Sub Event Dt.:"}),u.jsxs("div",{className:"flex gap-1 items-center max-w-full",children:[u.jsx("input",{type:"date",value:x.startDate||"",onChange:N=>{const Y=N.target.value;oe(x.id,"startDate",Y),Y&&oe(x.id,"endDate",Y),setTimeout(()=>{const Ie={...x,startDate:Y,endDate:Y};K(Ie)},100)},min:Pr(),className:Re("h-6 px-1 bg-transparent border border-gray-300 rounded text-black w-28",M.eventDates),style:{colorScheme:"light"},"data-date":Tr(x.startDate)}),u.jsx("span",{className:"text-xs flex-shrink-0",children:"to"}),u.jsx("input",{type:"date",value:x.endDate||"",onChange:N=>{oe(x.id,"endDate",N.target.value),setTimeout(()=>{const Y={...x,endDate:N.target.value};K(Y)},100)},min:x.startDate||Pr(),className:Re("h-6 px-1 bg-transparent border border-gray-300 rounded text-black w-28",M.eventDates),style:{colorScheme:"light"},"data-date":Tr(x.endDate)})]})]}),u.jsxs("div",{className:"grid grid-cols-[85px_1fr] items-center",children:[u.jsx("label",{className:"text-sm text-black",children:"Time:"}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx("select",{value:x.timeHour,onChange:N=>{oe(x.id,"timeHour",N.target.value),setTimeout(()=>{const Y={...x,timeHour:N.target.value};K(Y)},100)},className:Re("h-6 px-1 bg-transparent border border-gray-300 rounded text-sm text-black leading-none w-7",M.time),children:le(1,12).map(N=>u.jsx("option",{value:N,children:N.toString().padStart(2,"0")},N))}),u.jsx("span",{className:"text-xs self-center",children:":"}),u.jsx("select",{value:x.timeMinute||"00",onChange:N=>{oe(x.id,"timeMinute",N.target.value),setTimeout(()=>{const Y={...x,timeMinute:N.target.value};K(Y)},100)},className:Re("h-6 px-1 bg-transparent border border-gray-300 rounded text-sm text-black leading-none w-7 scrollbar-hide",M.time),children:le(0,59).map(N=>u.jsx("option",{value:N.toString().padStart(2,"0"),children:N.toString().padStart(2,"0")},N))}),u.jsxs("select",{value:x.timeAmPm,onChange:N=>{oe(x.id,"timeAmPm",N.target.value),setTimeout(()=>{const Y={...x,timeAmPm:N.target.value};K(Y)},100)},className:Re("h-6 px-1 bg-transparent border border-gray-300 rounded text-sm text-black leading-none self-center",M.time),children:[u.jsx("option",{value:"am",children:"am"}),u.jsx("option",{value:"pm",children:"pm"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-[85px_1fr] items-center",children:[u.jsx("label",{className:"text-sm text-black",children:"Perform Dur.:"}),u.jsxs("div",{className:"flex gap-1 items-center",children:[u.jsx("select",{value:x.performanceDurationMin,onChange:N=>{oe(x.id,"performanceDurationMin",N.target.value),N.target.value!=="0"&&x.timeLimitNotApplicable&&oe(x.id,"timeLimitNotApplicable",!1)},className:Re("h-6 px-1 bg-transparent border border-gray-300 rounded text-sm text-black leading-none w-7",M.duration),disabled:x.timeLimitNotApplicable,children:le(0,12).map(N=>u.jsx("option",{value:N,children:N.toString().padStart(2,"0")},N))}),u.jsx("span",{className:"text-xs text-[12px]",children:"hrs"}),u.jsx("select",{value:x.performanceDurationMax,onChange:N=>{oe(x.id,"performanceDurationMax",N.target.value),N.target.value!=="0"&&x.timeLimitNotApplicable&&oe(x.id,"timeLimitNotApplicable",!1)},className:Re("h-6 px-1 bg-transparent border border-gray-300 rounded text-sm text-black leading-normal w-7 scrollbar-hide",M.duration),disabled:x.timeLimitNotApplicable,children:le(0,59).map(N=>u.jsx("option",{value:N,children:N.toString().padStart(2,"0")},N))}),u.jsx("span",{className:"text-xs text-[12px]",children:"mins"}),u.jsxs("label",{className:"flex items-center gap-1 ml-1",children:[u.jsx("input",{type:"checkbox",checked:x.timeLimitNotApplicable,onChange:N=>{oe(x.id,"timeLimitNotApplicable",N.target.checked),N.target.checked&&(oe(x.id,"performanceDurationMin","0"),oe(x.id,"performanceDurationMax","0"))},className:"h-3 w-3 appearance-none border border-gray-300 rounded-none bg-white checked:bg-gray-300 checked:border-gray-400 relative checked:after:content-[''] checked:after:text-black checked:after:text-xs checked:after:absolute checked:after:inset-0 checked:after:flex checked:after:items-center checked:after:justify-center checked:after:leading-none"}),u.jsx("span",{className:"text-xs text-black text-[12px]",children:"N.A."})]})]})]}),u.jsxs("div",{className:"grid grid-cols-[85px_1fr] items-start",children:[u.jsx("label",{className:"text-sm text-black",children:"Rules:"}),u.jsx("div",{className:"space-y-0.5",children:x.rules.map((N,Y)=>u.jsxs("div",{className:"flex gap-1 items-center",children:[u.jsx("input",{type:"text",value:N,onChange:Ie=>ft(x.id,Y,Ie.target.value),className:"flex-1 h-6 px-1 bg-transparent border border-gray-300 rounded text-sm text-black leading-normal",placeholder:"Upto 250 characters",maxLength:250}),x.rules.length>1&&u.jsx("button",{onClick:()=>Me({subEventId:x.id,ruleIndex:Y,show:!0}),className:"h-5 w-5 bg-gray-100 border border-gray-300 rounded text-xs text-gray-700 hover:bg-gray-200 flex items-center justify-center",children:u.jsx(ih,{size:10})}),Y===x.rules.length-1&&x.rules.length<5&&u.jsx("button",{onClick:()=>Pe(x.id),className:"h-5 w-5 bg-gray-100 border border-gray-300 rounded text-xs text-gray-700 hover:bg-gray-200 flex items-center justify-center",children:u.jsx(Zs,{size:10})})]},Y))})]}),u.jsxs("div",{className:"grid grid-cols-[85px_1fr] items-center",children:[u.jsx("label",{className:"text-sm text-black",children:"Entry Fees:"}),u.jsxs("select",{value:x.entryFees||"",onChange:N=>oe(x.id,"entryFees",N.target.value),className:Re("h-6 px-1 bg-transparent border border-gray-300 rounded text-sm text-black leading-normal",M.entryFees),children:[u.jsx("option",{value:"",disabled:!0,hidden:!0}),pe.map(N=>u.jsx("option",{value:N,children:N},N))]})]}),u.jsxs("div",{className:"grid grid-cols-[85px_1fr] items-center",children:[u.jsx("label",{className:"text-sm text-black",children:"Reg. Deadline:"}),u.jsxs("div",{className:"flex gap-1 items-center justify-between",children:[u.jsxs("div",{className:"flex gap-1 items-center",children:[u.jsx("input",{type:"date",value:x.registrationDeadlineDate,onChange:N=>{oe(x.id,"registrationDeadlineDate",N.target.value),setTimeout(()=>{const Y={...x,registrationDeadlineDate:N.target.value};K(Y)},100)},min:Pr(),max:x.isSingleDate?x.startDate:x.endDate||x.startDate,className:Re("h-6 px-1 bg-transparent border border-gray-300 rounded text-black w-28",M.regDeadline),style:{colorScheme:"light"},"data-date":Tr(x.registrationDeadlineDate)}),u.jsx("div",{className:"w-1"}),u.jsx("select",{value:x.registrationDeadlineHour,onChange:N=>{oe(x.id,"registrationDeadlineHour",N.target.value),setTimeout(()=>{const Y={...x,registrationDeadlineHour:N.target.value};K(Y)},100)},className:Re("h-6 px-1 bg-transparent border border-gray-300 rounded text-sm text-black leading-none w-7",M.regDeadline),children:le(1,12).map(N=>u.jsx("option",{value:N,children:N.toString().padStart(2,"0")},N))}),u.jsx("span",{className:"text-xs",children:":"}),u.jsx("select",{value:x.registrationDeadlineMinute,onChange:N=>{oe(x.id,"registrationDeadlineMinute",N.target.value),setTimeout(()=>{const Y={...x,registrationDeadlineMinute:N.target.value};K(Y)},100)},className:Re("h-6 px-1 bg-transparent border border-gray-300 rounded text-sm text-black leading-none w-7 scrollbar-hide",M.regDeadline),children:le(0,59).map(N=>u.jsx("option",{value:N,children:N.toString().padStart(2,"0")},N))})]}),u.jsxs("select",{value:x.registrationDeadlineAmPm,onChange:N=>{oe(x.id,"registrationDeadlineAmPm",N.target.value),setTimeout(()=>{const Y={...x,registrationDeadlineAmPm:N.target.value};K(Y)},100)},className:Re("h-6 px-1 bg-transparent border border-gray-300 rounded text-sm text-black leading-tight w-8",M.regDeadline),children:[u.jsx("option",{value:"am",children:"am"}),u.jsx("option",{value:"pm",children:"pm"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-[85px_1fr] items-center",children:[u.jsx("label",{className:"text-sm text-black",children:"OTSE:"}),u.jsxs("select",{value:x.otse,onChange:N=>oe(x.id,"otse",N.target.value),className:Re("h-6 px-1 bg-transparent border border-gray-300 rounded text-sm text-black leading-normal",M.otse),children:[u.jsx("option",{value:"",disabled:!0,hidden:!0}),u.jsx("option",{value:"",disabled:!0,children:"On The Spot Entry"}),u.jsx("option",{value:"Yes",children:"Yes"}),u.jsx("option",{value:"No",children:"No"})]})]}),u.jsxs("div",{className:"grid grid-cols-[85px_1fr] items-center",children:[u.jsx("label",{className:"text-sm text-black",children:"Live Feed:"}),u.jsx("div",{className:"h-6 px-1 bg-transparent border border-gray-300 rounded text-sm text-black leading-none flex items-center justify-end",children:u.jsxs("button",{onClick:()=>ps(x.id),className:`flex items-center gap-0.5 px-1 rounded text-xs transition-colors ${x.activateLiveFeed?"bg-green-500 text-white hover:bg-green-600":"bg-transparent text-gray-600 hover:bg-gray-100"}`,children:[u.jsx(Fl,{size:10}),x.activateLiveFeed?"Live":"Activate"]})})]}),u.jsxs("div",{className:"flex items-center justify-between mt-1",children:[u.jsx("button",{onClick:()=>{window.confirm("Are you sure you want to delete this sub-event?")&&ci(x.id)},className:"text-gray-500 hover:text-gray-700 p-1 rounded hover:bg-gray-50 transition-colors ml-1",title:"Delete Event",children:u.jsx(Ah,{size:12})}),u.jsx("button",{onClick:()=>ae({isOpen:!0,subEventId:x.id,subEventName:x.eventType||`Sub Event-${k+1}`}),className:"flex items-center gap-1 h-6 px-3 bg-white border border-gray-300 rounded text-xs text-gray-700 hover:bg-gray-50 transition-colors",children:"Results"})]})]})};return u.jsxs("div",{className:"w-full min-h-screen bg-white p-4",children:[u.jsx("h1",{className:"text-lg font-bold text-black mb-3",children:"Add Main Event"}),u.jsxs("div",{className:"space-y-0.5",children:[u.jsxs("div",{className:"grid grid-cols-[85px_1fr] items-center",children:[u.jsx("label",{className:"text-sm text-black",children:"College Name:"}),u.jsx("input",{type:"text",value:h.collegeName||"",onChange:x=>{m(k=>({...k,collegeName:x.target.value})),x.target.value.trim()&&It("collegeName")},className:Re("h-6 px-1 bg-transparent border border-gray-300 rounded text-sm text-black leading-normal",Te.collegeName),placeholder:"College name will be auto-populated"})]}),u.jsxs("div",{className:"grid grid-cols-[85px_1fr] items-center",children:[u.jsx("label",{className:"text-sm text-black",children:"Main Event:"}),u.jsx("input",{type:"text",value:h.mainEventName||"",onChange:x=>{m(k=>({...k,mainEventName:x.target.value})),x.target.value.trim()&&It("mainEventName")},className:Re("h-6 px-1 bg-transparent border border-gray-300 rounded text-sm text-black leading-normal",Te.mainEventName),placeholder:"Enter Event Name"})]}),u.jsxs("div",{className:"grid grid-cols-[85px_1fr] items-center",children:[u.jsx("label",{className:"text-sm text-black",children:"Address:"}),u.jsx("input",{type:"text",value:h.address||"",onChange:x=>{m(k=>({...k,address:x.target.value})),x.target.value.trim()&&It("address")},className:Re("h-6 px-1 bg-transparent border border-gray-300 rounded text-sm text-black leading-normal",Te.address),placeholder:"Address will be auto-populated"})]}),u.jsxs("div",{className:"grid grid-cols-[85px_1fr] items-center",children:[u.jsx("label",{className:"text-sm text-black",children:"Location:"}),u.jsx("input",{type:"text",value:h.locality||"",onChange:x=>{m(k=>({...k,locality:x.target.value})),x.target.value.trim()&&It("locality")},className:Re("h-6 px-1 bg-transparent border border-gray-300 rounded text-sm text-black leading-normal",Te.locality),placeholder:"Location will be auto-populated"})]}),u.jsxs("div",{className:"grid grid-cols-[85px_1fr] items-center",children:[u.jsx("label",{className:"text-sm text-black",children:"City:"}),u.jsx("input",{type:"text",value:h.city||"",onChange:x=>{m(k=>({...k,city:x.target.value})),x.target.value.trim()&&It("city")},className:Re("h-6 px-1 bg-transparent border border-gray-300 rounded text-sm text-black leading-normal",Te.city),placeholder:"Enter city"})]}),u.jsxs("div",{className:"grid grid-cols-[85px_1fr] items-center",children:[u.jsx("label",{className:"text-sm text-black",children:"Pin Code:"}),u.jsx("input",{type:"text",value:h.pinCode||"",onChange:x=>{m(k=>({...k,pinCode:x.target.value})),x.target.value.trim()&&It("pinCode")},className:Re("h-6 px-1 bg-transparent border border-gray-300 rounded text-sm text-black leading-normal",Te.pinCode),placeholder:"Enter pin code"})]}),u.jsxs("div",{className:"grid grid-cols-[85px_1fr] items-center",children:[u.jsx("label",{className:"text-sm text-black",children:"Comp. Type:"}),u.jsxs("select",{value:h.competitionType||"",onChange:x=>{m(k=>({...k,competitionType:x.target.value})),x.target.value.trim()&&It("competitionType")},className:Re("h-6 px-1 bg-transparent border border-gray-300 rounded text-sm text-black leading-normal",Te.competitionType),children:[u.jsx("option",{value:"",disabled:!0,hidden:!0}),Ee.map(x=>u.jsx("option",{value:x,children:x},x))]})]}),u.jsxs("div",{className:"grid grid-cols-[85px_1fr] items-center",children:[u.jsx("label",{className:"text-sm text-black",children:"Event Dt.:"}),u.jsxs("div",{className:"flex gap-1 items-center",children:[u.jsx("input",{type:"date",value:h.startDate||"",onChange:x=>{const k=x.target.value;m(M=>{const N={...M,startDate:k};return k&&(N.endDate=k),N}),x.target.value.trim()&&It("startDate")},min:Pr(),className:Re("h-6 px-1 bg-transparent border border-gray-300 rounded text-black flex-1",Te.startDate),style:{colorScheme:"light"},"data-date":Tr(h.startDate)}),u.jsx("span",{className:"text-xs flex-shrink-0",children:"to"}),u.jsx("input",{type:"date",value:h.endDate||"",onChange:x=>{m(k=>({...k,endDate:x.target.value})),x.target.value.trim()&&It("endDate")},min:h.startDate||Pr(),className:Re("h-6 px-1 bg-transparent border border-gray-300 rounded text-black flex-1",Te.endDate),style:{colorScheme:"light"},"data-date":Tr(h.endDate)})]})]}),u.jsx("div",{className:"mt-2"}),g.length===0&&u.jsx("div",{className:"mt-1",children:u.jsxs("button",{onClick:()=>{Er()},className:"flex items-center gap-1 h-6 px-2 bg-gray-100 border border-gray-300 rounded text-xs text-gray-700 hover:bg-gray-200 transition-colors",children:[u.jsx(Zs,{size:12}),"Add Sub Event 1"]})}),g.length>0&&u.jsxs("div",{className:"border border-gray-300 rounded p-1 mt-1",children:[u.jsxs("div",{className:"flex items-center justify-between mb-0.5",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(rh,{size:12}),u.jsx("span",{className:"text-sm font-semibold text-black",children:g[0]?.eventType?g[0].eventType:"Sub Event-1"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("button",{onClick:()=>ds(g[0].id),className:`relative inline-flex h-4 w-8 items-center rounded-full transition-colors ${g[0].isActive?"bg-gray-400":"bg-gray-300"}`,children:u.jsx("span",{className:`inline-block h-3 w-3 transform rounded-full bg-white transition-transform ${g[0].isActive?"translate-x-4":"translate-x-0.5"}`})}),u.jsx("span",{className:"ml-1 text-xs text-gray-700",children:g[0].isActive?"Active":"Inactive"})]}),u.jsx("button",{onClick:()=>hs(g[0].id),className:"text-gray-500 hover:text-gray-700",children:I.has(g[0].id)?u.jsx(nh,{size:12}):u.jsx(sh,{size:12})})]})]}),!I.has(g[0].id)&&mr(g[0],0)]}),g.length===1&&u.jsx("div",{className:"mt-1",children:u.jsxs("button",{onClick:Er,className:"flex items-center gap-1 h-6 px-2 bg-gray-100 border border-gray-300 rounded text-xs text-gray-700 hover:bg-gray-200 transition-colors",children:[u.jsx(Zs,{size:12}),"Add Sub Event-2"]})}),g.slice(1).map((x,k)=>u.jsxs("div",{children:[u.jsxs("div",{className:"border border-gray-300 rounded p-1 mt-1",children:[u.jsxs("div",{className:"flex items-center justify-between mb-0.5",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(rh,{size:12}),u.jsx("span",{className:"text-sm font-semibold text-black",children:x.eventType?x.eventType:`Sub Event-${k+2}`})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("button",{onClick:()=>ds(x.id),className:`relative inline-flex h-4 w-8 items-center rounded-full transition-colors ${x.isActive?"bg-gray-400":"bg-gray-300"}`,children:u.jsx("span",{className:`inline-block h-3 w-3 transform rounded-full bg-white transition-transform ${x.isActive?"translate-x-4":"translate-x-0.5"}`})}),u.jsx("span",{className:"ml-1 text-xs text-gray-700",children:x.isActive?"Active":"Inactive"})]}),u.jsx("button",{onClick:()=>hs(x.id),className:"text-gray-500 hover:text-gray-700",children:I.has(x.id)?u.jsx(nh,{size:12}):u.jsx(sh,{size:12})})]})]}),!I.has(x.id)&&mr(x,k+1)]}),!I.has(x.id)&&k===g.slice(1).length-1&&u.jsx("div",{className:"mt-1",children:u.jsxs("button",{onClick:Er,className:"flex items-center gap-1 h-6 px-2 bg-gray-100 border border-gray-300 rounded text-xs text-gray-700 hover:bg-gray-200 transition-colors",children:[u.jsx(Zs,{size:12}),"Add Sub Event-",g.length+1]})})]},x.id)),u.jsxs("div",{className:"border border-gray-300 rounded px-0 py-1 mt-1",children:[u.jsxs("div",{className:"flex items-center gap-1 mb-0.5 px-0.5",children:[u.jsx(qy,{size:12}),u.jsx("span",{className:"text-sm font-semibold text-black",children:"Organizing Committee"})]}),u.jsx("div",{className:"space-y-1 px-0.5",children:v.map((x,k)=>u.jsxs("div",{className:"space-y-0.5",children:[u.jsxs("div",{className:"space-y-0.5",children:[u.jsxs("div",{className:"grid grid-cols-[85px_1fr] items-center",children:[u.jsx("label",{className:"text-sm text-black",children:"Name:"}),u.jsx("input",{type:"text",value:x.isFirstMember?o.name:x.name||"",onChange:M=>fr(k,"name",M.target.value),className:"h-6 px-1 bg-transparent border border-gray-300 rounded text-sm text-black leading-normal",placeholder:x.isFirstMember?"":"Enter name",disabled:x.isFirstMember})]}),u.jsxs("div",{className:"grid grid-cols-[85px_1fr] items-center",children:[u.jsx("label",{className:"text-sm text-black",children:"Department:"}),u.jsxs("select",{value:x.designation||"",onChange:M=>fr(k,"designation",M.target.value),className:"h-6 px-1 bg-transparent border border-gray-300 rounded text-sm text-black leading-normal",required:!0,children:[u.jsx("option",{value:"",disabled:!0,hidden:!0}),u.jsx("option",{value:"Cultural",children:"Cultural"}),u.jsx("option",{value:"Events",children:"Events"}),u.jsx("option",{value:"Marketing",children:"Marketing"}),u.jsx("option",{value:"Finance",children:"Finance"}),u.jsx("option",{value:"Public Relations",children:"Public Relations"}),u.jsx("option",{value:"Sponsorship",children:"Sponsorship"}),u.jsx("option",{value:"Hospitality",children:"Hospitality"})]})]}),u.jsxs("div",{className:"grid grid-cols-[85px_1fr] items-center",children:[u.jsx("label",{className:"text-sm text-black",children:"Phone No.:"}),u.jsx("input",{type:"tel",value:x.isFirstMember?o.phone:x.phone||"",onChange:M=>fr(k,"phone",M.target.value),className:"h-6 px-1 bg-transparent border border-gray-300 rounded text-sm text-black leading-normal",placeholder:x.isFirstMember?"":"Enter phone number",disabled:x.isFirstMember})]}),u.jsxs("div",{className:"grid grid-cols-[85px_1fr] items-center",children:[u.jsx("label",{className:"text-sm text-black",children:"Email id:"}),u.jsx("input",{type:"email",value:x.isFirstMember?o.email:x.email||"",onChange:M=>fr(k,"email",M.target.value),className:"h-6 px-1 bg-transparent border border-gray-300 rounded text-sm text-black leading-normal",placeholder:x.isFirstMember?"":"Enter email address",disabled:x.isFirstMember})]})]}),!x.isFirstMember&&u.jsxs("div",{className:"flex gap-1 justify-between items-center",children:[u.jsx("button",{onClick:()=>li(k),disabled:x.otpVerified,className:`h-6 px-2 rounded text-xs transition-colors ${x.otpVerified?"bg-green-100 border border-green-300 text-green-700":"bg-blue-100 border border-blue-300 text-blue-700 hover:bg-blue-200"}`,children:x.otpVerified?" Verified":"Send OTP"}),v.length>=2&&!x.isFirstMember&&u.jsx("button",{onClick:()=>we({memberIndex:k,show:!0}),className:"h-5 w-5 bg-gray-100 border border-gray-300 rounded text-xs text-gray-700 hover:bg-gray-200 flex items-center justify-center",children:u.jsx(ih,{size:10})})]}),k<v.length-1&&u.jsx("div",{className:"border-t border-gray-200 mt-1 pt-1"})]},k))}),u.jsx("div",{className:"mt-1 px-0.5",children:u.jsxs("button",{onClick:Ve,className:"flex items-center gap-1 h-6 px-2 bg-gray-100 border border-gray-300 rounded text-xs text-gray-700 hover:bg-gray-200 transition-colors",children:[u.jsx(Zs,{size:12}),"Add Member"]})})]}),u.jsxs("div",{className:"mt-3 flex flex-col items-center gap-2",children:[u.jsx("button",{onClick:gs,className:"h-6 px-3 bg-blue-600 text-white rounded text-xs hover:bg-blue-700 transition-colors flex items-center justify-center self-end",children:"Save"}),u.jsx("button",{onClick:()=>l("home"),className:"mt-6 px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg text-sm font-semibold text-black hover:bg-gray-200 transition-colors self-start",children:" Back to Home"})]})]}),B.show&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg p-4 max-w-sm mx-4 shadow-lg",children:[u.jsxs("div",{className:"mb-3",children:[u.jsx("h3",{className:"text-lg font-semibold text-black mb-2",children:"Delete Event"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this event? This action cannot be undone."})]}),u.jsxs("div",{className:"flex gap-2 justify-end",children:[u.jsx("button",{onClick:Cr,className:"px-4 py-2 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors",children:"No"}),u.jsx("button",{onClick:sn,className:"px-4 py-2 text-sm bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:"Yes"})]})]})}),je.show&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg p-4 max-w-sm mx-4 shadow-lg",children:[u.jsxs("div",{className:"mb-3",children:[u.jsx("h3",{className:"text-lg font-semibold text-black mb-2",children:"Delete Rule"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this rule? This action cannot be undone."})]}),u.jsxs("div",{className:"flex gap-2 justify-end",children:[u.jsx("button",{onClick:()=>Me({subEventId:"",ruleIndex:-1,show:!1}),className:"px-4 py-2 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors",children:"No"}),u.jsx("button",{onClick:()=>We(je.subEventId,je.ruleIndex),className:"px-4 py-2 text-sm bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:"Yes"})]})]})}),fe.show&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg p-4 max-w-sm mx-4 shadow-lg",children:[u.jsxs("div",{className:"mb-3",children:[u.jsx("h3",{className:"text-lg font-semibold text-black mb-2",children:"Delete Member"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this member? This action cannot be undone."})]}),u.jsxs("div",{className:"flex gap-2 justify-end",children:[u.jsx("button",{onClick:()=>we({memberIndex:-1,show:!1}),className:"px-4 py-2 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors",children:"No"}),u.jsx("button",{onClick:()=>{Nr(fe.memberIndex),we({memberIndex:-1,show:!1})},className:"px-4 py-2 text-sm bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:"Yes"})]})]})}),u.jsx(Yy,{isOpen:J.isOpen,onClose:()=>ae({isOpen:!1}),subEventId:J.subEventId,subEventName:J.subEventName,subEventStartDate:J.subEventId?g.find(x=>x.id===J.subEventId)?.startDate:void 0}),u.jsx(Qy,{isOpen:Q.isOpen,onClose:()=>C({isOpen:!1,memberIndex:-1}),memberIndex:Q.memberIndex,onOTPSent:fs})]})}const Zy=l=>l.filter(r=>r.createdByUser||r.college.toLowerCase().includes("trinit")||r.college.toLowerCase().includes("xavier")).map(r=>({id:r.id,name:r.eventName,college:r.college,fullEvent:r}));function ev({navigate:l,events:r,deleteEvent:s}){const a=Zy(r),[o,c]=z.useState({eventId:"",eventName:"",show:!1}),h=(y,v)=>{c({eventId:y,eventName:v,show:!0})},m=()=>{s(o.eventId),c({eventId:"",eventName:"",show:!1})},g=()=>{c({eventId:"",eventName:"",show:!1})};return u.jsxs("div",{className:"w-full min-h-screen bg-white p-4",children:[u.jsx("h1",{className:"text-base font-bold text-black mb-6",children:"My Organized Events"}),u.jsx("div",{className:"space-y-4",children:a.length===0?u.jsxs("div",{className:"text-center py-8",children:[u.jsx("p",{className:"text-gray-500",children:"No organized events found."}),u.jsx("button",{onClick:()=>l("add_event"),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create Your First Event"})]}):a.map(y=>u.jsx("div",{className:"w-full border border-gray-300 rounded-lg p-3",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-sm font-medium text-black mb-1",children:y.name}),u.jsx("div",{className:"text-xs text-gray-500 cursor-pointer hover:text-gray-700 transition-colors",onClick:()=>l("add_event",void 0,y.fullEvent),children:"Edit"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>l("participants",y.id),className:"px-3 py-1 bg-gray-200 border border-gray-400 rounded-lg text-sm font-semibold text-black transition-colors",children:"Participants"}),u.jsx("button",{onClick:v=>{v.stopPropagation(),h(y.id,y.name)},className:"p-1 text-gray-500 hover:text-gray-700 transition-colors",children:u.jsx(Ah,{size:12})})]})]})},y.id))}),o.show&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-sm w-full shadow-lg",children:[u.jsx("h3",{className:"text-lg font-bold text-black mb-4",children:"Delete Event"}),u.jsxs("p",{className:"text-sm text-gray-700 mb-4",children:['Deleting "',o.eventName,'" will also permanently remove all participants and linked sub-events. This action cannot be undone.']}),u.jsxs("div",{className:"flex gap-3 justify-end",children:[u.jsx("button",{onClick:g,className:"px-4 py-2 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors",children:"Cancel"}),u.jsx("button",{onClick:m,className:"px-4 py-2 text-sm bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:"Delete Event"})]})]})}),u.jsx("button",{onClick:()=>l("org_dashboard"),className:"mt-6 px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg text-sm font-semibold text-black hover:bg-gray-200 transition-colors",children:" Back to Dashboard"})]})}function tv({navigate:l,event:r,profileEmail:s,emailSent:a,participantData:o,selectedEventId:c}){const h=r?.eventName||"Event",m=()=>{const E={};return r?.events&&(r.events.forEach((P,D)=>{E[D]=[]}),Object.entries(o).forEach(([P,D])=>{if(P.startsWith(c+":")){const R=parseInt(P.split(":")[1]);!isNaN(R)&&E[R]&&E[R].push({name:D.name,college:D.college,phone:D.phone,email:D.email,registrationDate:D.registrationDate})}})),E},g=()=>{const E=[];return Object.entries(o).forEach(([P,D])=>{if(P.includes(":")&&P.startsWith(c+":")){const R=parseInt(P.split(":")[1]);if(!isNaN(R)&&r?.events&&r.events[R]){const $=r.events[R].name;E.push({name:D.name,college:D.college,phone:D.phone,email:D.email,subEventName:$,registrationDate:D.registrationDate})}}else P===c&&E.push({name:D.name,college:D.college,phone:D.phone,email:D.email,subEventName:"Full Event",registrationDate:D.registrationDate})}),E},y=m(),v=g(),_=v.length,w=(E,P)=>{const D=y[E]||[];if(D.length===0){alert("No participants registered for this sub-event yet.");return}const R=`Hello! Important update regarding ${P} from ${h}. `,$=encodeURIComponent(R);D.forEach((I,V)=>{const te=`https://wa.me/${I.phone.replace(/[^\\d+]/g,"")}?text=${$}`;setTimeout(()=>{window.open(te,"_blank")},V*500)}),alert(`Message will be sent to all ${D.length} participants of ${P}. WhatsApp chats will open automatically with your message pre-filled. Just click 'Send' in each chat!`)},A=(E,P)=>{const D=y[E]||[];if(D.length===0){alert("No participants registered for this sub-event yet.");return}if(!s){alert("Please set your email in Profile first!");return}const R=D.map(we=>we.email).join(";");let $="";r?.organizingCommittee&&r.organizingCommittee.length>1&&($=r.organizingCommittee.slice(1).filter(je=>je.email&&je.email.trim()!=="").map(je=>je.email).join(";"));const I=`${P} by ${r?.college||"College"}`,V=`Dear Participant,\\\\n\\\\nI hope this email finds you well.\\\\n\\\\nI am writing to share an important update regarding ${P} from ${h}.\\\\n\\\\n\\\\n\\\\nBest regards,\\\\nEvent Organizer`;let B=`mailto:${s}?bcc=${R}&subject=${encodeURIComponent(I)}&body=${encodeURIComponent(V)}`;$&&(B+=`&cc=${$}`),window.open(B,"_blank");const te=r?.organizingCommittee?r.organizingCommittee.length-1:0,fe=te>0?` with ${te} organizing committee members in CC`:"";alert(`Email client opened with your email (${s}) as sender${fe} and all ${D.length} participants of ${P} in BCC for privacy. Participants won't see each other's email addresses.`)},T=(E,P)=>{const D=y[E]||[];if(D.length===0){alert(`No participants registered for ${P} yet.`);return}if(!s){alert("Please set your email in Profile first!");return}const R=["Name","College Name","Phone No.","Email id."],$=D.map(je=>[je.name,je.college,je.phone,je.email]),I=[R.join(","),...$.map(je=>je.map(Me=>`"${Me}"`).join(","))].join(`
`),V=new Blob(["\uFEFF"+I],{type:"text/csv;charset=utf-8;"}),B=document.createElement("a");if(B.download!==void 0){const je=URL.createObjectURL(V);B.setAttribute("href",je),B.setAttribute("download",`${h}_${P}_Participants_List.csv`),B.style.visibility="hidden",document.body.appendChild(B),B.click(),document.body.removeChild(B)}const te=`${P} - Participant List (Excel Format)`,fe=`Dear Organizer,

Please find the participant list for "${P}" from "${h}" attached as an Excel CSV file.

Sub-Event Details:
- Sub-Event Name: ${P}
- Main Event: ${h}
- College: ${r?.college||"N/A"}
- Total Participants: ${D.length}

The file "${h}_${P}_Participants_List.csv" has been downloaded to your device. Please attach this file to share the participant list in Excel format.

File Contents:
- Participant Name
- College Name
- Phone Number
- Email Address

Best regards,
Avu Event Management System`,we=`mailto:${s}?subject=${encodeURIComponent(te)}&body=${encodeURIComponent(fe)}`;window.open(we,"_blank"),alert(` Excel file "${h}_${P}_Participants_List.csv" has been downloaded!\\n\\nEmail client opened to send to ${s}. Please attach the downloaded file to complete sending the ${P} participant list in Excel format.`)};return u.jsxs("div",{className:"w-full min-h-screen bg-white p-4",children:[u.jsxs("h1",{className:"text-base font-bold text-black mb-3",children:["Registered Participants: ",_,"  ",h]}),u.jsx("div",{className:"text-sm text-black mb-4",children:"Name  College Name  Phone No.  Email id"}),v.length===0?u.jsx("div",{className:"w-full bg-white border border-gray-300 rounded-lg p-4 mb-4",children:u.jsxs("div",{className:"text-center py-8",children:[u.jsx("p",{className:"text-sm text-gray-500",children:"No participants registered yet"}),u.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Participant details will appear here when users register for sub-events"})]})}):u.jsx(u.Fragment,{children:r?.events&&r.events.length>0?u.jsx(u.Fragment,{children:r.events.map((E,P)=>{const D=y[P]||[];return u.jsxs("div",{className:"w-full bg-white border border-gray-300 rounded-lg p-4 mb-4",children:[u.jsxs("div",{className:"mb-3",children:[u.jsxs("h3",{className:"text-sm font-bold text-black",children:[E.name," (",E.type,") - ",D.length," Participant",D.length!==1?"s":""]}),u.jsxs("div",{className:"text-xs text-gray-600 mb-2",children:[E.competition,"  ",E.groupType,"  ",E.date,"  ",E.time]})]}),u.jsx("div",{className:"space-y-2 mb-4",children:D.length===0?u.jsx("div",{className:"w-full bg-gray-50 border border-gray-200 rounded-lg p-3 text-center",children:u.jsx("p",{className:"text-xs text-gray-500",children:"No participants registered for this sub-event"})}):D.map((R,$)=>u.jsx("div",{className:"w-full min-h-12 bg-transparent border border-gray-300 rounded px-3 py-2 text-sm text-black",children:u.jsxs("div",{className:"flex",children:[u.jsxs("span",{className:"font-bold mr-2",children:[$+1,"."]}),u.jsxs("div",{className:"flex-1 leading-relaxed",children:[u.jsx("span",{className:"font-bold",children:R.name}),"  ",R.college,"  ",R.phone,"  ",R.email]})]})},$))}),D.length>0&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex gap-2 mb-2",children:[u.jsxs("button",{onClick:()=>w(P,E.name),className:"flex-1 flex items-center justify-center gap-1 px-3 py-2 bg-gray-100 border border-gray-300 rounded-lg text-xs font-medium text-black hover:bg-gray-200 transition-colors",children:[u.jsx(zy,{size:12}),"WhatsApp Participants"]}),u.jsxs("button",{onClick:()=>A(P,E.name),className:"flex-1 flex items-center justify-center gap-1 px-3 py-2 bg-gray-100 border border-gray-300 rounded-lg text-xs font-medium text-black hover:bg-gray-200 transition-colors",children:[u.jsx(Uy,{size:12}),"Email - All Participants"]})]}),u.jsxs("button",{onClick:()=>T(P,E.name),className:"w-full flex items-center justify-center gap-1 px-3 py-2 bg-transparent border border-gray-300 text-black rounded-lg text-xs font-medium hover:bg-gray-100 transition-colors",children:[u.jsx($y,{size:12}),"Email Participant List to Organiser"]})]})]},P)})}):u.jsx("div",{className:"w-full bg-white border border-gray-300 rounded-lg p-4 mb-4",children:u.jsx("div",{className:"space-y-2",children:v.map((E,P)=>u.jsx("div",{className:"w-full min-h-12 bg-transparent border border-gray-300 rounded px-3 py-2 text-sm text-black",children:u.jsxs("div",{className:"flex",children:[u.jsxs("span",{className:"font-bold mr-2",children:[P+1,"."]}),u.jsxs("div",{className:"flex-1 leading-relaxed",children:[u.jsx("span",{className:"font-bold",children:E.name}),"  ",E.college,"  ",E.phone,"  ",E.email,"  ",E.subEventName]})]})},P))})})}),u.jsx("button",{onClick:()=>l("my_org"),className:"mt-6 px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg text-sm font-semibold text-black hover:bg-gray-200 transition-colors",children:" Back to My Organised Events"})]})}function rv({navigate:l,events:r,registeredEvents:s,onWithdrawParticipation:a}){const c=(()=>{const w=[];return s.forEach(A=>{const T=A.split(":");if(T.length===2){const E=T[0],P=parseInt(T[1]),D=r.find(R=>R.id===E);D&&D.events&&D.events[P]&&w.push({eventId:E,subEventIndex:P,event:D,subEvent:D.events[P],registrationKey:A})}else{const E=r.find(P=>P.id===A);E&&w.push({eventId:A,subEventIndex:-1,event:E,subEvent:null,registrationKey:A})}}),w})(),h=(w,A,T=!1)=>{const E=T?"delete":"withdraw your participation from",P=A?`"${A}"`:"this event";confirm(`Are you sure you want to ${E} ${P}?`)&&a(w)},m=(w,A)=>{l("event_detail",w,void 0,void 0,A)},g=w=>{const A=w.split(", ");return A.length>1?A[1]:A[0]},y=w=>{if(w.includes("")){const[A,T]=w.split("");if(A.trim()===T.trim())return A.trim()}return w},v=w=>{try{const A=new Date,T=new Date(w);return A.setHours(0,0,0,0),T.setHours(23,59,59,999),A>T}catch{return!1}},_=w=>w.replace(/^Event\s+\d+$/i,"").trim();return u.jsxs("div",{className:"w-full min-h-screen bg-white p-4",children:[u.jsx("h1",{className:"text-base font-bold text-black mb-4",children:"My Participating Events"}),u.jsx("div",{className:"space-y-4",children:c.length===0?u.jsxs("div",{className:"w-full bg-gray-50 border border-gray-200 rounded-lg p-4 text-center",children:[u.jsx("p",{className:"text-sm text-gray-500",children:"No participating events found"}),u.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Register for events to see them here"})]}):c.map((w,A)=>u.jsx("div",{className:"w-full border border-gray-300 rounded-lg p-3",children:u.jsxs("div",{className:"flex justify-between",children:[u.jsxs("div",{className:"flex-1 cursor-pointer",onClick:()=>m(w.eventId,w.subEventIndex>=0?w.subEventIndex:void 0),children:[u.jsxs("div",{className:"text-sm text-black mb-1",children:[u.jsx("span",{className:"font-medium",children:w.event.eventName}),u.jsxs("span",{className:"text-gray-500 ml-1",children:["(",w.event.college,")"]})]}),w.subEvent?u.jsxs("div",{className:"text-sm text-black mb-1",children:[u.jsx("span",{className:"font-medium text-black",children:_(w.subEvent.name)||w.subEvent.type}),_(w.subEvent.name)&&u.jsxs("span",{className:"ml-1",children:["- ",w.subEvent.type]})]}):u.jsxs("div",{className:"text-sm text-black mb-1",children:[u.jsx("span",{className:"font-medium text-black",children:"Full Event"})," -",u.jsx("span",{className:"ml-1",children:w.event.type})]}),u.jsxs("div",{className:"text-xs text-gray-600 mb-1",children:[u.jsx("span",{children:g(w.event.location)})," ",u.jsx("span",{className:"ml-1",children:w.subEvent?w.subEvent.date:w.event.dates})]}),w.subEvent&&u.jsxs("div",{className:"text-xs text-gray-500",children:[w.subEvent.groupType,"  ",w.subEvent.time,"  Participants: ",y(w.subEvent.participants)]})]}),(()=>{const T=w.subEvent?w.subEvent.date:w.event.dates,E=v(T);return u.jsx("button",{onClick:()=>h(w.registrationKey,w.subEvent?.name||w.event.eventName,E),className:`px-2 py-1.5 border border-gray-300 rounded-lg text-xs transition-colors self-start leading-none min-w-[70px] ${E?"bg-white text-gray-600 hover:bg-gray-50":"bg-gray-100 text-red-600 hover:bg-gray-200"}`,children:u.jsx("div",{className:"text-center",children:E?u.jsx("div",{className:"text-[10px]",children:"Delete"}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-[10px]",children:"Withdraw"}),u.jsx("div",{className:"text-[10px]",children:"Participation"})]})})})})()]})},w.registrationKey))}),u.jsx("button",{onClick:()=>l("org_dashboard"),className:"mt-6 px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg text-sm font-semibold text-black hover:bg-gray-200 transition-colors",children:" Back to Dashboard"})]})}class nv{colleges=[];searchIndex=new Map;isLoaded=!1;isLoading=!1;constructor(){this.initializeService()}async initializeService(){if(!(this.isLoading||this.isLoaded)){this.isLoading=!0;try{await this.loadSampleData(),this.buildSearchIndex(),this.isLoaded=!0,console.log(` AISHE Service: Loaded ${this.colleges.length} colleges`)}catch(r){console.error("Error initializing AISHE service:",r)}finally{this.isLoading=!1}}}async loadSampleData(){const r=[{id:"aishe_001",name:"St. Xavier's College, Mumbai",state:"Maharashtra",district:"Mumbai",university:"University of Mumbai",type:"Affiliated",category:"Arts & Science"},{id:"aishe_002",name:"Jai Hind College, Mumbai",state:"Maharashtra",district:"Mumbai",university:"University of Mumbai",type:"Affiliated",category:"Arts & Science"},{id:"aishe_003",name:"H.R. College of Commerce and Economics, Mumbai",state:"Maharashtra",district:"Mumbai",university:"University of Mumbai",type:"Affiliated",category:"Commerce"},{id:"aishe_004",name:"Mithibai College, Mumbai",state:"Maharashtra",district:"Mumbai",university:"University of Mumbai",type:"Affiliated",category:"Arts & Science"},{id:"aishe_005",name:"K.C. College, Mumbai",state:"Maharashtra",district:"Mumbai",university:"University of Mumbai",type:"Affiliated",category:"Arts & Science"},{id:"aishe_006",name:"St. Stephen's College, Delhi",state:"Delhi",district:"New Delhi",university:"University of Delhi",type:"Affiliated",category:"Arts & Science"},{id:"aishe_007",name:"Hindu College, Delhi",state:"Delhi",district:"New Delhi",university:"University of Delhi",type:"Affiliated",category:"Arts & Science"},{id:"aishe_008",name:"Lady Shri Ram College for Women, Delhi",state:"Delhi",district:"New Delhi",university:"University of Delhi",type:"Affiliated",category:"Arts & Science"},{id:"aishe_009",name:"Shri Ram College of Commerce, Delhi",state:"Delhi",district:"New Delhi",university:"University of Delhi",type:"Affiliated",category:"Commerce"},{id:"aishe_010",name:"Miranda House, Delhi",state:"Delhi",district:"New Delhi",university:"University of Delhi",type:"Affiliated",category:"Arts & Science"},{id:"aishe_011",name:"Christ University, Bangalore",state:"Karnataka",district:"Bangalore Urban",university:"Christ University",type:"University",category:"Multi-disciplinary"},{id:"aishe_012",name:"St. Joseph's College, Bangalore",state:"Karnataka",district:"Bangalore Urban",university:"Bangalore University",type:"Affiliated",category:"Arts & Science"},{id:"aishe_013",name:"Mount Carmel College, Bangalore",state:"Karnataka",district:"Bangalore Urban",university:"Bangalore University",type:"Affiliated",category:"Arts & Science"},{id:"aishe_014",name:"Presidency College, Bangalore",state:"Karnataka",district:"Bangalore Urban",university:"Bangalore University",type:"Affiliated",category:"Arts & Science"},{id:"aishe_015",name:"Loyola College, Chennai",state:"Tamil Nadu",district:"Chennai",university:"University of Madras",type:"Affiliated",category:"Arts & Science"},{id:"aishe_016",name:"Stella Maris College, Chennai",state:"Tamil Nadu",district:"Chennai",university:"University of Madras",type:"Affiliated",category:"Arts & Science"},{id:"aishe_017",name:"Presidency College, Chennai",state:"Tamil Nadu",district:"Chennai",university:"University of Madras",type:"Affiliated",category:"Arts & Science"},{id:"aishe_018",name:"Indian Institute of Technology Bombay",state:"Maharashtra",district:"Mumbai",university:"IIT Bombay",type:"University",category:"Engineering & Technology"},{id:"aishe_019",name:"Indian Institute of Technology Delhi",state:"Delhi",district:"New Delhi",university:"IIT Delhi",type:"University",category:"Engineering & Technology"},{id:"aishe_020",name:"Indian Institute of Technology Madras",state:"Tamil Nadu",district:"Chennai",university:"IIT Madras",type:"University",category:"Engineering & Technology"},...Array.from({length:80},(s,a)=>({id:`aishe_${(21+a).toString().padStart(3,"0")}`,name:`Sample College ${a+1}, ${["Mumbai","Delhi","Bangalore","Chennai","Pune","Kolkata","Hyderabad"][a%7]}`,state:["Maharashtra","Delhi","Karnataka","Tamil Nadu","Maharashtra","West Bengal","Telangana"][a%7],district:["Mumbai","New Delhi","Bangalore Urban","Chennai","Pune","Kolkata","Hyderabad"][a%7],university:`University ${a+1}`,type:["Affiliated","Constituent","Autonomous"][a%3],category:["Arts & Science","Commerce","Engineering & Technology","Medical","Management"][a%5]}))];this.colleges=r}buildSearchIndex(){this.searchIndex.clear(),this.colleges.forEach(r=>{const s=r.name.toLowerCase();for(let a=1;a<=Math.min(s.length,5);a++){const o=s.substring(0,a);this.searchIndex.has(o)||this.searchIndex.set(o,[]),this.searchIndex.get(o).push(r)}})}async searchColleges(r,s=20){if(await this.ensureLoaded(),!r.trim())return this.colleges.slice(0,s).map(c=>c.name);const a=r.toLowerCase().trim();let o=[];return this.searchIndex.has(a)?o=this.searchIndex.get(a):o=this.colleges.filter(c=>c.name.toLowerCase().includes(a)),o.sort((c,h)=>{const m=c.name.toLowerCase(),g=h.name.toLowerCase();if(m===a)return-1;if(g===a)return 1;const y=m.startsWith(a),v=g.startsWith(a);return y&&!v?-1:v&&!y?1:c.name.localeCompare(h.name)}),o.slice(0,s).map(c=>c.name)}async getCollegesByState(r){return await this.ensureLoaded(),this.colleges.filter(s=>s.state.toLowerCase()===r.toLowerCase()).map(s=>s.name)}async getCollegesByType(r){return await this.ensureLoaded(),this.colleges.filter(s=>s.type.toLowerCase()===r.toLowerCase()).map(s=>s.name)}async getCollegeCount(){return await this.ensureLoaded(),this.colleges.length}async addCollege(r){if(await this.ensureLoaded(),this.colleges.some(a=>a.name.toLowerCase()===r.toLowerCase()))return!1;const s={id:`user_${Date.now()}`,name:r,state:"Unknown",district:"Unknown",university:"Unknown",type:"Other",category:"Unknown"};return this.colleges.push(s),this.buildSearchIndex(),!0}async loadFromAISHE(r){console.log(" Loading AISHE data...");const s=r.map((a,o)=>({id:`aishe_${o}`,name:a.collegeName||a.name||"Unknown College",state:a.state||"Unknown",district:a.district||"Unknown",university:a.university||a.affiliatedTo||"Unknown",type:a.type||"Affiliated",category:a.category||"Unknown",establishmentYear:a.establishmentYear}));this.colleges=s,this.buildSearchIndex(),this.isLoaded=!0,console.log(` Loaded ${this.colleges.length} colleges from AISHE data`)}async exportCollegeNames(){return await this.ensureLoaded(),this.colleges.map(r=>r.name)}async ensureLoaded(){for(!this.isLoaded&&!this.isLoading&&await this.initializeService();this.isLoading;)await new Promise(r=>setTimeout(r,50))}}const Cl=new nv,sv=({value:l,onChange:r,placeholder:s="Enter your college name",error:a})=>{const[o,c]=z.useState(!1),[h,m]=z.useState(""),[g,y]=z.useState([]),[v,_]=z.useState(!1),[w,A]=z.useState(0),T=z.useRef(null),E=z.useRef(null);z.useEffect(()=>{(async()=>{const V=await Cl.getCollegeCount();A(V)})()},[]),z.useEffect(()=>{const V=setTimeout(async()=>{if(h.length===0){y([]);return}_(!0);try{const B=await Cl.searchColleges(h,20);y(B)}catch(B){console.error("Error searching colleges:",B),y([])}finally{_(!1)}},150);return()=>clearTimeout(V)},[h]),z.useEffect(()=>{const I=V=>{T.current&&!T.current.contains(V.target)&&c(!1)};return document.addEventListener("mousedown",I),()=>document.removeEventListener("mousedown",I)},[]);const P=I=>{const V=I.target.value;r(V),m(V),c(!0)},D=()=>{m(l),c(!0)},R=async I=>{r(I),m(""),c(!1),g.includes(I)||await Cl.addCollege(I)},$=z.useMemo(()=>h.length>0&&!g.some(I=>I.toLowerCase()===h.toLowerCase()),[h,g]);return u.jsxs("div",{className:"relative",ref:T,children:[u.jsxs("div",{className:`w-full h-11 rounded-lg px-3 flex items-center ${a?"bg-transparent border border-red-300":"bg-transparent border border-gray-300"}`,children:[u.jsx("input",{ref:E,type:"text",placeholder:s,value:l,onChange:P,onFocus:D,className:"w-full bg-transparent text-sm text-black outline-none placeholder-black",style:{color:"black"}}),v&&u.jsx("div",{className:"ml-2 text-gray-500",children:u.jsx("div",{className:"w-4 h-4 border-2 border-gray-300 border-t-blue-500 rounded-full animate-spin"})})]}),o&&u.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-300 rounded-lg mt-1 shadow-lg z-50 max-h-64 overflow-hidden",children:u.jsx("div",{className:"max-h-60 overflow-y-auto",children:g.length>0?u.jsxs(u.Fragment,{children:[g.map((I,V)=>u.jsx("div",{className:"px-3 py-2 text-sm text-black hover:bg-blue-50 cursor-pointer border-b border-gray-100 last:border-b-0",onClick:()=>R(I),children:I},V)),$&&u.jsx("div",{className:"px-3 py-2 text-sm bg-blue-50 border-t border-blue-200",children:u.jsxs("div",{className:"text-blue-700 hover:text-blue-900 cursor-pointer flex items-center",onClick:()=>R(h),children:[u.jsx("span",{className:"mr-2",children:""}),u.jsxs("span",{children:['Add "',h,'" (New College)']})]})})]}):h.length>0?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"px-3 py-2 text-sm text-gray-500 text-center",children:['No colleges found for "',h,'"']}),u.jsx("div",{className:"px-3 py-2 text-sm bg-blue-50 border-t border-blue-200",children:u.jsxs("div",{className:"text-blue-700 hover:text-blue-900 cursor-pointer flex items-center justify-center",onClick:()=>R(h),children:[u.jsx("span",{className:"mr-2",children:""}),u.jsxs("span",{children:['Add "',h,'" (New College)']})]})})]}):u.jsx("div",{className:"px-3 py-2 text-sm text-gray-500 text-center",children:"Type to search colleges..."})})})]})};function iv({navigate:l,onEmailUpdate:r,onNameUpdate:s,onPhoneUpdate:a,onProfileDataUpdate:o,savedEmail:c,savedName:h,savedPhone:m,savedProfileData:g,isInitialSetup:y=!1,onSetupComplete:v,onSignOut:_}){const[w,A]=z.useState({name:h||"",phone:m||"",collegeName:g?.collegeName||"",collegeAddress:g?.collegeAddress||"",collegeLocality:g?.collegeLocality||"",city:g?.city||"",pincode:g?.pincode||"",academicYear:g?.academicYear||"",stream:g?.stream||"",email:c||""}),[T,E]=z.useState({name:"",phone:"",collegeName:"",collegeAddress:"",collegeLocality:"",city:"",pincode:"",academicYear:"",stream:"",email:""}),[P,D]=z.useState(!1),[R,$]=z.useState(!1),[I,V]=z.useState(!1),[B,te]=z.useState(""),[fe,we]=z.useState(""),[je,Me]=z.useState(""),[Ge,Le]=z.useState(!1),[be,nt]=z.useState(0),Te=z.useRef(null),Ne=z.useRef(null),J=["11th Std","12th Std","First Year","Second Year","Third Year","Fourth Year","Post Graduate","Admin. Department","Faculty"],ae=["Science","Commerce","Arts","Engineering","Media","Management","Hospitality","Architecture","Faculty"];z.useEffect(()=>{let Z;return be>0&&(Z=setInterval(()=>{nt(be-1)},1e3)),()=>clearInterval(Z)},[be]);const Q=()=>{const Z=Math.floor(1e5+Math.random()*9e5).toString();we(Z),console.log(`SMS sent to ${w.phone}: Your Zhevents OTP is ${Z}`),alert(`OTP sent to ${w.phone}: ${Z}
(This is a demo - in real app, you'd receive actual SMS)`),nt(30)},C=(Z,ge)=>{switch(Z){case"name":return ge.trim()?ge.trim().length<2?"Please enter a valid name":ge.trim().indexOf(" ")===-1?"Please enter your full name (first and last name)":"":"Full name is required";case"phone":return ge.trim()?/^\d+$/.test(ge)?ge.length!==10?"Please enter a valid 10-digit number":ge.length===10&&/^(\d)\1{9}$/.test(ge)?"Please enter a valid mobile number (cannot be all same digits)":"":"Only numbers are allowed":"Mobile number is required";case"collegeName":return ge.trim()?"":"College name is required";case"collegeAddress":return ge.trim()?"":"Address is required";case"collegeLocality":return ge.trim()?"":"College locality is required";case"city":return ge.trim()?"":"City is required";case"pincode":return ge.trim()?/^\d{6}$/.test(ge)?"":"Please enter a valid 6-digit pincode":"Pincode is required";case"academicYear":return ge.trim()?"":"This field is required";case"stream":return ge.trim()?"":"Please specify your stream or department";case"email":return ge.trim()?ge.includes("@")?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(ge)?"":"Please enter a valid email (e.g., name@example.com)":"Email must contain @ symbol":"Email is required";default:return""}},F=(Z,ge)=>{if(Z==="phone"){const oe=ge.replace(/[^0-9]/g,"");A(le=>({...le,[Z]:oe}));const K=C(Z,oe);E(le=>({...le,[Z]:K}))}else if(Z==="pincode"){const K=ge.replace(/[^0-9]/g,"").slice(0,6);A(ce=>({...ce,[Z]:K}));const le=C(Z,K);E(ce=>({...ce,[Z]:le}))}else if(Z==="email"){A(K=>({...K,[Z]:ge}));const oe=C(Z,ge);E(K=>({...K,[Z]:oe})),r&&r(ge)}else{A(K=>({...K,[Z]:ge}));const oe=C(Z,ge);E(K=>({...K,[Z]:oe}))}},me=Z=>{F("academicYear",Z),D(!1)},xe=Z=>{F("stream",Z),$(!1)},_e=()=>{let Z;y?Z=["name","collegeName","collegeAddress","collegeLocality","city","pincode","academicYear","stream"]:Ae?Z=["name","collegeName","collegeAddress","collegeLocality","city","pincode","academicYear","stream"]:Z=["name","phone","collegeName","collegeAddress","collegeLocality","city","pincode","academicYear","stream","email"];const ge={};Z.forEach(le=>{ge[le]=C(le,w[le])}),E(le=>({...le,...ge}));const oe=w.name.trim();if(oe&&oe.indexOf(" ")===-1){alert(`Please enter your full name including both first and last name.

Example: "John Smith" instead of just "John"`);return}Object.values(ge).some(le=>le!=="")||(y?Ee():Ae?(Ee(),alert("Profile updated successfully!")):(Q(),V(!0)))},Se=()=>{if(!B.trim()){Me("Please enter the OTP");return}if(B!==fe){Me("Invalid OTP. Please check and try again.");return}Me(""),r&&r(w.email),alert("Phone number verified successfully! Account registered. You will receive participant lists automatically after registration deadlines."),l("org_dashboard")},Ee=()=>{s&&s(w.name),r&&r(w.email),a&&a(w.phone),o&&o({collegeName:w.collegeName,collegeAddress:w.collegeAddress,collegeLocality:w.collegeLocality,city:w.city,pincode:w.pincode,academicYear:w.academicYear,stream:w.stream}),v&&v()},pe=()=>{be>0||(Le(!0),setTimeout(()=>{Q(),Le(!1),te(""),Me("")},1e3))},De=()=>{V(!1),te(""),Me(""),we("")};if(z.useEffect(()=>{const Z=ge=>{Te.current&&!Te.current.contains(ge.target)&&D(!1),Ne.current&&!Ne.current.contains(ge.target)&&$(!1)};return document.addEventListener("mousedown",Z),()=>{document.removeEventListener("mousedown",Z)}},[]),I)return u.jsxs("div",{className:"w-full min-h-screen bg-white p-4",children:[u.jsx("h1",{className:"text-lg font-bold text-black mb-6",children:"Phone Verification"}),u.jsxs("div",{className:"mb-6",children:[u.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[u.jsxs("p",{className:"text-sm text-blue-800",children:["We've sent a 6-digit OTP to ",u.jsx("strong",{children:w.phone})]}),u.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Please enter the OTP below to verify your phone number"})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("div",{className:"w-full h-11 bg-gray-100 border border-gray-300 rounded-lg px-3 flex items-center",children:u.jsx("input",{type:"text",placeholder:"Enter 6-digit OTP",value:B,onChange:Z=>{const ge=Z.target.value.replace(/\D/g,"");ge.length<=6&&(te(ge),Me(""))},className:"w-full bg-transparent text-sm text-black outline-none placeholder-black text-center tracking-widest",style:{color:"black"},maxLength:6})}),je&&u.jsx("div",{className:"text-red-500 text-xs mt-1 px-3",children:je})]}),u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx("button",{onClick:Se,className:"px-8 py-2 bg-green-500 border border-green-600 rounded-lg font-semibold text-sm text-white hover:bg-green-600 transition-colors flex items-center justify-center",children:"Verify & Register"})}),u.jsx("div",{className:"text-center mb-6",children:be>0?u.jsxs("p",{className:"text-sm text-gray-600",children:["Resend OTP in ",be,"s"]}):u.jsx("button",{onClick:pe,disabled:Ge,className:"text-sm text-blue-600 hover:text-blue-800 underline disabled:opacity-50",children:Ge?"Sending...":"Resend OTP"})})]}),u.jsx("button",{onClick:De,className:"px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg text-sm font-semibold text-black hover:bg-gray-200 transition-colors",children:" Back to Registration"})]});const Ae=!y&&c&&h&&m;return u.jsxs("div",{className:"w-full min-h-screen bg-white p-4",children:[u.jsx("h1",{className:"text-lg font-bold text-black mb-6",children:y?"Complete Your Profile":Ae?"Account / Profile":"Account Registration"}),u.jsxs("div",{className:"space-y-4 mb-6",children:[u.jsx("div",{children:u.jsx("div",{className:`w-full h-11 rounded-lg px-3 flex items-center ${T.name?"bg-transparent border border-red-300":"bg-transparent border border-gray-300"}`,children:u.jsx("input",{type:"text",placeholder:"Full Name",value:w.name,onChange:Z=>F("name",Z.target.value),className:"w-full bg-transparent text-sm text-black outline-none placeholder-black",style:{color:"black"}})})}),!y&&!Ae&&u.jsx("div",{children:u.jsx("div",{className:`w-full h-11 rounded-lg px-3 flex items-center ${T.phone?"bg-transparent border border-red-300":"bg-transparent border border-gray-300"}`,children:u.jsx("input",{type:"tel",placeholder:"Mobile Number",value:w.phone,onChange:Z=>F("phone",Z.target.value),className:"w-full bg-transparent text-sm text-black outline-none placeholder-black",style:{color:"black"},maxLength:10})})}),u.jsx("div",{children:u.jsx(sv,{value:w.collegeName,onChange:Z=>F("collegeName",Z),placeholder:"College Name",error:T.collegeName})}),u.jsx("div",{children:u.jsx("div",{className:`w-full h-11 rounded-lg px-3 flex items-center ${T.collegeAddress?"bg-transparent border border-red-300":"bg-transparent border border-gray-300"}`,children:u.jsx("input",{type:"text",placeholder:"College Address",value:w.collegeAddress,onChange:Z=>F("collegeAddress",Z.target.value),className:"w-full bg-transparent text-sm text-black outline-none placeholder-black",style:{color:"black"}})})}),u.jsx("div",{children:u.jsx("div",{className:`w-full h-11 rounded-lg px-3 flex items-center ${T.collegeLocality?"bg-transparent border border-red-300":"bg-transparent border border-gray-300"}`,children:u.jsx("input",{type:"text",placeholder:"College Location/Area",value:w.collegeLocality,onChange:Z=>F("collegeLocality",Z.target.value),className:"w-full bg-transparent text-sm text-black outline-none placeholder-black",style:{color:"black"}})})}),u.jsx("div",{children:u.jsx("div",{className:`w-full h-11 rounded-lg px-3 flex items-center ${T.city?"bg-transparent border border-red-300":"bg-transparent border border-gray-300"}`,children:u.jsx("input",{type:"text",placeholder:"City of College",value:w.city,onChange:Z=>F("city",Z.target.value),className:"w-full bg-transparent text-sm text-black outline-none placeholder-black",style:{color:"black"}})})}),u.jsx("div",{children:u.jsx("div",{className:`w-full h-11 rounded-lg px-3 flex items-center ${T.pincode?"bg-transparent border border-red-300":"bg-transparent border border-gray-300"}`,children:u.jsx("input",{type:"text",placeholder:"Pincode",value:w.pincode,onChange:Z=>F("pincode",Z.target.value),className:"w-full bg-transparent text-sm text-black outline-none placeholder-black",style:{color:"black"},maxLength:6})})}),u.jsx("div",{children:u.jsxs("div",{className:"relative",ref:Te,children:[u.jsx("div",{className:`w-full h-11 rounded-lg px-3 flex items-center cursor-pointer ${T.academicYear?"bg-transparent border border-red-300":"bg-transparent border border-gray-300"}`,onClick:()=>D(!P),children:u.jsx("span",{className:`text-sm ${w.academicYear?"text-black":"text-black opacity-70"}`,children:w.academicYear||"Academic year / Admi. Department"})}),P&&u.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-300 rounded-lg mt-1 shadow-lg z-10 max-h-80 overflow-hidden",children:J.map((Z,ge)=>u.jsx("div",{className:"px-3 py-2 text-sm text-black hover:bg-gray-100 cursor-pointer",onClick:()=>me(Z),children:Z},ge))})]})}),u.jsx("div",{children:u.jsxs("div",{className:"relative",ref:Ne,children:[u.jsx("div",{className:`w-full h-11 rounded-lg px-3 flex items-center ${T.stream?"bg-transparent border border-red-300":"bg-transparent border border-gray-300"}`,children:u.jsx("input",{type:"text",placeholder:"Academic Stream",value:w.stream,onChange:Z=>F("stream",Z.target.value),onFocus:()=>$(!0),className:"w-full bg-transparent text-sm text-black outline-none placeholder-black",style:{color:"black"}})}),R&&u.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-300 rounded-lg mt-1 shadow-lg z-10 max-h-60 overflow-hidden",children:ae.map((Z,ge)=>u.jsx("div",{className:"px-3 py-2 text-sm text-black hover:bg-gray-100 cursor-pointer",onClick:()=>xe(Z),children:Z},ge))})]})}),!y&&u.jsx("div",{children:u.jsx("div",{className:`w-full h-11 rounded-lg px-3 flex items-center ${T.email?"bg-transparent border border-red-300":"bg-transparent border border-gray-300"}`,children:u.jsx("input",{type:"email",placeholder:"Email-id",value:w.email,onChange:Ae?void 0:Z=>F("email",Z.target.value),readOnly:Ae,className:`w-full bg-transparent text-sm text-black outline-none placeholder-black ${Ae?"cursor-not-allowed opacity-75":""}`,style:{color:"black"}})})})]}),u.jsx("div",{className:"flex justify-center mb-6",children:u.jsx("button",{onClick:_e,className:`px-8 py-2 border rounded-lg font-semibold text-sm transition-colors flex items-center justify-center ${y?"bg-gray-200 text-black border-gray-300 hover:bg-gray-300":Ae?"bg-blue-100 border border-blue-300 text-blue-700 hover:bg-blue-200":"bg-blue-600 text-white border-blue-600 hover:bg-blue-700"}`,children:y?"Complete Setup":Ae?"Update Profile":"Submit"})}),u.jsxs("div",{className:"space-y-3",children:[!y&&u.jsx("button",{onClick:()=>l("org_dashboard"),className:"w-full px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg text-sm font-semibold text-black hover:bg-gray-200 transition-colors",children:" Back to Dashboard"}),_&&u.jsx("div",{className:"flex justify-center",children:u.jsx("button",{onClick:_,className:"px-3 py-1 text-gray-600 hover:text-gray-800 transition-colors text-xs",children:"Sign Out"})})]})]})}function av({eventId:l,eventName:r,navigate:s}){const[a,o]=z.useState("loading"),[c,h]=z.useState(null);z.useRef(null),z.useEffect(()=>{const y=()=>{try{const _=localStorage.getItem(`zhevents_live_stream_${l}`);if(_){const w=JSON.parse(_);h(w),w.activated?(o("live"),setTimeout(()=>{const A=localStorage.getItem(`zhevents_live_stream_${l}`);A?JSON.parse(A).activated?console.log("Stream is live"):o("ended"):o("offline")},2e3)):o("ended")}else o("offline")}catch(_){console.error("Error checking live stream:",_),o("offline")}};y();const v=setInterval(y,5e3);return()=>clearInterval(v)},[l]);const m=y=>new Date(y).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),g=y=>{const _=Date.now()-y,w=Math.floor(_/6e4),A=Math.floor(_%6e4/1e3);return w>0?`${w}m ${A}s ago`:`${A}s ago`};return u.jsxs("div",{className:"w-full min-h-screen bg-black text-white p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx("button",{onClick:()=>s("eventDetail"),className:"p-2 rounded-full bg-gray-800 hover:bg-gray-700 transition-colors",children:u.jsx(Ea,{size:20,className:"text-white"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h1",{className:"text-lg font-semibold text-white truncate",children:r}),u.jsx("p",{className:"text-sm text-gray-400",children:"Live Stream"})]})]}),u.jsxs("div",{className:"max-w-md mx-auto",children:[a==="loading"&&u.jsxs("div",{className:"bg-gray-900 rounded-lg p-8 text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),u.jsx("p",{className:"text-gray-300",children:"Checking for live stream..."})]}),a==="live"&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-red-600 rounded-lg p-3 flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 bg-white rounded-full animate-pulse"}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ah,{size:16}),u.jsx("span",{className:"font-semibold",children:"LIVE"})]}),u.jsxs("p",{className:"text-sm opacity-90",children:["Started ",c&&g(c.timestamp)]})]})]}),u.jsxs("div",{className:"bg-gray-900 rounded-lg aspect-video flex items-center justify-center relative overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600 to-purple-600 opacity-20"}),u.jsxs("div",{className:"text-center z-10",children:[u.jsx(Fl,{size:48,className:"mx-auto mb-4 text-gray-400"}),u.jsx("p",{className:"text-gray-300 mb-2",children:"Live Stream Active"}),u.jsx("p",{className:"text-sm text-gray-400",children:" Organizer is broadcasting live"})]}),u.jsxs("div",{className:"absolute top-4 left-4 bg-red-600 px-2 py-1 rounded text-sm font-semibold flex items-center gap-1",children:[u.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),"LIVE"]}),u.jsxs("div",{className:"absolute top-4 right-4 bg-black bg-opacity-50 px-2 py-1 rounded text-sm",children:[" ",Math.floor(Math.random()*50)+10," watching"]})]}),c&&u.jsxs("div",{className:"bg-gray-900 rounded-lg p-4",children:[u.jsx("h3",{className:"font-semibold mb-2",children:"Stream Information"}),u.jsxs("div",{className:"space-y-1 text-sm text-gray-300",children:[u.jsx("p",{children:" Broadcaster: Event Organizer"}),u.jsxs("p",{children:[" Started: ",m(c.timestamp)]}),u.jsxs("p",{children:[" Event: ",r]})]})]}),u.jsxs("div",{className:"bg-gray-900 rounded-lg p-3 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ah,{size:16,className:"text-green-400"}),u.jsx("span",{className:"text-sm",children:"Connection: Good"})]}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx("div",{className:"w-2 h-4 bg-green-400 rounded-sm"}),u.jsx("div",{className:"w-2 h-4 bg-green-400 rounded-sm"}),u.jsx("div",{className:"w-2 h-4 bg-green-400 rounded-sm"}),u.jsx("div",{className:"w-2 h-4 bg-yellow-400 rounded-sm"}),u.jsx("div",{className:"w-2 h-4 bg-gray-600 rounded-sm"})]})]})]}),a==="offline"&&u.jsxs("div",{className:"bg-gray-900 rounded-lg p-8 text-center",children:[u.jsx(Gy,{size:48,className:"mx-auto mb-4 text-gray-500"}),u.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Stream Offline"}),u.jsx("p",{className:"text-gray-400 mb-4",children:"The organizer hasn't started the live stream yet."}),u.jsxs("div",{className:"text-sm text-gray-500",children:[u.jsx("p",{children:" Live streaming will begin when the organizer activates it"}),u.jsx("p",{children:" Check back later or contact the organizer"})]})]}),a==="ended"&&u.jsxs("div",{className:"bg-gray-900 rounded-lg p-8 text-center",children:[u.jsx(Fl,{size:48,className:"mx-auto mb-4 text-gray-500"}),u.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Stream Ended"}),u.jsx("p",{className:"text-gray-400 mb-4",children:"The live stream has ended."}),c&&u.jsxs("div",{className:"text-sm text-gray-500",children:[u.jsxs("p",{children:["Started: ",m(c.timestamp)]}),u.jsx("p",{children:"Broadcaster: Event Organizer"})]})]}),u.jsxs("div",{className:"mt-6 bg-gray-800 rounded-lg p-4",children:[u.jsx("h3",{className:"font-semibold mb-2 text-sm",children:"About Live Streaming"}),u.jsxs("div",{className:"text-xs text-gray-400 space-y-1",children:[u.jsx("p",{children:" Live streams are broadcast by event organizers"}),u.jsx("p",{children:" You'll see real-time footage when available"}),u.jsx("p",{children:" Stream quality depends on organizer's connection"}),u.jsx("p",{children:" Refresh if you experience connection issues"})]})]})]})]})}const ov="/assets/31ef8d50dc6ae68c6cbc27ae420f2e88184c343d-o5KG32AW.png",lv="/assets/27b187aa0c3e95cb5ad21ad16ecf2008df143405-Dv-pG3tc.png";function oh({onSignInComplete:l}){const[r,s]=z.useState("choose"),[a,o]=z.useState(""),[c,h]=z.useState(""),[m,g]=z.useState({}),[y,v]=z.useState(!1),_=I=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(I),w=I=>/^[0-9]{10}$/.test(I),A=()=>{const I={};(!a||!_(a))&&(I.email="Please enter a valid email address"),(!c||!w(c))&&(I.phone="Please enter a valid 10-digit phone number"),g(I),Object.keys(I).length===0&&l(a,c,!1)},T=async()=>{v(!0);try{const I=await E();I?(console.log(" Found Gmail account on device:",I),o(I),s("google")):(console.log(" Using smart email generation..."),P())}catch(I){console.error("Gmail detection error:",I),P()}finally{setTimeout(()=>{v(!1)},1e3)}},E=async()=>{try{const I=localStorage.getItem("zhevents_last_gmail");if(I&&I.includes("@gmail.com"))return I;const V=document.querySelectorAll('input[type="email"]');for(const te of V){const fe=te.value;if(fe&&fe.includes("@gmail.com"))return fe}const B=sessionStorage.getItem("userEmail");return B&&B.includes("@gmail.com")?B:null}catch(I){return console.log("Email detection failed:",I),null}},P=()=>{let I="";const V=localStorage.getItem("zhevents_last_gmail");if(V&&V.includes("@gmail.com"))I=V;else{const B=D(),te=Date.now().toString().slice(-4);B.userAgent.includes("Android")?I=`android.user${te}@gmail.com`:B.userAgent.includes("iPhone")||B.userAgent.includes("iPad")?I=`iphone.user${te}@gmail.com`:I=`mobile.user${te}@gmail.com`}localStorage.setItem("zhevents_last_gmail",I),o(I),s("google"),console.log(" Auto-detected Gmail account:",I)},D=()=>({userAgent:navigator.userAgent||"",platform:navigator.platform||"",language:navigator.language||"en",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone||"UTC"}),R=()=>{const I={};(!c||!w(c))&&(I.phone="Please enter a valid 10-digit phone number"),g(I),Object.keys(I).length===0&&l(a,c,!0)},$=I=>{const V=I.replace(/[^0-9]/g,"").slice(0,10);h(V),m.phone&&V.length===10&&g(B=>({...B,phone:void 0}))};return r==="choose"?u.jsx("div",{className:"min-h-screen bg-white flex flex-col",children:u.jsxs("div",{className:"flex-1 flex flex-col justify-center px-6 bg-gray-100",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"mb-6",children:u.jsx("img",{src:ov,alt:"Zuvo Logo",className:"mx-auto h-16 w-auto"})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Welcome to Zuvo"}),u.jsx("p",{className:"text-gray-600",children:"Choose how you'd like to sign in"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("button",{onClick:T,disabled:y,className:`w-full flex items-center justify-center gap-3 bg-white border-2 border-gray-300 rounded-lg py-3 px-4 transition-colors ${y?"opacity-75 cursor-not-allowed":"hover:bg-gray-50"}`,children:y?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-7 h-7 rounded-full bg-blue-100 flex items-center justify-center",children:u.jsx("div",{className:"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"})}),u.jsx("span",{className:"text-gray-700 font-medium",children:"Detecting Gmail Account..."})]}):u.jsxs(u.Fragment,{children:[u.jsx("img",{src:lv,alt:"Gmail",className:"w-5 h-5 object-contain"}),u.jsx("span",{className:"text-gray-700 font-medium",children:"Continue with Gmail"})]})}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"flex-1 h-px bg-gray-300"}),u.jsx("span",{className:"text-gray-500 text-sm",children:"OR"}),u.jsx("div",{className:"flex-1 h-px bg-gray-300"})]}),u.jsx("button",{onClick:()=>s("manual"),className:"w-full bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 rounded-lg py-3 px-4 font-medium transition-colors text-center",children:"Sign in with Email id and Phone Number"})]}),u.jsx("p",{className:"text-center text-gray-500 text-sm mt-8",children:"By signing in, you agree to our Terms of Service and Privacy Policy"})]})}):r==="manual"?u.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[u.jsxs("div",{className:"bg-white text-black p-4 flex items-center border-b border-gray-200",children:[u.jsx("button",{onClick:()=>s("choose"),className:"mr-3 p-1 hover:bg-gray-100 rounded-full transition-colors",children:u.jsx(Ea,{size:20})}),u.jsx("h1",{className:"text-xl font-semibold",children:"Sign In"})]}),u.jsxs("div",{className:"flex-1 px-6 py-8",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Enter Your Details"}),u.jsx("p",{className:"text-gray-600",children:"We'll send an OTP to verify your phone number"})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),u.jsx("div",{className:"flex gap-2",children:u.jsx("input",{type:"email",value:a,onChange:I=>{o(I.target.value),m.email&&_(I.target.value)&&g(V=>({...V,email:void 0}))},className:`flex-1 h-12 px-4 bg-white border ${m.email?"border-red-500":"border-gray-300"} rounded-lg text-base text-black placeholder-black`,placeholder:"Enter your email"})}),m.email&&u.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.email})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"tel",value:c,onChange:I=>$(I.target.value),className:`flex-1 h-12 px-4 bg-white border ${m.phone?"border-red-500":"border-gray-300"} rounded-lg text-base text-black placeholder-black`,placeholder:"Enter 10-digit phone number",maxLength:10}),u.jsx("button",{onClick:A,className:"px-4 py-2 bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 rounded-lg font-medium transition-colors text-sm",children:"Send OTP"})]}),m.phone&&u.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.phone})]})]})]})]}):r==="google"?u.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[u.jsxs("div",{className:"bg-white text-black p-4 flex items-center border-b border-gray-200",children:[u.jsx("button",{onClick:()=>s("choose"),className:"mr-3 p-1 hover:bg-gray-100 rounded-full transition-colors",children:u.jsx(Ea,{size:20})}),u.jsx("h1",{className:"text-xl font-semibold",children:"Complete Sign In"})]}),u.jsxs("div",{className:"flex-1 px-6 py-8",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Phone Number Required"}),u.jsx("p",{className:"text-gray-600",children:"We need your phone number to send important event updates"})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address (from Google)"}),u.jsx("div",{className:"w-full h-12 px-4 bg-white border border-gray-300 rounded-lg flex items-center text-base text-gray-600",children:a})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"tel",value:c,onChange:I=>$(I.target.value),className:`flex-1 h-12 px-4 bg-white border ${m.phone?"border-red-500":"border-gray-300"} rounded-lg text-base text-black placeholder-black`,placeholder:"Enter 10-digit phone number",maxLength:10}),u.jsx("button",{onClick:R,className:"px-4 py-2 bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 rounded-lg font-medium transition-colors text-sm",children:"Send OTP"})]}),m.phone&&u.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.phone})]})]})]}):null}function cv({email:l,phone:r,onVerificationComplete:s,onBack:a}){const[o,c]=z.useState(""),[h,m]=z.useState(""),[g,y]=z.useState(!1),[v,_]=z.useState(0),[w,A]=z.useState(!1);z.useEffect(()=>{_(30);const R=setInterval(()=>{_($=>$<=1?(clearInterval(R),0):$-1)},1e3);return()=>clearInterval(R)},[]);const T=R=>{const $=R.replace(/[^0-9]/g,"").slice(0,6);c($),h&&$.length>0&&m("")},E=async()=>{if(o.length!==6){m("Please enter a 6-digit OTP");return}A(!0),m(""),await new Promise(R=>setTimeout(R,1500)),o==="123456"?s():m("Invalid OTP. Please try again."),A(!1)},P=async()=>{y(!0),m(""),await new Promise($=>setTimeout($,1e3)),y(!1),_(30);const R=setInterval(()=>{_($=>$<=1?(clearInterval(R),0):$-1)},1e3);alert("OTP sent successfully!")},D=r.slice(0,2)+"XXXX"+r.slice(-2);return u.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[u.jsxs("div",{className:"text-black p-4 flex items-center",children:[u.jsx("button",{onClick:a,className:"mr-3 p-1 hover:bg-gray-100 rounded-full transition-colors",children:u.jsx(Ea,{size:20})}),u.jsx("h1",{className:"text-xl font-semibold",children:"OTP Verification"})]}),u.jsxs("div",{className:"flex-1 px-6 py-8",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h2",{className:"text-xl text-gray-900 mb-2",children:"Enter OTP"}),u.jsx("p",{className:"text-gray-600",children:"We've sent a 6-digit code to"}),u.jsxs("p",{className:"font-semibold text-gray-900",children:["+91 ",D]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx("input",{type:"text",value:o,onChange:R=>T(R.target.value),className:`w-32 h-8 text-center bg-transparent border-0 tracking-[0.55em] placeholder-gray-400 outline-none focus:outline-none ${h?"text-red-500":"text-gray-900"}`,style:{fontFamily:"inherit"},placeholder:"------",maxLength:6,autoFocus:!0})}),h&&u.jsx("p",{className:"text-red-500 text-sm text-center mb-4",children:h}),u.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-6",children:u.jsxs("p",{className:"text-blue-800 text-sm text-center",children:[u.jsx("strong",{children:"Demo:"})," Use ",u.jsx("span",{className:"font-mono font-bold",children:"123456"})," as OTP"]})}),u.jsx("div",{className:"flex justify-center",children:u.jsx("button",{onClick:E,disabled:o.length!==6||w,className:`px-6 py-2 rounded-lg font-medium transition-colors text-sm ${o.length===6&&!w?"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50":"bg-gray-200 text-gray-400 cursor-not-allowed border border-gray-300"}`,children:w?u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-700"}),"Verifying..."]}):"Verify OTP"})})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-gray-600 text-sm mb-3",children:"Didn't receive the code?"}),v>0?u.jsxs("p",{className:"text-gray-500 text-sm",children:["Resend OTP in ",v,"s"]}):u.jsx("button",{onClick:P,disabled:g,className:"text-blue-600 font-medium hover:text-blue-700 transition-colors disabled:opacity-50",children:g?"Sending...":"Resend OTP"})]})]})]})}const Ue={USER_EVENTS:"zhevents_user_events",PROFILE_EMAIL:"zhevents_profile_email",PROFILE_NAME:"zhevents_profile_name",PROFILE_PHONE:"zhevents_profile_phone",PROFILE_DATA:"zhevents_profile_data",SENT_EMAILS:"zhevents_sent_emails",REGISTERED_EVENTS:"zhevents_registered_sub_events",PARTICIPANT_DATA:"zhevents_participant_data",AUTH_STATE:"zhevents_auth_state",USER_PROFILE_COMPLETE:"zhevents_user_profile_complete",USER_PROFILES:"zhevents_user_profiles"};function nr(l,r){try{return localStorage.setItem(l,JSON.stringify(r)),!0}catch(s){return console.error(`Error saving to localStorage (${l}):`,s),!1}}function dr(l,r){try{const s=localStorage.getItem(l);return s===null?r:JSON.parse(s)}catch(s){const a=localStorage.getItem(l);return a&&a!=="undefined"&&a!=="null"&&typeof r=="string"?a:(console.warn(`Error loading from localStorage (${l}):`,s),r)}}const lh=[{id:"pandu",college:"Pandurang College",eventName:"Pandu Fest",location:"Mumbai, Vile Parle",dates:"12th to 13th Dec 25",type:"Mixed",competition:"IntraCollegiate",color:"bg-green-200",createdAt:17040636e5,address:"89th Road, Near Aar Centre, Vile Parle, Mumbai 400054",contact:"Akhat  9834672322",entryFees:"Free",deadline:"11 Dec 2025 at 10:00 pm (or until slots are available)",otse:"Yes (Subject to availability)",events:[{name:"Event 1",type:"Dancing",competition:"InterCollegiate",groupType:"Group",date:"12 Dec 2025",time:"10:00 am",participants:"68",rules:["Rule 1","Rule 2","Rule 3","Rule 4","Rule 5"],contact:"Akhat  9834672322",entryFees:"Free",deadline:"11 Dec 2025 at 10:00 pm (or until slots are available)",otse:"Yes (Subject to availability)"},{name:"Event 2",type:"Singing",competition:"InterCollegiate",groupType:"Solo",date:"13 Dec 2025",time:"2:00 pm",participants:"1",rules:["Rule A","Rule B","Rule C"],contact:"Akhat  9834672322",entryFees:"50",deadline:"10 Dec 2025 at 5:00 pm (or until slots are available)",otse:"No"}]},{id:"kaiso",college:"Sindhu College",eventName:"Kaiso",location:"Mumbai, Mira Road",dates:"15th to 17th Dec 25",type:"Mixed",competition:"InterCollegiate",color:"bg-yellow-200",createdAt:170415e7},{id:"maker",college:"ABV College",eventName:"Maker",location:"Mumbai, Ghatkopar",dates:"20th to 22nd Dec 25",type:"Mixed",competition:"InterCollegiate",color:"bg-orange-300",createdAt:17042364e5},{id:"aitran",college:"Newbei College",eventName:"Aitran",location:"Mumbai, Charni Road",dates:"10th to 11th Dec 25",type:"Singing",competition:"IntraCollegiate",color:"bg-amber-200",createdAt:17043228e5},{id:"saman",college:"Sanghi College",eventName:"Saman",location:"Mumbai, Jogeshwari",dates:"8th to 9th Dec 25",type:"Sports",competition:"IntraCollegiate",color:"bg-green-300",createdAt:17044092e5},{id:"sund",college:"Sund College",eventName:"Sund Fest",location:"Mumbai",dates:"25th to 28th Dec 25",type:"Dramatics",competition:"InterCollegiate",color:"bg-purple-300",createdAt:17044956e5}];function uv(){const[l,r]=z.useState(!1),[s,a]=z.useState(!1),[o,c]=z.useState(null),[h,m]=z.useState("signin"),[g,y]=z.useState("pandu"),[v,_]=z.useState(null),[w,A]=z.useState(lh),[T,E]=z.useState(null),[P,D]=z.useState(!1),[R,$]=z.useState(""),[I,V]=z.useState(""),[B,te]=z.useState(""),[fe,we]=z.useState({collegeName:"",collegeAddress:"",collegeLocality:"",city:"",pincode:"",academicYear:"",stream:""}),[je,Me]=z.useState([]),[Ge,Le]=z.useState([]),[be,nt]=z.useState(!1),[Te,Ne]=z.useState(null),[J,ae]=z.useState({}),Q=(K,le)=>`${K}:${le}`,C=(K,le)=>{const ce=dr(Ue.USER_PROFILES,{}),Pe=Q(K,le);return ce[Pe]||null},F=(K,le,ce)=>{const Pe=dr(Ue.USER_PROFILES,{}),We=Q(K,le);Pe[We]={name:ce.name,email:K,phone:le,collegeName:ce.collegeName,collegeAddress:ce.collegeAddress,collegeLocality:ce.collegeLocality,city:ce.city,pincode:ce.pincode,academicYear:ce.academicYear,stream:ce.stream,completedAt:new Date().toISOString()},nr(Ue.USER_PROFILES,Pe)};z.useEffect(()=>{const K=dr(Ue.AUTH_STATE,{isAuthenticated:!1,email:"",phone:""});if(K.isAuthenticated&&K.email&&K.phone){r(!0),$(K.email),te(K.phone);const Ve=C(K.email,K.phone);Ve?(a(!0),V(Ve.name||""),we({collegeName:Ve.collegeName||"",collegeAddress:Ve.collegeAddress||"",collegeLocality:Ve.collegeLocality||"",city:Ve.city||"",pincode:Ve.pincode||"",academicYear:Ve.academicYear||"",stream:Ve.stream||""}),m("home")):(a(!1),m("profile"))}else m("signin");const le=dr(Ue.USER_EVENTS,[]);if(Array.isArray(le)&&le.length>0){const Ve=[...lh];le.forEach(Nr=>{Ve.some(fr=>fr.id===Nr.id)||Ve.push(Nr)}),A(Ve)}const ce=dr(Ue.PROFILE_NAME,"");typeof ce=="string"&&V(ce);const Pe=dr(Ue.PROFILE_DATA,{collegeName:"",collegeAddress:"",collegeLocality:"",city:"",pincode:"",academicYear:"",stream:""});typeof Pe=="object"&&Pe!==null&&we(Pe);const We=dr(Ue.SENT_EMAILS,[]);Array.isArray(We)&&Me(We);const ft=dr(Ue.REGISTERED_EVENTS,[]);Array.isArray(ft)&&Le(ft);const Rt=dr(Ue.PARTICIPANT_DATA,{});if(typeof Rt=="object"&&Rt!==null)ae(Rt);else{const Ve={"pandu:0":{name:"Arjun Patel",college:"Trinity College",phone:"9876543210",email:"arjun.patel@trinity.edu",registrationDate:new Date().toISOString()},"pandu:1":{name:"Priya Sharma",college:"Sindhu College",phone:"9876543211",email:"priya.sharma@sindhu.edu",registrationDate:new Date().toISOString()}};ae(Ve)}nt(!0)},[]),z.useEffect(()=>{if(!be)return;const K=w.filter(le=>le.createdByUser);nr(Ue.USER_EVENTS,K)},[w,be]),z.useEffect(()=>{!be||!R||nr(Ue.PROFILE_EMAIL,R)},[R,be]),z.useEffect(()=>{!be||!I||nr(Ue.PROFILE_NAME,I)},[I,be]),z.useEffect(()=>{!be||!B||nr(Ue.PROFILE_PHONE,B)},[B,be]),z.useEffect(()=>{be&&nr(Ue.PROFILE_DATA,fe)},[fe,be]),z.useEffect(()=>{be&&nr(Ue.SENT_EMAILS,je)},[je,be]),z.useEffect(()=>{be&&nr(Ue.REGISTERED_EVENTS,Ge)},[Ge,be]),z.useEffect(()=>{be&&nr(Ue.PARTICIPANT_DATA,J)},[J,be]);const me=(K,le,ce)=>{c({email:K,phone:le}),m("otp_verification")},xe=()=>{if(o){r(!0),$(o.email),te(o.phone),nr(Ue.AUTH_STATE,{isAuthenticated:!0,email:o.email,phone:o.phone});const K=C(o.email,o.phone);K?(a(!0),V(K.name||""),we({collegeName:K.collegeName||"",collegeAddress:K.collegeAddress||"",collegeLocality:K.collegeLocality||"",city:K.city||"",pincode:K.pincode||"",academicYear:K.academicYear||"",stream:K.stream||""}),m("home")):(a(!1),m("profile")),c(null)}},_e=()=>{a(!0),R&&B&&F(R,B,{name:I,collegeName:fe.collegeName,collegeAddress:fe.collegeAddress,collegeLocality:fe.collegeLocality,city:fe.city,pincode:fe.pincode,academicYear:fe.academicYear,stream:fe.stream}),m("home")},Se=()=>{r(!1),a(!1),$(""),V(""),te(""),we({collegeName:"",collegeAddress:"",collegeLocality:"",city:"",pincode:"",academicYear:"",stream:""}),c(null),localStorage.removeItem(Ue.AUTH_STATE),localStorage.removeItem(Ue.USER_PROFILE_COMPLETE),localStorage.removeItem(Ue.PROFILE_EMAIL),localStorage.removeItem(Ue.PROFILE_NAME),localStorage.removeItem(Ue.PROFILE_PHONE),localStorage.removeItem(Ue.PROFILE_DATA),m("signin")},Ee=K=>{we(K),s&&R&&B&&F(R,B,{name:I,collegeName:K.collegeName,collegeAddress:K.collegeAddress,collegeLocality:K.collegeLocality,city:K.city,pincode:K.pincode,academicYear:K.academicYear,stream:K.stream})};z.useEffect(()=>{if(!R||!be||!l)return;const K=setInterval(()=>{const le=new Date;w.forEach(ce=>{if(!(!ce.createdByUser||!ce.deadline))try{let Pe;if(ce.deadline.includes("at")){const We=ce.deadline.split("at"),ft=We[0].trim(),Rt=We[1].trim().replace(/pm|am/i,"");Pe=new Date(`${ft} ${Rt}`)}else Pe=new Date(ce.deadline);if(le>Pe){const We=dr(Ue.SENT_EMAILS,[]);if(!We.includes(ce.id)){console.log(` Participant list for "${ce.eventName}" sent to ${R}`);const ft=[...We,ce.id];nr(Ue.SENT_EMAILS,ft),Me(ft)}}}catch(Pe){console.warn(`Could not parse deadline for event ${ce.eventName}:`,Pe)}})},6e4);return()=>clearInterval(K)},[R,be]);const pe=(K,le,ce,Pe,We)=>{if(!l&&K!=="signin"&&K!=="otp_verification"){m("signin");return}if(l&&!s&&K!=="home"&&K!=="profile"){m("profile");return}le&&y(le),We!==void 0?_(We):K!=="event_detail"&&_(null),ce!==void 0?E(ce):K==="add_event"&&h!=="add_event"&&E(null),D(Pe||!1),m(K)},De=(K,le=!1)=>{if(le&&T)A(ce=>ce.map(Pe=>Pe.id===T.id?{...K,id:T.id,createdAt:T.createdAt,createdByUser:T.createdByUser}:Pe));else{const ce={...K,createdAt:Date.now(),createdByUser:!0};A(Pe=>[...Pe,ce])}},Ae=K=>{A(le=>le.filter(ce=>ce.id!==K))},Z=(K,le,ce)=>{const Pe=le!==void 0?`${K}:${le}`:K;console.log("Registering for:",Pe),console.log("Current registered events before:",Ge),Le(We=>{const ft=We.includes(Pe)?We:[...We,Pe];return console.log("New registered events:",ft),ft}),ce&&ae(We=>({...We,[Pe]:{...ce,registrationDate:new Date().toISOString()}}))},ge=K=>{Le(le=>le.filter(ce=>ce!==K)),ae(le=>{const ce={...le};return delete ce[K],ce})},oe=()=>{switch(h){case"signin":return u.jsx(oh,{onSignInComplete:me});case"otp_verification":return o?u.jsx(cv,{email:o.email,phone:o.phone,onVerificationComplete:xe,onBack:()=>m("signin")}):u.jsx(oh,{onSignInComplete:me});case"home":return u.jsx(_a,{navigate:pe,events:w,userProfile:{name:I,email:R,phone:B,isProfileComplete:s}});case"event_detail":const K=w.find(ce=>ce.id===g);return K?u.jsx(_y,{navigate:pe,event:K,onRegister:Z,registeredEvents:Ge,setCurrentLiveStream:Ne,selectedSubEvent:v,userProfile:{name:I,email:R,phone:B,profileData:fe}}):u.jsx(_a,{navigate:pe,events:w,userProfile:{name:I,email:R,phone:B,isProfileComplete:s}});case"register":return u.jsx(Sy,{navigate:pe});case"results":return u.jsx(jy,{navigate:pe});case"org_dashboard":return u.jsx(Ny,{navigate:pe});case"add_event":return u.jsx(Xy,{navigate:pe,addEvent:De,editingEvent:T,isNewFromDashboard:P,userProfile:{name:I||"John Doe",email:R||"john.doe@college.edu",phone:B||"9876543210",profileData:fe}});case"my_org":return u.jsx(ev,{navigate:pe,events:w,deleteEvent:Ae});case"participants":const le=w.find(ce=>ce.id===g);return u.jsx(tv,{navigate:pe,event:le,profileEmail:R,emailSent:je.includes(g),participantData:J,selectedEventId:g});case"my_part":return u.jsx(rv,{navigate:pe,events:w,registeredEvents:Ge,onWithdrawParticipation:ge});case"profile":return u.jsx(iv,{navigate:pe,onEmailUpdate:$,onNameUpdate:V,onPhoneUpdate:te,onProfileDataUpdate:Ee,savedEmail:R,savedName:I,savedPhone:B,savedProfileData:fe,isInitialSetup:!s,onSetupComplete:_e,onSignOut:Se});case"liveStream":return Te?u.jsx(av,{navigate:pe,eventId:Te.eventId,eventName:Te.eventName}):u.jsx(_a,{navigate:pe,events:w,userProfile:{name:I,email:R,phone:B,isProfileComplete:s}});default:return u.jsx(_a,{navigate:pe,events:w,userProfile:{name:I,email:R,phone:B,isProfileComplete:s}})}};return u.jsx("div",{className:"min-h-screen bg-white w-full max-w-[360px] h-[100dvh] mx-auto overflow-x-hidden",children:oe()})}dy.createRoot(document.getElementById("root")).render(u.jsx(uv,{}));
