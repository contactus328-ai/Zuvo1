var jm=Object.defineProperty;var Nm=(l,r,s)=>r in l?jm(l,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):l[r]=s;var ii=(l,r,s)=>Nm(l,typeof r!="symbol"?r+"":r,s);(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function s(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=s(o);fetch(o.href,c)}})();function fh(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}function Em(l){if(Object.prototype.hasOwnProperty.call(l,"__esModule"))return l;var r=l.default;if(typeof r=="function"){var s=function a(){return this instanceof a?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};s.prototype=r.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(l).forEach(function(a){var o=Object.getOwnPropertyDescriptor(l,a);Object.defineProperty(s,a,o.get?o:{enumerable:!0,get:function(){return l[a]}})}),s}var wl={exports:{}},ai={},bl={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bd;function Cm(){if(bd)return ke;bd=1;var l=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.iterator;function b(C){return C===null||typeof C!="object"?null:(C=_&&C[_]||C["@@iterator"],typeof C=="function"?C:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,k={};function P(C,z,fe){this.props=C,this.context=z,this.refs=k,this.updater=fe||R}P.prototype.isReactComponent={},P.prototype.setState=function(C,z){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,z,"setState")},P.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function T(){}T.prototype=P.prototype;function L(C,z,fe){this.props=C,this.context=z,this.refs=k,this.updater=fe||R}var D=L.prototype=new T;D.constructor=L,A(D,P.prototype),D.isPureReactComponent=!0;var U=Array.isArray,q=Object.prototype.hasOwnProperty,K={current:null},ne={key:!0,ref:!0,__self:!0,__source:!0};function be(C,z,fe){var ye,ce={},Se=null,Te=null;if(z!=null)for(ye in z.ref!==void 0&&(Te=z.ref),z.key!==void 0&&(Se=""+z.key),z)q.call(z,ye)&&!ne.hasOwnProperty(ye)&&(ce[ye]=z[ye]);var Ne=arguments.length-2;if(Ne===1)ce.children=fe;else if(1<Ne){for(var Ae=Array(Ne),De=0;De<Ne;De++)Ae[De]=arguments[De+2];ce.children=Ae}if(C&&C.defaultProps)for(ye in Ne=C.defaultProps,Ne)ce[ye]===void 0&&(ce[ye]=Ne[ye]);return{$$typeof:l,type:C,key:Se,ref:Te,props:ce,_owner:K.current}}function _e(C,z){return{$$typeof:l,type:C.type,key:z,ref:C.ref,props:C.props,_owner:C._owner}}function je(C){return typeof C=="object"&&C!==null&&C.$$typeof===l}function ge(C){var z={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(fe){return z[fe]})}var at=/\/+/g;function Me(C,z){return typeof C=="object"&&C!==null&&C.key!=null?ge(""+C.key):z.toString(36)}function Le(C,z,fe,ye,ce){var Se=typeof C;(Se==="undefined"||Se==="boolean")&&(C=null);var Te=!1;if(C===null)Te=!0;else switch(Se){case"string":case"number":Te=!0;break;case"object":switch(C.$$typeof){case l:case r:Te=!0}}if(Te)return Te=C,ce=ce(Te),C=ye===""?"."+Me(Te,0):ye,U(ce)?(fe="",C!=null&&(fe=C.replace(at,"$&/")+"/"),Le(ce,z,fe,"",function(De){return De})):ce!=null&&(je(ce)&&(ce=_e(ce,fe+(!ce.key||Te&&Te.key===ce.key?"":(""+ce.key).replace(at,"$&/")+"/")+C)),z.push(ce)),1;if(Te=0,ye=ye===""?".":ye+":",U(C))for(var Ne=0;Ne<C.length;Ne++){Se=C[Ne];var Ae=ye+Me(Se,Ne);Te+=Le(Se,z,fe,Ae,ce)}else if(Ae=b(C),typeof Ae=="function")for(C=Ae.call(C),Ne=0;!(Se=C.next()).done;)Se=Se.value,Ae=ye+Me(Se,Ne++),Te+=Le(Se,z,fe,Ae,ce);else if(Se==="object")throw z=String(C),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.");return Te}function Ge(C,z,fe){if(C==null)return C;var ye=[],ce=0;return Le(C,ye,"","",function(Se){return z.call(fe,Se,ce++)}),ye}function Ce(C){if(C._status===-1){var z=C._result;z=z(),z.then(function(fe){(C._status===0||C._status===-1)&&(C._status=1,C._result=fe)},function(fe){(C._status===0||C._status===-1)&&(C._status=2,C._result=fe)}),C._status===-1&&(C._status=0,C._result=z)}if(C._status===1)return C._result.default;throw C._result}var Ee={current:null},Y={transition:null},oe={ReactCurrentDispatcher:Ee,ReactCurrentBatchConfig:Y,ReactCurrentOwner:K};function Z(){throw Error("act(...) is not supported in production builds of React.")}return ke.Children={map:Ge,forEach:function(C,z,fe){Ge(C,function(){z.apply(this,arguments)},fe)},count:function(C){var z=0;return Ge(C,function(){z++}),z},toArray:function(C){return Ge(C,function(z){return z})||[]},only:function(C){if(!je(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},ke.Component=P,ke.Fragment=s,ke.Profiler=o,ke.PureComponent=L,ke.StrictMode=a,ke.Suspense=p,ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oe,ke.act=Z,ke.cloneElement=function(C,z,fe){if(C==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+C+".");var ye=A({},C.props),ce=C.key,Se=C.ref,Te=C._owner;if(z!=null){if(z.ref!==void 0&&(Se=z.ref,Te=K.current),z.key!==void 0&&(ce=""+z.key),C.type&&C.type.defaultProps)var Ne=C.type.defaultProps;for(Ae in z)q.call(z,Ae)&&!ne.hasOwnProperty(Ae)&&(ye[Ae]=z[Ae]===void 0&&Ne!==void 0?Ne[Ae]:z[Ae])}var Ae=arguments.length-2;if(Ae===1)ye.children=fe;else if(1<Ae){Ne=Array(Ae);for(var De=0;De<Ae;De++)Ne[De]=arguments[De+2];ye.children=Ne}return{$$typeof:l,type:C.type,key:ce,ref:Se,props:ye,_owner:Te}},ke.createContext=function(C){return C={$$typeof:h,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},C.Provider={$$typeof:c,_context:C},C.Consumer=C},ke.createElement=be,ke.createFactory=function(C){var z=be.bind(null,C);return z.type=C,z},ke.createRef=function(){return{current:null}},ke.forwardRef=function(C){return{$$typeof:m,render:C}},ke.isValidElement=je,ke.lazy=function(C){return{$$typeof:v,_payload:{_status:-1,_result:C},_init:Ce}},ke.memo=function(C,z){return{$$typeof:y,type:C,compare:z===void 0?null:z}},ke.startTransition=function(C){var z=Y.transition;Y.transition={};try{C()}finally{Y.transition=z}},ke.unstable_act=Z,ke.useCallback=function(C,z){return Ee.current.useCallback(C,z)},ke.useContext=function(C){return Ee.current.useContext(C)},ke.useDebugValue=function(){},ke.useDeferredValue=function(C){return Ee.current.useDeferredValue(C)},ke.useEffect=function(C,z){return Ee.current.useEffect(C,z)},ke.useId=function(){return Ee.current.useId()},ke.useImperativeHandle=function(C,z,fe){return Ee.current.useImperativeHandle(C,z,fe)},ke.useInsertionEffect=function(C,z){return Ee.current.useInsertionEffect(C,z)},ke.useLayoutEffect=function(C,z){return Ee.current.useLayoutEffect(C,z)},ke.useMemo=function(C,z){return Ee.current.useMemo(C,z)},ke.useReducer=function(C,z,fe){return Ee.current.useReducer(C,z,fe)},ke.useRef=function(C){return Ee.current.useRef(C)},ke.useState=function(C){return Ee.current.useState(C)},ke.useSyncExternalStore=function(C,z,fe){return Ee.current.useSyncExternalStore(C,z,fe)},ke.useTransition=function(){return Ee.current.useTransition()},ke.version="18.3.1",ke}var _d;function Kl(){return _d||(_d=1,bl.exports=Cm()),bl.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sd;function Tm(){if(Sd)return ai;Sd=1;var l=Kl(),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function h(m,p,y){var v,_={},b=null,R=null;y!==void 0&&(b=""+y),p.key!==void 0&&(b=""+p.key),p.ref!==void 0&&(R=p.ref);for(v in p)a.call(p,v)&&!c.hasOwnProperty(v)&&(_[v]=p[v]);if(m&&m.defaultProps)for(v in p=m.defaultProps,p)_[v]===void 0&&(_[v]=p[v]);return{$$typeof:r,type:m,key:b,ref:R,props:_,_owner:o.current}}return ai.Fragment=s,ai.jsx=h,ai.jsxs=h,ai}var kd;function Pm(){return kd||(kd=1,wl.exports=Tm()),wl.exports}var u=Pm();const Om="modulepreload",Am=function(l){return"/"+l},jd={},mi=function(r,s,a){let o=Promise.resolve();if(s&&s.length>0){let h=function(y){return Promise.all(y.map(v=>Promise.resolve(v).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),p=(m==null?void 0:m.nonce)||(m==null?void 0:m.getAttribute("nonce"));o=h(s.map(y=>{if(y=Am(y),y in jd)return;jd[y]=!0;const v=y.endsWith(".css"),_=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${_}`))return;const b=document.createElement("link");if(b.rel=v?"stylesheet":Om,v||(b.as="script"),b.crossOrigin="",b.href=y,p&&b.setAttribute("nonce",p),document.head.appendChild(b),v)return new Promise((R,A)=>{b.addEventListener("load",R),b.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${y}`)))})}))}function c(h){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=h,window.dispatchEvent(m),!m.defaultPrevented)throw h}return o.then(h=>{for(const m of h||[])m.status==="rejected"&&c(m.reason);return r().catch(c)})},Dm=l=>{let r;return l?r=l:typeof fetch>"u"?r=(...s)=>mi(async()=>{const{default:a}=await Promise.resolve().then(()=>cs);return{default:a}},void 0).then(({default:a})=>a(...s)):r=fetch,(...s)=>r(...s)};class Gl extends Error{constructor(r,s="FunctionsError",a){super(r),this.name=s,this.context=a}}class Nd extends Gl{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class Ed extends Gl{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class Cd extends Gl{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var Il;(function(l){l.Any="any",l.ApNortheast1="ap-northeast-1",l.ApNortheast2="ap-northeast-2",l.ApSouth1="ap-south-1",l.ApSoutheast1="ap-southeast-1",l.ApSoutheast2="ap-southeast-2",l.CaCentral1="ca-central-1",l.EuCentral1="eu-central-1",l.EuWest1="eu-west-1",l.EuWest2="eu-west-2",l.EuWest3="eu-west-3",l.SaEast1="sa-east-1",l.UsEast1="us-east-1",l.UsWest1="us-west-1",l.UsWest2="us-west-2"})(Il||(Il={}));var Rm=function(l,r,s,a){function o(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function m(v){try{y(a.next(v))}catch(_){h(_)}}function p(v){try{y(a.throw(v))}catch(_){h(_)}}function y(v){v.done?c(v.value):o(v.value).then(m,p)}y((a=a.apply(l,r||[])).next())})};class Im{constructor(r,{headers:s={},customFetch:a,region:o=Il.Any}={}){this.url=r,this.headers=s,this.region=o,this.fetch=Dm(a)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r){return Rm(this,arguments,void 0,function*(s,a={}){var o;try{const{headers:c,method:h,body:m,signal:p}=a;let y={},{region:v}=a;v||(v=this.region);const _=new URL(`${this.url}/${s}`);v&&v!=="any"&&(y["x-region"]=v,_.searchParams.set("forceFunctionRegion",v));let b;m&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)&&(typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",b=m):typeof m=="string"?(y["Content-Type"]="text/plain",b=m):typeof FormData<"u"&&m instanceof FormData?b=m:(y["Content-Type"]="application/json",b=JSON.stringify(m)));const R=yield this.fetch(_.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),c),body:b,signal:p}).catch(T=>{throw T.name==="AbortError"?T:new Nd(T)}),A=R.headers.get("x-relay-error");if(A&&A==="true")throw new Ed(R);if(!R.ok)throw new Cd(R);let k=((o=R.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),P;return k==="application/json"?P=yield R.json():k==="application/octet-stream"?P=yield R.blob():k==="text/event-stream"?P=R:k==="multipart/form-data"?P=yield R.formData():P=yield R.text(),{data:P,error:null,response:R}}catch(c){return c instanceof Error&&c.name==="AbortError"?{data:null,error:new Nd(c)}:{data:null,error:c,response:c instanceof Cd||c instanceof Ed?c.context:void 0}}})}}var ut={},Gn={},Jn={},Yn={},Qn={},Xn={},Lm=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ls=Lm();const $m=ls.fetch,mh=ls.fetch.bind(ls),ph=ls.Headers,Mm=ls.Request,Um=ls.Response,cs=Object.freeze(Object.defineProperty({__proto__:null,Headers:ph,Request:Mm,Response:Um,default:mh,fetch:$m},Symbol.toStringTag,{value:"Module"})),Fm=Em(cs);var ka={},Td;function gh(){if(Td)return ka;Td=1,Object.defineProperty(ka,"__esModule",{value:!0});class l extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return ka.default=l,ka}var Pd;function yh(){if(Pd)return Xn;Pd=1;var l=Xn&&Xn.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Xn,"__esModule",{value:!0});const r=l(Fm),s=l(gh());class a{constructor(c){var h,m;this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=new Headers(c.headers),this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=(h=c.shouldThrowOnError)!==null&&h!==void 0?h:!1,this.signal=c.signal,this.isMaybeSingle=(m=c.isMaybeSingle)!==null&&m!==void 0?m:!1,c.fetch?this.fetch=c.fetch:typeof fetch>"u"?this.fetch=r.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,h){return this.headers=new Headers(this.headers),this.headers.set(c,h),this}then(c,h){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const m=this.fetch;let p=m(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async y=>{var v,_,b,R;let A=null,k=null,P=null,T=y.status,L=y.statusText;if(y.ok){if(this.method!=="HEAD"){const K=await y.text();K===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((v=this.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?k=K:k=JSON.parse(K))}const U=(_=this.headers.get("Prefer"))===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),q=(b=y.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");U&&q&&q.length>1&&(P=parseInt(q[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(k)&&(k.length>1?(A={code:"PGRST116",details:`Results contain ${k.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},k=null,P=null,T=406,L="Not Acceptable"):k.length===1?k=k[0]:k=null)}else{const U=await y.text();try{A=JSON.parse(U),Array.isArray(A)&&y.status===404&&(k=[],A=null,T=200,L="OK")}catch{y.status===404&&U===""?(T=204,L="No Content"):A={message:U}}if(A&&this.isMaybeSingle&&(!((R=A==null?void 0:A.details)===null||R===void 0)&&R.includes("0 rows"))&&(A=null,T=200,L="OK"),A&&this.shouldThrowOnError)throw new s.default(A)}return{error:A,data:k,count:P,status:T,statusText:L}});return this.shouldThrowOnError||(p=p.catch(y=>{var v,_,b;return{error:{message:`${(v=y==null?void 0:y.name)!==null&&v!==void 0?v:"FetchError"}: ${y==null?void 0:y.message}`,details:`${(_=y==null?void 0:y.stack)!==null&&_!==void 0?_:""}`,hint:"",code:`${(b=y==null?void 0:y.code)!==null&&b!==void 0?b:""}`},data:null,count:null,status:0,statusText:""}})),p.then(c,h)}returns(){return this}overrideTypes(){return this}}return Xn.default=a,Xn}var Od;function vh(){if(Od)return Qn;Od=1;var l=Qn&&Qn.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Qn,"__esModule",{value:!0});const r=l(yh());class s extends r.default{select(o){let c=!1;const h=(o??"*").split("").map(m=>/\s/.test(m)&&!c?"":(m==='"'&&(c=!c),m)).join("");return this.url.searchParams.set("select",h),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:c=!0,nullsFirst:h,foreignTable:m,referencedTable:p=m}={}){const y=p?`${p}.order`:"order",v=this.url.searchParams.get(y);return this.url.searchParams.set(y,`${v?`${v},`:""}${o}.${c?"asc":"desc"}${h===void 0?"":h?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:c,referencedTable:h=c}={}){const m=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(m,`${o}`),this}range(o,c,{foreignTable:h,referencedTable:m=h}={}){const p=typeof m>"u"?"offset":`${m}.offset`,y=typeof m>"u"?"limit":`${m}.limit`;return this.url.searchParams.set(p,`${o}`),this.url.searchParams.set(y,`${c-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:c=!1,settings:h=!1,buffers:m=!1,wal:p=!1,format:y="text"}={}){var v;const _=[o?"analyze":null,c?"verbose":null,h?"settings":null,m?"buffers":null,p?"wal":null].filter(Boolean).join("|"),b=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${y}; for="${b}"; options=${_};`),y==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return Qn.default=s,Qn}var Ad;function Jl(){if(Ad)return Yn;Ad=1;var l=Yn&&Yn.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Yn,"__esModule",{value:!0});const r=l(vh());class s extends r.default{eq(o,c){return this.url.searchParams.append(o,`eq.${c}`),this}neq(o,c){return this.url.searchParams.append(o,`neq.${c}`),this}gt(o,c){return this.url.searchParams.append(o,`gt.${c}`),this}gte(o,c){return this.url.searchParams.append(o,`gte.${c}`),this}lt(o,c){return this.url.searchParams.append(o,`lt.${c}`),this}lte(o,c){return this.url.searchParams.append(o,`lte.${c}`),this}like(o,c){return this.url.searchParams.append(o,`like.${c}`),this}likeAllOf(o,c){return this.url.searchParams.append(o,`like(all).{${c.join(",")}}`),this}likeAnyOf(o,c){return this.url.searchParams.append(o,`like(any).{${c.join(",")}}`),this}ilike(o,c){return this.url.searchParams.append(o,`ilike.${c}`),this}ilikeAllOf(o,c){return this.url.searchParams.append(o,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(o,c){return this.url.searchParams.append(o,`ilike(any).{${c.join(",")}}`),this}is(o,c){return this.url.searchParams.append(o,`is.${c}`),this}in(o,c){const h=Array.from(new Set(c)).map(m=>typeof m=="string"&&new RegExp("[,()]").test(m)?`"${m}"`:`${m}`).join(",");return this.url.searchParams.append(o,`in.(${h})`),this}contains(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cs.{${c.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(c)}`),this}containedBy(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cd.{${c.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(c)}`),this}rangeGt(o,c){return this.url.searchParams.append(o,`sr.${c}`),this}rangeGte(o,c){return this.url.searchParams.append(o,`nxl.${c}`),this}rangeLt(o,c){return this.url.searchParams.append(o,`sl.${c}`),this}rangeLte(o,c){return this.url.searchParams.append(o,`nxr.${c}`),this}rangeAdjacent(o,c){return this.url.searchParams.append(o,`adj.${c}`),this}overlaps(o,c){return typeof c=="string"?this.url.searchParams.append(o,`ov.${c}`):this.url.searchParams.append(o,`ov.{${c.join(",")}}`),this}textSearch(o,c,{config:h,type:m}={}){let p="";m==="plain"?p="pl":m==="phrase"?p="ph":m==="websearch"&&(p="w");const y=h===void 0?"":`(${h})`;return this.url.searchParams.append(o,`${p}fts${y}.${c}`),this}match(o){return Object.entries(o).forEach(([c,h])=>{this.url.searchParams.append(c,`eq.${h}`)}),this}not(o,c,h){return this.url.searchParams.append(o,`not.${c}.${h}`),this}or(o,{foreignTable:c,referencedTable:h=c}={}){const m=h?`${h}.or`:"or";return this.url.searchParams.append(m,`(${o})`),this}filter(o,c,h){return this.url.searchParams.append(o,`${c}.${h}`),this}}return Yn.default=s,Yn}var Dd;function xh(){if(Dd)return Jn;Dd=1;var l=Jn&&Jn.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Jn,"__esModule",{value:!0});const r=l(Jl());class s{constructor(o,{headers:c={},schema:h,fetch:m}){this.url=o,this.headers=new Headers(c),this.schema=h,this.fetch=m}select(o,c){const{head:h=!1,count:m}=c??{},p=h?"HEAD":"GET";let y=!1;const v=(o??"*").split("").map(_=>/\s/.test(_)&&!y?"":(_==='"'&&(y=!y),_)).join("");return this.url.searchParams.set("select",v),m&&this.headers.append("Prefer",`count=${m}`),new r.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:c,defaultToNull:h=!0}={}){var m;const p="POST";if(c&&this.headers.append("Prefer",`count=${c}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const y=o.reduce((v,_)=>v.concat(Object.keys(_)),[]);if(y.length>0){const v=[...new Set(y)].map(_=>`"${_}"`);this.url.searchParams.set("columns",v.join(","))}}return new r.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}upsert(o,{onConflict:c,ignoreDuplicates:h=!1,count:m,defaultToNull:p=!0}={}){var y;const v="POST";if(this.headers.append("Prefer",`resolution=${h?"ignore":"merge"}-duplicates`),c!==void 0&&this.url.searchParams.set("on_conflict",c),m&&this.headers.append("Prefer",`count=${m}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const _=o.reduce((b,R)=>b.concat(Object.keys(R)),[]);if(_.length>0){const b=[...new Set(_)].map(R=>`"${R}"`);this.url.searchParams.set("columns",b.join(","))}}return new r.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}update(o,{count:c}={}){var h;const m="PATCH";return c&&this.headers.append("Prefer",`count=${c}`),new r.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}delete({count:o}={}){var c;const h="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new r.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return Jn.default=s,Jn}var Rd;function zm(){if(Rd)return Gn;Rd=1;var l=Gn&&Gn.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Gn,"__esModule",{value:!0});const r=l(xh()),s=l(Jl());class a{constructor(c,{headers:h={},schema:m,fetch:p}={}){this.url=c,this.headers=new Headers(h),this.schemaName=m,this.fetch=p}from(c){const h=new URL(`${this.url}/${c}`);return new r.default(h,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(c){return new a(this.url,{headers:this.headers,schema:c,fetch:this.fetch})}rpc(c,h={},{head:m=!1,get:p=!1,count:y}={}){var v;let _;const b=new URL(`${this.url}/rpc/${c}`);let R;m||p?(_=m?"HEAD":"GET",Object.entries(h).filter(([k,P])=>P!==void 0).map(([k,P])=>[k,Array.isArray(P)?`{${P.join(",")}}`:`${P}`]).forEach(([k,P])=>{b.searchParams.append(k,P)})):(_="POST",R=h);const A=new Headers(this.headers);return y&&A.set("Prefer",`count=${y}`),new s.default({method:_,url:b,headers:A,schema:this.schemaName,body:R,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}}return Gn.default=a,Gn}var Id;function Bm(){if(Id)return ut;Id=1;var l=ut&&ut.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(ut,"__esModule",{value:!0}),ut.PostgrestError=ut.PostgrestBuilder=ut.PostgrestTransformBuilder=ut.PostgrestFilterBuilder=ut.PostgrestQueryBuilder=ut.PostgrestClient=void 0;const r=l(zm());ut.PostgrestClient=r.default;const s=l(xh());ut.PostgrestQueryBuilder=s.default;const a=l(Jl());ut.PostgrestFilterBuilder=a.default;const o=l(vh());ut.PostgrestTransformBuilder=o.default;const c=l(yh());ut.PostgrestBuilder=c.default;const h=l(gh());return ut.PostgrestError=h.default,ut.default={PostgrestClient:r.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:c.default,PostgrestError:h.default},ut}var Hm=Bm();const Wm=fh(Hm),{PostgrestClient:Vm,PostgrestQueryBuilder:f0,PostgrestFilterBuilder:m0,PostgrestTransformBuilder:p0,PostgrestBuilder:g0,PostgrestError:y0}=Wm;class qm{static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const a=s.node,o=parseInt(a.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let s=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(s+=`

Suggested solution: ${r.workaround}`),new Error(s)}static createWebSocket(r,s){const a=this.getWebSocketConstructor();return new a(r,s)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const Km="2.75.1",Gm=`realtime-js/${Km}`,Jm="1.0.0",Ll=1e4,Ym=1e3,Qm=100;var ci;(function(l){l[l.connecting=0]="connecting",l[l.open=1]="open",l[l.closing=2]="closing",l[l.closed=3]="closed"})(ci||(ci={}));var it;(function(l){l.closed="closed",l.errored="errored",l.joined="joined",l.joining="joining",l.leaving="leaving"})(it||(it={}));var ir;(function(l){l.close="phx_close",l.error="phx_error",l.join="phx_join",l.reply="phx_reply",l.leave="phx_leave",l.access_token="access_token"})(ir||(ir={}));var $l;(function(l){l.websocket="websocket"})($l||($l={}));var xn;(function(l){l.Connecting="connecting",l.Open="open",l.Closing="closing",l.Closed="closed"})(xn||(xn={}));class Xm{constructor(){this.HEADER_LENGTH=1}decode(r,s){return r.constructor===ArrayBuffer?s(this._binaryDecode(r)):s(typeof r=="string"?JSON.parse(r):{})}_binaryDecode(r){const s=new DataView(r),a=new TextDecoder;return this._decodeBroadcast(r,s,a)}_decodeBroadcast(r,s,a){const o=s.getUint8(1),c=s.getUint8(2);let h=this.HEADER_LENGTH+2;const m=a.decode(r.slice(h,h+o));h=h+o;const p=a.decode(r.slice(h,h+c));h=h+c;const y=JSON.parse(a.decode(r.slice(h,r.byteLength)));return{ref:null,topic:m,event:p,payload:y}}}class wh{constructor(r,s){this.callback=r,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ze;(function(l){l.abstime="abstime",l.bool="bool",l.date="date",l.daterange="daterange",l.float4="float4",l.float8="float8",l.int2="int2",l.int4="int4",l.int4range="int4range",l.int8="int8",l.int8range="int8range",l.json="json",l.jsonb="jsonb",l.money="money",l.numeric="numeric",l.oid="oid",l.reltime="reltime",l.text="text",l.time="time",l.timestamp="timestamp",l.timestamptz="timestamptz",l.timetz="timetz",l.tsrange="tsrange",l.tstzrange="tstzrange"})(ze||(ze={}));const Ld=(l,r,s={})=>{var a;const o=(a=s.skipTypes)!==null&&a!==void 0?a:[];return r?Object.keys(r).reduce((c,h)=>(c[h]=Zm(h,l,r,o),c),{}):{}},Zm=(l,r,s,a)=>{const o=r.find(m=>m.name===l),c=o==null?void 0:o.type,h=s[l];return c&&!a.includes(c)?bh(c,h):Ml(h)},bh=(l,r)=>{if(l.charAt(0)==="_"){const s=l.slice(1,l.length);return np(r,s)}switch(l){case ze.bool:return ep(r);case ze.float4:case ze.float8:case ze.int2:case ze.int4:case ze.int8:case ze.numeric:case ze.oid:return tp(r);case ze.json:case ze.jsonb:return rp(r);case ze.timestamp:return sp(r);case ze.abstime:case ze.date:case ze.daterange:case ze.int4range:case ze.int8range:case ze.money:case ze.reltime:case ze.text:case ze.time:case ze.timestamptz:case ze.timetz:case ze.tsrange:case ze.tstzrange:return Ml(r);default:return Ml(r)}},Ml=l=>l,ep=l=>{switch(l){case"t":return!0;case"f":return!1;default:return l}},tp=l=>{if(typeof l=="string"){const r=parseFloat(l);if(!Number.isNaN(r))return r}return l},rp=l=>{if(typeof l=="string")try{return JSON.parse(l)}catch(r){return console.log(`JSON parse error: ${r}`),l}return l},np=(l,r)=>{if(typeof l!="string")return l;const s=l.length-1,a=l[s];if(l[0]==="{"&&a==="}"){let c;const h=l.slice(1,s);try{c=JSON.parse("["+h+"]")}catch{c=h?h.split(","):[]}return c.map(m=>bh(r,m))}return l},sp=l=>typeof l=="string"?l.replace(" ","T"):l,_h=l=>{let r=l;return r=r.replace(/^ws/i,"http"),r=r.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),r.replace(/\/+$/,"")+"/api/broadcast"};class _l{constructor(r,s,a={},o=Ll){this.channel=r,this.event=s,this.payload=a,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,s){var a;return this._hasReceived(r)&&s((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:r,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:s}){this.recHooks.filter(a=>a.status===r).forEach(a=>a.callback(s))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var $d;(function(l){l.SYNC="sync",l.JOIN="join",l.LEAVE="leave"})($d||($d={}));class ui{constructor(r,s){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},o=>{const{onJoin:c,onLeave:h,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ui.syncState(this.state,o,c,h),this.pendingDiffs.forEach(p=>{this.state=ui.syncDiff(this.state,p,c,h)}),this.pendingDiffs=[],m()}),this.channel._on(a.diff,{},o=>{const{onJoin:c,onLeave:h,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=ui.syncDiff(this.state,o,c,h),m())}),this.onJoin((o,c,h)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:c,newPresences:h})}),this.onLeave((o,c,h)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:c,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,s,a,o){const c=this.cloneDeep(r),h=this.transformState(s),m={},p={};return this.map(c,(y,v)=>{h[y]||(p[y]=v)}),this.map(h,(y,v)=>{const _=c[y];if(_){const b=v.map(P=>P.presence_ref),R=_.map(P=>P.presence_ref),A=v.filter(P=>R.indexOf(P.presence_ref)<0),k=_.filter(P=>b.indexOf(P.presence_ref)<0);A.length>0&&(m[y]=A),k.length>0&&(p[y]=k)}else m[y]=v}),this.syncDiff(c,{joins:m,leaves:p},a,o)}static syncDiff(r,s,a,o){const{joins:c,leaves:h}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return a||(a=()=>{}),o||(o=()=>{}),this.map(c,(m,p)=>{var y;const v=(y=r[m])!==null&&y!==void 0?y:[];if(r[m]=this.cloneDeep(p),v.length>0){const _=r[m].map(R=>R.presence_ref),b=v.filter(R=>_.indexOf(R.presence_ref)<0);r[m].unshift(...b)}a(m,v,p)}),this.map(h,(m,p)=>{let y=r[m];if(!y)return;const v=p.map(_=>_.presence_ref);y=y.filter(_=>v.indexOf(_.presence_ref)<0),r[m]=y,o(m,y,p),y.length===0&&delete r[m]}),r}static map(r,s){return Object.getOwnPropertyNames(r).map(a=>s(a,r[a]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((s,a)=>{const o=r[a];return"metas"in o?s[a]=o.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):s[a]=o,s},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Md;(function(l){l.ALL="*",l.INSERT="INSERT",l.UPDATE="UPDATE",l.DELETE="DELETE"})(Md||(Md={}));var di;(function(l){l.BROADCAST="broadcast",l.PRESENCE="presence",l.POSTGRES_CHANGES="postgres_changes",l.SYSTEM="system"})(di||(di={}));var kr;(function(l){l.SUBSCRIBED="SUBSCRIBED",l.TIMED_OUT="TIMED_OUT",l.CLOSED="CLOSED",l.CHANNEL_ERROR="CHANNEL_ERROR"})(kr||(kr={}));class Yl{constructor(r,s={config:{}},a){var o,c;if(this.topic=r,this.params=s,this.socket=a,this.bindings={},this.state=it.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new _l(this,ir.join,this.params,this.timeout),this.rejoinTimer=new wh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=it.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=it.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=it.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=it.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=it.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ir.reply,{},(h,m)=>{this._trigger(this._replyEventName(m),h)}),this.presence=new ui(this),this.broadcastEndpointURL=_h(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(r,s=this.timeout){var a,o,c;if(this.socket.isConnected()||this.socket.connect(),this.state==it.closed){const{config:{broadcast:h,presence:m,private:p}}=this.params,y=(o=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(R=>R.filter))!==null&&o!==void 0?o:[],v=!!this.bindings[di.PRESENCE]&&this.bindings[di.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,_={},b={broadcast:h,presence:Object.assign(Object.assign({},m),{enabled:v}),postgres_changes:y,private:p};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(R=>r==null?void 0:r(kr.CHANNEL_ERROR,R)),this._onClose(()=>r==null?void 0:r(kr.CLOSED)),this.updateJoinPayload(Object.assign({config:b},_)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:R})=>{var A;if(this.socket.setAuth(),R===void 0){r==null||r(kr.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,P=(A=k==null?void 0:k.length)!==null&&A!==void 0?A:0,T=[];for(let L=0;L<P;L++){const D=k[L],{filter:{event:U,schema:q,table:K,filter:ne}}=D,be=R&&R[L];if(be&&be.event===U&&be.schema===q&&be.table===K&&be.filter===ne)T.push(Object.assign(Object.assign({},D),{id:be.id}));else{this.unsubscribe(),this.state=it.errored,r==null||r(kr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,r&&r(kr.SUBSCRIBED);return}}).receive("error",R=>{this.state=it.errored,r==null||r(kr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(R).join(", ")||"error")))}).receive("timeout",()=>{r==null||r(kr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,s={}){return await this.send({type:"presence",event:"track",payload:r},s.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,s,a){return this.state===it.joined&&r===di.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(r,s,a)}async send(r,s={}){var a,o;if(!this._canPush()&&r.type==="broadcast"){const{event:c,payload:h}=r,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:h,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(a=s.timeout)!==null&&a!==void 0?a:this.timeout);return await((o=y.body)===null||o===void 0?void 0:o.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var h,m,p;const y=this._push(r.type,r,s.timeout||this.timeout);r.type==="broadcast"&&!(!((p=(m=(h=this.params)===null||h===void 0?void 0:h.config)===null||m===void 0?void 0:m.broadcast)===null||p===void 0)&&p.ack)&&c("ok"),y.receive("ok",()=>c("ok")),y.receive("error",()=>c("error")),y.receive("timeout",()=>c("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=it.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ir.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(o=>{a=new _l(this,ir.leave,{},r),a.receive("ok",()=>{s(),o("ok")}).receive("timeout",()=>{s(),o("timed out")}).receive("error",()=>{o("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=it.closed,this.bindings={}}async _fetchWithTimeout(r,s,a){const o=new AbortController,c=setTimeout(()=>o.abort(),a),h=await this.socket.fetch(r,Object.assign(Object.assign({},s),{signal:o.signal}));return clearTimeout(c),h}_push(r,s,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new _l(this,r,s,a);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>Qm){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(r,s,a){return s}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,s,a){var o,c;const h=r.toLocaleLowerCase(),{close:m,error:p,leave:y,join:v}=ir;if(a&&[m,p,y,v].indexOf(h)>=0&&a!==this._joinRef())return;let b=this._onMessage(h,s,a);if(s&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(R=>{var A,k,P;return((A=R.filter)===null||A===void 0?void 0:A.event)==="*"||((P=(k=R.filter)===null||k===void 0?void 0:k.event)===null||P===void 0?void 0:P.toLocaleLowerCase())===h}).map(R=>R.callback(b,a)):(c=this.bindings[h])===null||c===void 0||c.filter(R=>{var A,k,P,T,L,D;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in R){const U=R.id,q=(A=R.filter)===null||A===void 0?void 0:A.event;return U&&((k=s.ids)===null||k===void 0?void 0:k.includes(U))&&(q==="*"||(q==null?void 0:q.toLocaleLowerCase())===((P=s.data)===null||P===void 0?void 0:P.type.toLocaleLowerCase()))}else{const U=(L=(T=R==null?void 0:R.filter)===null||T===void 0?void 0:T.event)===null||L===void 0?void 0:L.toLocaleLowerCase();return U==="*"||U===((D=s==null?void 0:s.event)===null||D===void 0?void 0:D.toLocaleLowerCase())}else return R.type.toLocaleLowerCase()===h}).map(R=>{if(typeof b=="object"&&"ids"in b){const A=b.data,{schema:k,table:P,commit_timestamp:T,type:L,errors:D}=A;b=Object.assign(Object.assign({},{schema:k,table:P,commit_timestamp:T,eventType:L,new:{},old:{},errors:D}),this._getPayloadRecords(A))}R.callback(b,a)})}_isClosed(){return this.state===it.closed}_isJoined(){return this.state===it.joined}_isJoining(){return this.state===it.joining}_isLeaving(){return this.state===it.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,s,a){const o=r.toLocaleLowerCase(),c={type:o,filter:s,callback:a};return this.bindings[o]?this.bindings[o].push(c):this.bindings[o]=[c],this}_off(r,s){const a=r.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(o=>{var c;return!(((c=o.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===a&&Yl.isEqual(o.filter,s))})),this}static isEqual(r,s){if(Object.keys(r).length!==Object.keys(s).length)return!1;for(const a in r)if(r[a]!==s[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(ir.close,{},r)}_onError(r){this._on(ir.error,{},s=>r(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=it.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const s={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(s.new=Ld(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(s.old=Ld(r.columns,r.old_record)),s}}const Sl=()=>{},ja={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ip=[1e3,2e3,5e3,1e4],ap=1e4,op=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class lp{constructor(r,s){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ll,this.transport=null,this.heartbeatIntervalMs=ja.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Sl,this.ref=0,this.reconnectTimer=null,this.logger=Sl,this.conn=null,this.sendBuffer=[],this.serializer=new Xm,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let c;return o?c=o:typeof fetch>"u"?c=(...h)=>mi(async()=>{const{default:m}=await Promise.resolve().then(()=>cs);return{default:m}},void 0).then(({default:m})=>m(...h)).catch(m=>{throw new Error(`Failed to load @supabase/node-fetch: ${m.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):c=fetch,(...h)=>c(...h)},!(!((a=s==null?void 0:s.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${r}/${$l.websocket}`,this.httpEndpoint=_h(r),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=qm.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const s=r.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Jm}))}disconnect(r,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},r?this.conn.close(r,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const s=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const r=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,s,a){this.logger(r,s,a)}connectionState(){switch(this.conn&&this.conn.readyState){case ci.connecting:return xn.Connecting;case ci.open:return xn.Open;case ci.closing:return xn.Closing;default:return xn.Closed}}isConnected(){return this.connectionState()===xn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,s={config:{}}){const a=`realtime:${r}`,o=this.getChannels().find(c=>c.topic===a);if(o)return o;{const c=new Yl(`realtime:${r}`,s,this);return this.channels.push(c),c}}push(r){const{topic:s,event:a,payload:o,ref:c}=r,h=()=>{this.encode(r,m=>{var p;(p=this.conn)===null||p===void 0||p.send(m)})};this.log("push",`${s} ${a} (${c})`,o),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(Ym,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},ja.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let s=this.channels.find(a=>a.topic===r&&(a._isJoined()||a._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${r}"`),s.unsubscribe())}_remove(r){this.channels=this.channels.filter(s=>s.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(y){this.log("error","error in heartbeat callback",y)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:o,payload:c,ref:h}=s,m=h?`(${h})`:"",p=c.status||"";this.log("receive",`${p} ${a} ${o} ${m}`.trim(),c),this.channels.filter(y=>y._isMember(a)).forEach(y=>y._trigger(o,c,h)),this._triggerStateCallbacks("message",s)})}_clearTimer(r){var s;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){var s;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(ir.error))}_appendParams(r,s){if(Object.keys(s).length===0)return r;const a=r.match(/\?/)?"&":"?",o=new URLSearchParams(s);return`${r}${a}${o}`}_workerObjectUrl(r){let s;if(r)s=r;else{const a=new Blob([op],{type:"application/javascript"});s=URL.createObjectURL(a)}return s}_setConnectionState(r,s=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(r=null){let s;r?s=r:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(a=>{const o={access_token:s,version:Gm};s&&a.updateJoinPayload(o),a.joinedOnce&&a._isJoined()&&a._push(ir.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${r}`,s)})}_triggerStateCallbacks(r,s){try{this.stateChangeCallbacks[r].forEach(a=>{try{a(s)}catch(o){this.log("error",`error in ${r} callback`,o)}})}catch(a){this.log("error",`error triggering ${r} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new wh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ja.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var s,a,o,c,h,m,p,y,v;if(this.transport=(s=r==null?void 0:r.transport)!==null&&s!==void 0?s:null,this.timeout=(a=r==null?void 0:r.timeout)!==null&&a!==void 0?a:Ll,this.heartbeatIntervalMs=(o=r==null?void 0:r.heartbeatIntervalMs)!==null&&o!==void 0?o:ja.HEARTBEAT_INTERVAL,this.worker=(c=r==null?void 0:r.worker)!==null&&c!==void 0?c:!1,this.accessToken=(h=r==null?void 0:r.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(m=r==null?void 0:r.heartbeatCallback)!==null&&m!==void 0?m:Sl,r!=null&&r.params&&(this.params=r.params),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=r==null?void 0:r.reconnectAfterMs)!==null&&p!==void 0?p:(_=>ip[_-1]||ap),this.encode=(y=r==null?void 0:r.encode)!==null&&y!==void 0?y:((_,b)=>b(JSON.stringify(_))),this.decode=(v=r==null?void 0:r.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r==null?void 0:r.workerUrl}}}class Ql extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function tt(l){return typeof l=="object"&&l!==null&&"__isStorageError"in l}class cp extends Ql{constructor(r,s,a){super(r),this.name="StorageApiError",this.status=s,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ul extends Ql{constructor(r,s){super(r),this.name="StorageUnknownError",this.originalError=s}}var up=function(l,r,s,a){function o(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function m(v){try{y(a.next(v))}catch(_){h(_)}}function p(v){try{y(a.throw(v))}catch(_){h(_)}}function y(v){v.done?c(v.value):o(v.value).then(m,p)}y((a=a.apply(l,r||[])).next())})};const Sh=l=>{let r;return l?r=l:typeof fetch>"u"?r=(...s)=>mi(async()=>{const{default:a}=await Promise.resolve().then(()=>cs);return{default:a}},void 0).then(({default:a})=>a(...s)):r=fetch,(...s)=>r(...s)},dp=()=>up(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield mi(()=>Promise.resolve().then(()=>cs),void 0)).Response:Response}),Fl=l=>{if(Array.isArray(l))return l.map(s=>Fl(s));if(typeof l=="function"||l!==Object(l))return l;const r={};return Object.entries(l).forEach(([s,a])=>{const o=s.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));r[o]=Fl(a)}),r},hp=l=>{if(typeof l!="object"||l===null)return!1;const r=Object.getPrototypeOf(l);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in l)&&!(Symbol.iterator in l)};var _n=function(l,r,s,a){function o(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function m(v){try{y(a.next(v))}catch(_){h(_)}}function p(v){try{y(a.throw(v))}catch(_){h(_)}}function y(v){v.done?c(v.value):o(v.value).then(m,p)}y((a=a.apply(l,r||[])).next())})};const kl=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),fp=(l,r,s)=>_n(void 0,void 0,void 0,function*(){const a=yield dp();l instanceof a&&!(s!=null&&s.noResolveJson)?l.json().then(o=>{const c=l.status||500,h=(o==null?void 0:o.statusCode)||c+"";r(new cp(kl(o),c,h))}).catch(o=>{r(new Ul(kl(o),o))}):r(new Ul(kl(l),l))}),mp=(l,r,s,a)=>{const o={method:l,headers:(r==null?void 0:r.headers)||{}};return l==="GET"||!a?o:(hp(a)?(o.headers=Object.assign({"Content-Type":"application/json"},r==null?void 0:r.headers),o.body=JSON.stringify(a)):o.body=a,r!=null&&r.duplex&&(o.duplex=r.duplex),Object.assign(Object.assign({},o),s))};function pi(l,r,s,a,o,c){return _n(this,void 0,void 0,function*(){return new Promise((h,m)=>{l(s,mp(r,a,o,c)).then(p=>{if(!p.ok)throw p;return a!=null&&a.noResolveJson?p:p.json()}).then(p=>h(p)).catch(p=>fp(p,m,a))})})}function Pa(l,r,s,a){return _n(this,void 0,void 0,function*(){return pi(l,"GET",r,s,a)})}function hr(l,r,s,a,o){return _n(this,void 0,void 0,function*(){return pi(l,"POST",r,a,o,s)})}function zl(l,r,s,a,o){return _n(this,void 0,void 0,function*(){return pi(l,"PUT",r,a,o,s)})}function pp(l,r,s,a){return _n(this,void 0,void 0,function*(){return pi(l,"HEAD",r,Object.assign(Object.assign({},s),{noResolveJson:!0}),a)})}function kh(l,r,s,a,o){return _n(this,void 0,void 0,function*(){return pi(l,"DELETE",r,a,o,s)})}var gp=function(l,r,s,a){function o(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function m(v){try{y(a.next(v))}catch(_){h(_)}}function p(v){try{y(a.throw(v))}catch(_){h(_)}}function y(v){v.done?c(v.value):o(v.value).then(m,p)}y((a=a.apply(l,r||[])).next())})};class yp{constructor(r,s){this.downloadFn=r,this.shouldThrowOnError=s}then(r,s){return this.execute().then(r,s)}execute(){return gp(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tt(r))return{data:null,error:r};throw r}})}}var vp=function(l,r,s,a){function o(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function m(v){try{y(a.next(v))}catch(_){h(_)}}function p(v){try{y(a.throw(v))}catch(_){h(_)}}function y(v){v.done?c(v.value):o(v.value).then(m,p)}y((a=a.apply(l,r||[])).next())})},jh;class xp{constructor(r,s){this.downloadFn=r,this.shouldThrowOnError=s,this[jh]="BlobDownloadBuilder",this.promise=null}asStream(){return new yp(this.downloadFn,this.shouldThrowOnError)}then(r,s){return this.getPromise().then(r,s)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return vp(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tt(r))return{data:null,error:r};throw r}})}}jh=Symbol.toStringTag;var Pt=function(l,r,s,a){function o(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function m(v){try{y(a.next(v))}catch(_){h(_)}}function p(v){try{y(a.throw(v))}catch(_){h(_)}}function y(v){v.done?c(v.value):o(v.value).then(m,p)}y((a=a.apply(l,r||[])).next())})};const wp={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ud={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class bp{constructor(r,s={},a,o){this.shouldThrowOnError=!1,this.url=r,this.headers=s,this.bucketId=a,this.fetch=Sh(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(r,s,a,o){return Pt(this,void 0,void 0,function*(){try{let c;const h=Object.assign(Object.assign({},Ud),o);let m=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(h.upsert)});const p=h.metadata;typeof Blob<"u"&&a instanceof Blob?(c=new FormData,c.append("cacheControl",h.cacheControl),p&&c.append("metadata",this.encodeMetadata(p)),c.append("",a)):typeof FormData<"u"&&a instanceof FormData?(c=a,c.append("cacheControl",h.cacheControl),p&&c.append("metadata",this.encodeMetadata(p))):(c=a,m["cache-control"]=`max-age=${h.cacheControl}`,m["content-type"]=h.contentType,p&&(m["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),o!=null&&o.headers&&(m=Object.assign(Object.assign({},m),o.headers));const y=this._removeEmptyFolders(s),v=this._getFinalPath(y),_=yield(r=="PUT"?zl:hr)(this.fetch,`${this.url}/object/${v}`,c,Object.assign({headers:m},h!=null&&h.duplex?{duplex:h.duplex}:{}));return{data:{path:y,id:_.Id,fullPath:_.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(tt(c))return{data:null,error:c};throw c}})}upload(r,s,a){return Pt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,s,a)})}uploadToSignedUrl(r,s,a,o){return Pt(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(r),h=this._getFinalPath(c),m=new URL(this.url+`/object/upload/sign/${h}`);m.searchParams.set("token",s);try{let p;const y=Object.assign({upsert:Ud.upsert},o),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(y.upsert)});typeof Blob<"u"&&a instanceof Blob?(p=new FormData,p.append("cacheControl",y.cacheControl),p.append("",a)):typeof FormData<"u"&&a instanceof FormData?(p=a,p.append("cacheControl",y.cacheControl)):(p=a,v["cache-control"]=`max-age=${y.cacheControl}`,v["content-type"]=y.contentType);const _=yield zl(this.fetch,m.toString(),p,{headers:v});return{data:{path:c,fullPath:_.Key},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(tt(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(r,s){return Pt(this,void 0,void 0,function*(){try{let a=this._getFinalPath(r);const o=Object.assign({},this.headers);s!=null&&s.upsert&&(o["x-upsert"]="true");const c=yield hr(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:o}),h=new URL(this.url+c.url),m=h.searchParams.get("token");if(!m)throw new Ql("No token returned by API");return{data:{signedUrl:h.toString(),path:r,token:m},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(tt(a))return{data:null,error:a};throw a}})}update(r,s,a){return Pt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,s,a)})}move(r,s,a){return Pt(this,void 0,void 0,function*(){try{return{data:yield hr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:s,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(tt(o))return{data:null,error:o};throw o}})}copy(r,s,a){return Pt(this,void 0,void 0,function*(){try{return{data:{path:(yield hr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:s,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(tt(o))return{data:null,error:o};throw o}})}createSignedUrl(r,s,a){return Pt(this,void 0,void 0,function*(){try{let o=this._getFinalPath(r),c=yield hr(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:s},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const h=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${h}`)},{data:c,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(tt(o))return{data:null,error:o};throw o}})}createSignedUrls(r,s,a){return Pt(this,void 0,void 0,function*(){try{const o=yield hr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:r},{headers:this.headers}),c=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:o.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${c}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(tt(o))return{data:null,error:o};throw o}})}download(r,s){const o=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),h=c?`?${c}`:"",m=this._getFinalPath(r),p=()=>Pa(this.fetch,`${this.url}/${o}/${m}${h}`,{headers:this.headers,noResolveJson:!0});return new xp(p,this.shouldThrowOnError)}info(r){return Pt(this,void 0,void 0,function*(){const s=this._getFinalPath(r);try{const a=yield Pa(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Fl(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(tt(a))return{data:null,error:a};throw a}})}exists(r){return Pt(this,void 0,void 0,function*(){const s=this._getFinalPath(r);try{return yield pp(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(tt(a)&&a instanceof Ul){const o=a.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:a}}throw a}})}getPublicUrl(r,s){const a=this._getFinalPath(r),o=[],c=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";c!==""&&o.push(c);const m=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",p=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});p!==""&&o.push(p);let y=o.join("&");return y!==""&&(y=`?${y}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${a}${y}`)}}}remove(r){return Pt(this,void 0,void 0,function*(){try{return{data:yield kh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tt(s))return{data:null,error:s};throw s}})}list(r,s,a){return Pt(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},wp),s),{prefix:r||""});return{data:yield hr(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},a),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(tt(o))return{data:null,error:o};throw o}})}listV2(r,s){return Pt(this,void 0,void 0,function*(){try{const a=Object.assign({},r);return{data:yield hr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},s),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(tt(a))return{data:null,error:a};throw a}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const s=[];return r.width&&s.push(`width=${r.width}`),r.height&&s.push(`height=${r.height}`),r.resize&&s.push(`resize=${r.resize}`),r.format&&s.push(`format=${r.format}`),r.quality&&s.push(`quality=${r.quality}`),s.join("&")}}const _p="2.75.1",Sp={"X-Client-Info":`storage-js/${_p}`};var Zn=function(l,r,s,a){function o(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function m(v){try{y(a.next(v))}catch(_){h(_)}}function p(v){try{y(a.throw(v))}catch(_){h(_)}}function y(v){v.done?c(v.value):o(v.value).then(m,p)}y((a=a.apply(l,r||[])).next())})};class kp{constructor(r,s={},a,o){this.shouldThrowOnError=!1;const c=new URL(r);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Sp),s),this.fetch=Sh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Zn(this,void 0,void 0,function*(){try{return{data:yield Pa(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(tt(r))return{data:null,error:r};throw r}})}getBucket(r){return Zn(this,void 0,void 0,function*(){try{return{data:yield Pa(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tt(s))return{data:null,error:s};throw s}})}createBucket(r){return Zn(this,arguments,void 0,function*(s,a={public:!1}){try{return{data:yield hr(this.fetch,`${this.url}/bucket`,{id:s,name:s,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(tt(o))return{data:null,error:o};throw o}})}updateBucket(r,s){return Zn(this,void 0,void 0,function*(){try{return{data:yield zl(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(tt(a))return{data:null,error:a};throw a}})}emptyBucket(r){return Zn(this,void 0,void 0,function*(){try{return{data:yield hr(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tt(s))return{data:null,error:s};throw s}})}deleteBucket(r){return Zn(this,void 0,void 0,function*(){try{return{data:yield kh(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(tt(s))return{data:null,error:s};throw s}})}}class jp extends kp{constructor(r,s={},a,o){super(r,s,a,o)}from(r){return new bp(this.url,this.headers,r,this.fetch)}}const Np="2.75.1";let li="";typeof Deno<"u"?li="deno":typeof document<"u"?li="web":typeof navigator<"u"&&navigator.product==="ReactNative"?li="react-native":li="node";const Ep={"X-Client-Info":`supabase-js-${li}/${Np}`},Cp={headers:Ep},Tp={schema:"public"},Pp={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Op={};var Ap=function(l,r,s,a){function o(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function m(v){try{y(a.next(v))}catch(_){h(_)}}function p(v){try{y(a.throw(v))}catch(_){h(_)}}function y(v){v.done?c(v.value):o(v.value).then(m,p)}y((a=a.apply(l,r||[])).next())})};const Dp=l=>{let r;return l?r=l:typeof fetch>"u"?r=mh:r=fetch,(...s)=>r(...s)},Rp=()=>typeof Headers>"u"?ph:Headers,Ip=(l,r,s)=>{const a=Dp(s),o=Rp();return(c,h)=>Ap(void 0,void 0,void 0,function*(){var m;const p=(m=yield r())!==null&&m!==void 0?m:l;let y=new o(h==null?void 0:h.headers);return y.has("apikey")||y.set("apikey",l),y.has("Authorization")||y.set("Authorization",`Bearer ${p}`),a(c,Object.assign(Object.assign({},h),{headers:y}))})};var Lp=function(l,r,s,a){function o(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function m(v){try{y(a.next(v))}catch(_){h(_)}}function p(v){try{y(a.throw(v))}catch(_){h(_)}}function y(v){v.done?c(v.value):o(v.value).then(m,p)}y((a=a.apply(l,r||[])).next())})};function $p(l){return l.endsWith("/")?l:l+"/"}function Mp(l,r){var s,a;const{db:o,auth:c,realtime:h,global:m}=l,{db:p,auth:y,realtime:v,global:_}=r,b={db:Object.assign(Object.assign({},p),o),auth:Object.assign(Object.assign({},y),c),realtime:Object.assign(Object.assign({},v),h),storage:{},global:Object.assign(Object.assign(Object.assign({},_),m),{headers:Object.assign(Object.assign({},(s=_==null?void 0:_.headers)!==null&&s!==void 0?s:{}),(a=m==null?void 0:m.headers)!==null&&a!==void 0?a:{})}),accessToken:()=>Lp(this,void 0,void 0,function*(){return""})};return l.accessToken?b.accessToken=l.accessToken:delete b.accessToken,b}function Up(l){const r=l==null?void 0:l.trim();if(!r)throw new Error("supabaseUrl is required.");if(!r.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL($p(r))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Nh="2.75.1",is=30*1e3,Bl=3,jl=Bl*is,Fp="http://localhost:9999",zp="supabase.auth.token",Bp={"X-Client-Info":`gotrue-js/${Nh}`},Hl="X-Supabase-Api-Version",Eh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Hp=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Wp=600*1e3;class hi extends Error{constructor(r,s,a){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=a}}function he(l){return typeof l=="object"&&l!==null&&"__isAuthError"in l}class Vp extends hi{constructor(r,s,a){super(r,s,a),this.name="AuthApiError",this.status=s,this.code=a}}function qp(l){return he(l)&&l.name==="AuthApiError"}class wn extends hi{constructor(r,s){super(r),this.name="AuthUnknownError",this.originalError=s}}class en extends hi{constructor(r,s,a,o){super(r,a,o),this.name=s,this.status=a}}class Xr extends en{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Kp(l){return he(l)&&l.name==="AuthSessionMissingError"}class es extends en{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Na extends en{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class Ea extends en{constructor(r,s=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Gp(l){return he(l)&&l.name==="AuthImplicitGrantRedirectError"}class Fd extends en{constructor(r,s=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Wl extends en{constructor(r,s){super(r,"AuthRetryableFetchError",s,void 0)}}function Nl(l){return he(l)&&l.name==="AuthRetryableFetchError"}class zd extends en{constructor(r,s,a){super(r,"AuthWeakPasswordError",s,"weak_password"),this.reasons=a}}class Vl extends en{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const Oa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Bd=` 	
\r=`.split(""),Jp=(()=>{const l=new Array(128);for(let r=0;r<l.length;r+=1)l[r]=-1;for(let r=0;r<Bd.length;r+=1)l[Bd[r].charCodeAt(0)]=-2;for(let r=0;r<Oa.length;r+=1)l[Oa[r].charCodeAt(0)]=r;return l})();function Hd(l,r,s){if(l!==null)for(r.queue=r.queue<<8|l,r.queuedBits+=8;r.queuedBits>=6;){const a=r.queue>>r.queuedBits-6&63;s(Oa[a]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const a=r.queue>>r.queuedBits-6&63;s(Oa[a]),r.queuedBits-=6}}function Ch(l,r,s){const a=Jp[l];if(a>-1)for(r.queue=r.queue<<6|a,r.queuedBits+=6;r.queuedBits>=8;)s(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(l)}"`)}}function Wd(l){const r=[],s=h=>{r.push(String.fromCodePoint(h))},a={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},c=h=>{Xp(h,a,s)};for(let h=0;h<l.length;h+=1)Ch(l.charCodeAt(h),o,c);return r.join("")}function Yp(l,r){if(l<=127){r(l);return}else if(l<=2047){r(192|l>>6),r(128|l&63);return}else if(l<=65535){r(224|l>>12),r(128|l>>6&63),r(128|l&63);return}else if(l<=1114111){r(240|l>>18),r(128|l>>12&63),r(128|l>>6&63),r(128|l&63);return}throw new Error(`Unrecognized Unicode codepoint: ${l.toString(16)}`)}function Qp(l,r){for(let s=0;s<l.length;s+=1){let a=l.charCodeAt(s);if(a>55295&&a<=56319){const o=(a-55296)*1024&65535;a=(l.charCodeAt(s+1)-56320&65535|o)+65536,s+=1}Yp(a,r)}}function Xp(l,r,s){if(r.utf8seq===0){if(l<=127){s(l);return}for(let a=1;a<6;a+=1)if((l>>7-a&1)===0){r.utf8seq=a;break}if(r.utf8seq===2)r.codepoint=l&31;else if(r.utf8seq===3)r.codepoint=l&15;else if(r.utf8seq===4)r.codepoint=l&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(l<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|l&63,r.utf8seq-=1,r.utf8seq===0&&s(r.codepoint)}}function os(l){const r=[],s={queue:0,queuedBits:0},a=o=>{r.push(o)};for(let o=0;o<l.length;o+=1)Ch(l.charCodeAt(o),s,a);return new Uint8Array(r)}function Zp(l){const r=[];return Qp(l,s=>r.push(s)),new Uint8Array(r)}function bn(l){const r=[],s={queue:0,queuedBits:0},a=o=>{r.push(o)};return l.forEach(o=>Hd(o,s,a)),Hd(null,s,a),r.join("")}function eg(l){return Math.round(Date.now()/1e3)+l}function tg(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(l){const r=Math.random()*16|0;return(l=="x"?r:r&3|8).toString(16)})}const zt=()=>typeof window<"u"&&typeof document<"u",gn={tested:!1,writable:!1},Th=()=>{if(!zt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(gn.tested)return gn.writable;const l=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(l,l),globalThis.localStorage.removeItem(l),gn.tested=!0,gn.writable=!0}catch{gn.tested=!0,gn.writable=!1}return gn.writable};function rg(l){const r={},s=new URL(l);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((o,c)=>{r[c]=o})}catch{}return s.searchParams.forEach((a,o)=>{r[o]=a}),r}const Ph=l=>{let r;return l?r=l:typeof fetch>"u"?r=(...s)=>mi(async()=>{const{default:a}=await Promise.resolve().then(()=>cs);return{default:a}},void 0).then(({default:a})=>a(...s)):r=fetch,(...s)=>r(...s)},ng=l=>typeof l=="object"&&l!==null&&"status"in l&&"ok"in l&&"json"in l&&typeof l.json=="function",as=async(l,r,s)=>{await l.setItem(r,JSON.stringify(s))},yn=async(l,r)=>{const s=await l.getItem(r);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Qr=async(l,r)=>{await l.removeItem(r)};class Ia{constructor(){this.promise=new Ia.promiseConstructor((r,s)=>{this.resolve=r,this.reject=s})}}Ia.promiseConstructor=Promise;function El(l){const r=l.split(".");if(r.length!==3)throw new Vl("Invalid JWT structure");for(let a=0;a<r.length;a++)if(!Hp.test(r[a]))throw new Vl("JWT not in base64url format");return{header:JSON.parse(Wd(r[0])),payload:JSON.parse(Wd(r[1])),signature:os(r[2]),raw:{header:r[0],payload:r[1]}}}async function sg(l){return await new Promise(r=>{setTimeout(()=>r(null),l)})}function ig(l,r){return new Promise((a,o)=>{(async()=>{for(let c=0;c<1/0;c++)try{const h=await l(c);if(!r(c,null,h)){a(h);return}}catch(h){if(!r(c,h)){o(h);return}}})()})}function ag(l){return("0"+l.toString(16)).substr(-2)}function og(){const r=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=s.length;let o="";for(let c=0;c<56;c++)o+=s.charAt(Math.floor(Math.random()*a));return o}return crypto.getRandomValues(r),Array.from(r,ag).join("")}async function lg(l){const s=new TextEncoder().encode(l),a=await crypto.subtle.digest("SHA-256",s),o=new Uint8Array(a);return Array.from(o).map(c=>String.fromCharCode(c)).join("")}async function cg(l){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),l;const s=await lg(l);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ts(l,r,s=!1){const a=og();let o=a;s&&(o+="/PASSWORD_RECOVERY"),await as(l,`${r}-code-verifier`,o);const c=await cg(a);return[c,a===c?"plain":"s256"]}const ug=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function dg(l){const r=l.headers.get(Hl);if(!r||!r.match(ug))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function hg(l){if(!l)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(l<=r)throw new Error("JWT has expired")}function fg(l){switch(l){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const mg=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function rs(l){if(!mg.test(l))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Cl(){const l={};return new Proxy(l,{get:(r,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const a=s.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Vd(l){return JSON.parse(JSON.stringify(l))}var pg=function(l,r){var s={};for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&r.indexOf(a)<0&&(s[a]=l[a]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(l);o<a.length;o++)r.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(l,a[o])&&(s[a[o]]=l[a[o]]);return s};const vn=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),gg=[502,503,504];async function qd(l){var r;if(!ng(l))throw new Wl(vn(l),0);if(gg.includes(l.status))throw new Wl(vn(l),l.status);let s;try{s=await l.json()}catch(c){throw new wn(vn(c),c)}let a;const o=dg(l);if(o&&o.getTime()>=Eh["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?a=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(a=s.error_code),a){if(a==="weak_password")throw new zd(vn(s),l.status,((r=s.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(a==="session_not_found")throw new Xr}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((c,h)=>c&&typeof h=="string",!0))throw new zd(vn(s),l.status,s.weak_password.reasons);throw new Vp(vn(s),l.status||500,a)}const yg=(l,r,s,a)=>{const o={method:l,headers:(r==null?void 0:r.headers)||{}};return l==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r==null?void 0:r.headers),o.body=JSON.stringify(a),Object.assign(Object.assign({},o),s))};async function pe(l,r,s,a){var o;const c=Object.assign({},a==null?void 0:a.headers);c[Hl]||(c[Hl]=Eh["2024-01-01"].name),a!=null&&a.jwt&&(c.Authorization=`Bearer ${a.jwt}`);const h=(o=a==null?void 0:a.query)!==null&&o!==void 0?o:{};a!=null&&a.redirectTo&&(h.redirect_to=a.redirectTo);const m=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",p=await vg(l,r,s+m,{headers:c,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(p):{data:Object.assign({},p),error:null}}async function vg(l,r,s,a,o,c){const h=yg(r,a,o,c);let m;try{m=await l(s,Object.assign({},h))}catch(p){throw console.error(p),new Wl(vn(p),0)}if(m.ok||await qd(m),a!=null&&a.noResolveJson)return m;try{return await m.json()}catch(p){await qd(p)}}function sr(l){var r;let s=null;bg(l)&&(s=Object.assign({},l),l.expires_at||(s.expires_at=eg(l.expires_in)));const a=(r=l.user)!==null&&r!==void 0?r:l;return{data:{session:s,user:a},error:null}}function Kd(l){const r=sr(l);return!r.error&&l.weak_password&&typeof l.weak_password=="object"&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.message&&typeof l.weak_password.message=="string"&&l.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0)&&(r.data.weak_password=l.weak_password),r}function Zr(l){var r;return{data:{user:(r=l.user)!==null&&r!==void 0?r:l},error:null}}function xg(l){return{data:l,error:null}}function wg(l){const{action_link:r,email_otp:s,hashed_token:a,redirect_to:o,verification_type:c}=l,h=pg(l,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:r,email_otp:s,hashed_token:a,redirect_to:o,verification_type:c},p=Object.assign({},h);return{data:{properties:m,user:p},error:null}}function Gd(l){return l}function bg(l){return l.access_token&&l.refresh_token&&l.expires_in}const Tl=["global","local","others"];var _g=function(l,r){var s={};for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&r.indexOf(a)<0&&(s[a]=l[a]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(l);o<a.length;o++)r.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(l,a[o])&&(s[a[o]]=l[a[o]]);return s};class Sg{constructor({url:r="",headers:s={},fetch:a}){this.url=r,this.headers=s,this.fetch=Ph(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(r,s=Tl[0]){if(Tl.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Tl.join(", ")}`);try{return await pe(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(a){if(he(a))return{data:null,error:a};throw a}}async inviteUserByEmail(r,s={}){try{return await pe(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Zr})}catch(a){if(he(a))return{data:{user:null},error:a};throw a}}async generateLink(r){try{const{options:s}=r,a=_g(r,["options"]),o=Object.assign(Object.assign({},a),s);return"newEmail"in a&&(o.new_email=a==null?void 0:a.newEmail,delete o.newEmail),await pe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:wg,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(he(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(r){try{return await pe(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:Zr})}catch(s){if(he(s))return{data:{user:null},error:s};throw s}}async listUsers(r){var s,a,o,c,h,m,p;try{const y={nextPage:null,lastPage:0,total:0},v=await pe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(s=r==null?void 0:r.page)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:"",per_page:(c=(o=r==null?void 0:r.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:Gd});if(v.error)throw v.error;const _=await v.json(),b=(h=v.headers.get("x-total-count"))!==null&&h!==void 0?h:0,R=(p=(m=v.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&p!==void 0?p:[];return R.length>0&&(R.forEach(A=>{const k=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),P=JSON.parse(A.split(";")[1].split("=")[1]);y[`${P}Page`]=k}),y.total=parseInt(b)),{data:Object.assign(Object.assign({},_),y),error:null}}catch(y){if(he(y))return{data:{users:[]},error:y};throw y}}async getUserById(r){rs(r);try{return await pe(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:Zr})}catch(s){if(he(s))return{data:{user:null},error:s};throw s}}async updateUserById(r,s){rs(r);try{return await pe(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:s,headers:this.headers,xform:Zr})}catch(a){if(he(a))return{data:{user:null},error:a};throw a}}async deleteUser(r,s=!1){rs(r);try{return await pe(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:s},xform:Zr})}catch(a){if(he(a))return{data:{user:null},error:a};throw a}}async _listFactors(r){rs(r.userId);try{const{data:s,error:a}=await pe(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:s,error:a}}catch(s){if(he(s))return{data:null,error:s};throw s}}async _deleteFactor(r){rs(r.userId),rs(r.id);try{return{data:await pe(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}}async _listOAuthClients(r){var s,a,o,c,h,m,p;try{const y={nextPage:null,lastPage:0,total:0},v=await pe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(s=r==null?void 0:r.page)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:"",per_page:(c=(o=r==null?void 0:r.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:Gd});if(v.error)throw v.error;const _=await v.json(),b=(h=v.headers.get("x-total-count"))!==null&&h!==void 0?h:0,R=(p=(m=v.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&p!==void 0?p:[];return R.length>0&&(R.forEach(A=>{const k=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),P=JSON.parse(A.split(";")[1].split("=")[1]);y[`${P}Page`]=k}),y.total=parseInt(b)),{data:Object.assign(Object.assign({},_),y),error:null}}catch(y){if(he(y))return{data:{clients:[]},error:y};throw y}}async _createOAuthClient(r){try{return await pe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:r,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(he(s))return{data:null,error:s};throw s}}async _getOAuthClient(r){try{return await pe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(he(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(r){try{return await pe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(he(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(r){try{return await pe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${r}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(he(s))return{data:null,error:s};throw s}}}function Jd(l={}){return{getItem:r=>l[r]||null,setItem:(r,s)=>{l[r]=s},removeItem:r=>{delete l[r]}}}const ns={debug:!!(globalThis&&Th()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Oh extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class kg extends Oh{}async function jg(l,r,s){ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",l,r);const a=new globalThis.AbortController;return r>0&&setTimeout(()=>{a.abort(),ns.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",l)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(l,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async o=>{if(o){ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",l,o.name);try{return await s()}finally{ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",l,o.name)}}else{if(r===0)throw ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",l),new kg(`Acquiring an exclusive Navigator LockManager lock "${l}" immediately failed`);if(ns.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function Ng(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Ah(l){if(!/^0x[a-fA-F0-9]{40}$/.test(l))throw new Error(`@supabase/auth-js: Address "${l}" is invalid.`);return l.toLowerCase()}function Eg(l){return parseInt(l,16)}function Cg(l){const r=new TextEncoder().encode(l);return"0x"+Array.from(r,a=>a.toString(16).padStart(2,"0")).join("")}function Tg(l){var r;const{chainId:s,domain:a,expirationTime:o,issuedAt:c=new Date,nonce:h,notBefore:m,requestId:p,resources:y,scheme:v,uri:_,version:b}=l;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((r=l.statement)===null||r===void 0)&&r.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${l.statement}`)}const R=Ah(l.address),A=v?`${v}://${a}`:a,k=l.statement?`${l.statement}
`:"",P=`${A} wants you to sign in with your Ethereum account:
${R}

${k}`;let T=`URI: ${_}
Version: ${b}
Chain ID: ${s}${h?`
Nonce: ${h}`:""}
Issued At: ${c.toISOString()}`;if(o&&(T+=`
Expiration Time: ${o.toISOString()}`),m&&(T+=`
Not Before: ${m.toISOString()}`),p&&(T+=`
Request ID: ${p}`),y){let L=`
Resources:`;for(const D of y){if(!D||typeof D!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${D}`);L+=`
- ${D}`}T+=L}return`${P}
${T}`}class et extends Error{constructor({message:r,code:s,cause:a,name:o}){var c;super(r,{cause:a}),this.__isWebAuthnError=!0,this.name=(c=o??(a instanceof Error?a.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=s}}class Aa extends et{constructor(r,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:r}),this.name="WebAuthnUnknownError",this.originalError=s}}function Pg({error:l,options:r}){var s,a,o;const{publicKey:c}=r;if(!c)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(r.signal instanceof AbortSignal)return new et({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else if(l.name==="ConstraintError"){if(((s=c.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new et({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:l});if(r.mediation==="conditional"&&((a=c.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new et({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:l});if(((o=c.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new et({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:l})}else{if(l.name==="InvalidStateError")return new et({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:l});if(l.name==="NotAllowedError")return new et({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="NotSupportedError")return c.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new et({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:l}):new et({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:l});if(l.name==="SecurityError"){const h=window.location.hostname;if(Rh(h)){if(c.rp.id!==h)return new et({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new et({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new et({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:l})}else if(l.name==="UnknownError")return new et({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new et({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}function Og({error:l,options:r}){const{publicKey:s}=r;if(!s)throw Error("options was missing required publicKey property");if(l.name==="AbortError"){if(r.signal instanceof AbortSignal)return new et({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:l})}else{if(l.name==="NotAllowedError")return new et({message:l.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l});if(l.name==="SecurityError"){const a=window.location.hostname;if(Rh(a)){if(s.rpId!==a)return new et({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:l})}else return new et({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:l})}else if(l.name==="UnknownError")return new et({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:l})}return new et({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:l})}var Dh=function(l,r){var s={};for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&r.indexOf(a)<0&&(s[a]=l[a]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(l);o<a.length;o++)r.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(l,a[o])&&(s[a[o]]=l[a[o]]);return s};class Ag{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const r=new AbortController;return this.controller=r,r.signal}cancelCeremony(){if(this.controller){const r=new Error("Manually cancelling existing WebAuthn API call");r.name="AbortError",this.controller.abort(r),this.controller=void 0}}}const Dg=new Ag;function Rg(l){if(!l)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(l);const{challenge:r,user:s,excludeCredentials:a}=l,o=Dh(l,["challenge","user","excludeCredentials"]),c=os(r).buffer,h=Object.assign(Object.assign({},s),{id:os(s.id).buffer}),m=Object.assign(Object.assign({},o),{challenge:c,user:h});if(a&&a.length>0){m.excludeCredentials=new Array(a.length);for(let p=0;p<a.length;p++){const y=a[p];m.excludeCredentials[p]=Object.assign(Object.assign({},y),{id:os(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return m}function Ig(l){if(!l)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(l);const{challenge:r,allowCredentials:s}=l,a=Dh(l,["challenge","allowCredentials"]),o=os(r).buffer,c=Object.assign(Object.assign({},a),{challenge:o});if(s&&s.length>0){c.allowCredentials=new Array(s.length);for(let h=0;h<s.length;h++){const m=s[h];c.allowCredentials[h]=Object.assign(Object.assign({},m),{id:os(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return c}function Lg(l){var r;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const s=l;return{id:l.id,rawId:l.id,response:{attestationObject:bn(new Uint8Array(l.response.attestationObject)),clientDataJSON:bn(new Uint8Array(l.response.clientDataJSON))},type:"public-key",clientExtensionResults:l.getClientExtensionResults(),authenticatorAttachment:(r=s.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function $g(l){var r;if("toJSON"in l&&typeof l.toJSON=="function")return l.toJSON();const s=l,a=l.getClientExtensionResults(),o=l.response;return{id:l.id,rawId:l.id,response:{authenticatorData:bn(new Uint8Array(o.authenticatorData)),clientDataJSON:bn(new Uint8Array(o.clientDataJSON)),signature:bn(new Uint8Array(o.signature)),userHandle:o.userHandle?bn(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(r=s.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function Rh(l){return l==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(l)}function Yd(){var l,r;return!!(zt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((l=navigator==null?void 0:navigator.credentials)===null||l===void 0?void 0:l.create)=="function"&&typeof((r=navigator==null?void 0:navigator.credentials)===null||r===void 0?void 0:r.get)=="function")}async function Mg(l){try{const r=await navigator.credentials.create(l);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new Aa("Browser returned unexpected credential type",r)}:{data:null,error:new Aa("Empty credential response",r)}}catch(r){return{data:null,error:Pg({error:r,options:l})}}}async function Ug(l){try{const r=await navigator.credentials.get(l);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new Aa("Browser returned unexpected credential type",r)}:{data:null,error:new Aa("Empty credential response",r)}}catch(r){return{data:null,error:Og({error:r,options:l})}}}const Fg={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},zg={userVerification:"preferred",hints:["security-key"]};function Da(...l){const r=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),s=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),a={};for(const o of l)if(o)for(const c in o){const h=o[c];if(h!==void 0)if(Array.isArray(h))a[c]=h;else if(s(h))a[c]=h;else if(r(h)){const m=a[c];r(m)?a[c]=Da(m,h):a[c]=Da(h)}else a[c]=h}return a}function Bg(l,r){return Da(Fg,l,r||{})}function Hg(l,r){return Da(zg,l,r||{})}class Wg{constructor(r){this.client=r,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(r){return this.client.mfa.enroll(Object.assign(Object.assign({},r),{factorType:"webauthn"}))}async _challenge({factorId:r,webauthn:s,friendlyName:a,signal:o},c){try{const{data:h,error:m}=await this.client.mfa.challenge({factorId:r,webauthn:s});if(!h)return{data:null,error:m};const p=o??Dg.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:y}=h.webauthn.credential_options.publicKey;y.name||(y.name=`${y.id}:${a}`),y.displayName||(y.displayName=y.name)}switch(h.webauthn.type){case"create":{const y=Bg(h.webauthn.credential_options.publicKey,c==null?void 0:c.create),{data:v,error:_}=await Mg({publicKey:y,signal:p});return v?{data:{factorId:r,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:v}},error:null}:{data:null,error:_}}case"request":{const y=Hg(h.webauthn.credential_options.publicKey,c==null?void 0:c.request),{data:v,error:_}=await Ug(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:y,signal:p}));return v?{data:{factorId:r,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:v}},error:null}:{data:null,error:_}}}}catch(h){return he(h)?{data:null,error:h}:{data:null,error:new wn("Unexpected error in challenge",h)}}}async _verify({challengeId:r,factorId:s,webauthn:a}){return this.client.mfa.verify({factorId:s,challengeId:r,webauthn:a})}async _authenticate({factorId:r,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:o}},c){if(!s)return{data:null,error:new hi("rpId is required for WebAuthn authentication")};try{if(!Yd())return{data:null,error:new wn("Browser does not support WebAuthn",null)};const{data:h,error:m}=await this.challenge({factorId:r,webauthn:{rpId:s,rpOrigins:a},signal:o},{request:c});if(!h)return{data:null,error:m};const{webauthn:p}=h;return this._verify({factorId:r,challengeId:h.challengeId,webauthn:{type:p.type,rpId:s,rpOrigins:a,credential_response:p.credential_response}})}catch(h){return he(h)?{data:null,error:h}:{data:null,error:new wn("Unexpected error in authenticate",h)}}}async _register({friendlyName:r,rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:o},c){if(!s)return{data:null,error:new hi("rpId is required for WebAuthn registration")};try{if(!Yd())return{data:null,error:new wn("Browser does not support WebAuthn",null)};const{data:h,error:m}=await this._enroll({friendlyName:r});if(!h)return await this.client.mfa.listFactors().then(v=>{var _;return(_=v.data)===null||_===void 0?void 0:_.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===r&&b.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v==null?void 0:v.id}):void 0),{data:null,error:m};const{data:p,error:y}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:s,rpOrigins:a},signal:o},{create:c});return p?this._verify({factorId:h.id,challengeId:p.challengeId,webauthn:{rpId:s,rpOrigins:a,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:y}}catch(h){return he(h)?{data:null,error:h}:{data:null,error:new wn("Unexpected error in register",h)}}}}Ng();const Vg={url:Fp,storageKey:zp,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Bp,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Qd(l,r,s){return await s()}const ss={};class fi{get jwks(){var r,s;return(s=(r=ss[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(r){ss[this.storageKey]=Object.assign(Object.assign({},ss[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,s;return(s=(r=ss[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){ss[this.storageKey]=Object.assign(Object.assign({},ss[this.storageKey]),{cachedAt:r})}constructor(r){var s,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=fi.nextInstanceID,fi.nextInstanceID+=1,this.instanceID>0&&zt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},Vg),r);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new Sg({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Ph(o.fetch),this.lock=o.lock||Qd,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:zt()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=jg:this.lock=Qd,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Wg(this)},this.persistSession?(o.storage?this.storage=o.storage:Th()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Jd(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Jd(this.memoryStorage)),zt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}_debug(...r){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Nh}) ${new Date().toISOString()}`,...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{const s=rg(window.location.href);let a="none";if(this._isImplicitGrantCallback(s)?a="implicit":await this._isPKCECallback(s)&&(a="pkce"),zt()&&this.detectSessionInUrl&&a!=="none"){const{data:o,error:c}=await this._getSessionFromURL(s,a);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),Gp(c)){const p=(r=c.details)===null||r===void 0?void 0:r.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:h,redirectType:m}=o;return this._debug("#_initialize()","detected session in URL",h,"redirect type",m),await this._saveSession(h),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return he(s)?{error:s}:{error:new wn("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var s,a,o;try{const c=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(s=r==null?void 0:r.options)===null||s===void 0?void 0:s.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(o=r==null?void 0:r.options)===null||o===void 0?void 0:o.captchaToken}},xform:sr}),{data:h,error:m}=c;if(m||!h)return{data:{user:null,session:null},error:m};const p=h.session,y=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:y,session:p},error:null}}catch(c){if(he(c))return{data:{user:null,session:null},error:c};throw c}}async signUp(r){var s,a,o;try{let c;if("email"in r){const{email:v,password:_,options:b}=r;let R=null,A=null;this.flowType==="pkce"&&([R,A]=await ts(this.storage,this.storageKey)),c=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b==null?void 0:b.emailRedirectTo,body:{email:v,password:_,data:(s=b==null?void 0:b.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken},code_challenge:R,code_challenge_method:A},xform:sr})}else if("phone"in r){const{phone:v,password:_,options:b}=r;c=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:_,data:(a=b==null?void 0:b.data)!==null&&a!==void 0?a:{},channel:(o=b==null?void 0:b.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:sr})}else throw new Na("You must provide either an email or phone number and a password");const{data:h,error:m}=c;if(m||!h)return{data:{user:null,session:null},error:m};const p=h.session,y=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:y,session:p},error:null}}catch(c){if(he(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithPassword(r){try{let s;if("email"in r){const{email:c,password:h,options:m}=r;s=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:h,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Kd})}else if("phone"in r){const{phone:c,password:h,options:m}=r;s=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:h,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Kd})}else throw new Na("You must provide either an email or phone number and a password");const{data:a,error:o}=s;return o?{data:{user:null,session:null},error:o}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new es}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:o})}catch(s){if(he(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(r){var s,a,o,c;return await this._handleProviderSignIn(r.provider,{redirectTo:(s=r.options)===null||s===void 0?void 0:s.redirectTo,scopes:(a=r.options)===null||a===void 0?void 0:a.scopes,queryParams:(o=r.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(c=r.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:s}=r;switch(s){case"ethereum":return await this.signInWithEthereum(r);case"solana":return await this.signInWithSolana(r);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(r){var s,a,o,c,h,m,p,y,v,_,b;let R,A;if("message"in r)R=r.message,A=r.signature;else{const{chain:k,wallet:P,statement:T,options:L}=r;let D;if(zt())if(typeof P=="object")D=P;else{const _e=window;if("ethereum"in _e&&typeof _e.ethereum=="object"&&"request"in _e.ethereum&&typeof _e.ethereum.request=="function")D=_e.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof P!="object"||!(L!=null&&L.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=P}const U=new URL((s=L==null?void 0:L.url)!==null&&s!==void 0?s:window.location.href),q=await D.request({method:"eth_requestAccounts"}).then(_e=>_e).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!q||q.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const K=Ah(q[0]);let ne=(a=L==null?void 0:L.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!ne){const _e=await D.request({method:"eth_chainId"});ne=Eg(_e)}const be={domain:U.host,address:K,statement:T,uri:U.href,version:"1",chainId:ne,nonce:(o=L==null?void 0:L.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(h=(c=L==null?void 0:L.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(m=L==null?void 0:L.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(p=L==null?void 0:L.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(y=L==null?void 0:L.signInWithEthereum)===null||y===void 0?void 0:y.requestId,resources:(v=L==null?void 0:L.signInWithEthereum)===null||v===void 0?void 0:v.resources};R=Tg(be),A=await D.request({method:"personal_sign",params:[Cg(R),K]})}try{const{data:k,error:P}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:R,signature:A},!((_=r.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(b=r.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:sr});if(P)throw P;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new es}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:P})}catch(k){if(he(k))return{data:{user:null,session:null},error:k};throw k}}async signInWithSolana(r){var s,a,o,c,h,m,p,y,v,_,b,R;let A,k;if("message"in r)A=r.message,k=r.signature;else{const{chain:P,wallet:T,statement:L,options:D}=r;let U;if(zt())if(typeof T=="object")U=T;else{const K=window;if("solana"in K&&typeof K.solana=="object"&&("signIn"in K.solana&&typeof K.solana.signIn=="function"||"signMessage"in K.solana&&typeof K.solana.signMessage=="function"))U=K.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!(D!=null&&D.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=T}const q=new URL((s=D==null?void 0:D.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in U&&U.signIn){const K=await U.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},D==null?void 0:D.signInWithSolana),{version:"1",domain:q.host,uri:q.href}),L?{statement:L}:null));let ne;if(Array.isArray(K)&&K[0]&&typeof K[0]=="object")ne=K[0];else if(K&&typeof K=="object"&&"signedMessage"in K&&"signature"in K)ne=K;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ne&&"signature"in ne&&(typeof ne.signedMessage=="string"||ne.signedMessage instanceof Uint8Array)&&ne.signature instanceof Uint8Array)A=typeof ne.signedMessage=="string"?ne.signedMessage:new TextDecoder().decode(ne.signedMessage),k=ne.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in U)||typeof U.signMessage!="function"||!("publicKey"in U)||typeof U!="object"||!U.publicKey||!("toBase58"in U.publicKey)||typeof U.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");A=[`${q.host} wants you to sign in with your Solana account:`,U.publicKey.toBase58(),...L?["",L,""]:[""],"Version: 1",`URI: ${q.href}`,`Issued At: ${(o=(a=D==null?void 0:D.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((c=D==null?void 0:D.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${D.signInWithSolana.notBefore}`]:[],...!((h=D==null?void 0:D.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${D.signInWithSolana.expirationTime}`]:[],...!((m=D==null?void 0:D.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${D.signInWithSolana.chainId}`]:[],...!((p=D==null?void 0:D.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${D.signInWithSolana.nonce}`]:[],...!((y=D==null?void 0:D.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${D.signInWithSolana.requestId}`]:[],...!((_=(v=D==null?void 0:D.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||_===void 0)&&_.length?["Resources",...D.signInWithSolana.resources.map(ne=>`- ${ne}`)]:[]].join(`
`);const K=await U.signMessage(new TextEncoder().encode(A),"utf8");if(!K||!(K instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=K}}try{const{data:P,error:T}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:A,signature:bn(k)},!((b=r.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(R=r.options)===null||R===void 0?void 0:R.captchaToken}}:null),xform:sr});if(T)throw T;return!P||!P.session||!P.user?{data:{user:null,session:null},error:new es}:(P.session&&(await this._saveSession(P.session),await this._notifyAllSubscribers("SIGNED_IN",P.session)),{data:Object.assign({},P),error:T})}catch(P){if(he(P))return{data:{user:null,session:null},error:P};throw P}}async _exchangeCodeForSession(r){const s=await yn(this.storage,`${this.storageKey}-code-verifier`),[a,o]=(s??"").split("/");try{const{data:c,error:h}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:a},xform:sr});if(await Qr(this.storage,`${this.storageKey}-code-verifier`),h)throw h;return!c||!c.session||!c.user?{data:{user:null,session:null,redirectType:null},error:new es}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:Object.assign(Object.assign({},c),{redirectType:o??null}),error:h})}catch(c){if(he(c))return{data:{user:null,session:null,redirectType:null},error:c};throw c}}async signInWithIdToken(r){try{const{options:s,provider:a,token:o,access_token:c,nonce:h}=r,m=await pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:o,access_token:c,nonce:h,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:sr}),{data:p,error:y}=m;return y?{data:{user:null,session:null},error:y}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new es}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:y})}catch(s){if(he(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(r){var s,a,o,c,h;try{if("email"in r){const{email:m,options:p}=r;let y=null,v=null;this.flowType==="pkce"&&([y,v]=await ts(this.storage,this.storageKey));const{error:_}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(s=p==null?void 0:p.data)!==null&&s!==void 0?s:{},create_user:(a=p==null?void 0:p.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:y,code_challenge_method:v},redirectTo:p==null?void 0:p.emailRedirectTo});return{data:{user:null,session:null},error:_}}if("phone"in r){const{phone:m,options:p}=r,{data:y,error:v}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(o=p==null?void 0:p.data)!==null&&o!==void 0?o:{},create_user:(c=p==null?void 0:p.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(h=p==null?void 0:p.channel)!==null&&h!==void 0?h:"sms"}});return{data:{user:null,session:null,messageId:y==null?void 0:y.message_id},error:v}}throw new Na("You must provide either an email or phone number.")}catch(m){if(he(m))return{data:{user:null,session:null},error:m};throw m}}async verifyOtp(r){var s,a;try{let o,c;"options"in r&&(o=(s=r.options)===null||s===void 0?void 0:s.redirectTo,c=(a=r.options)===null||a===void 0?void 0:a.captchaToken);const{data:h,error:m}=await pe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:c}}),redirectTo:o,xform:sr});if(m)throw m;if(!h)throw new Error("An error occurred on token verification.");const p=h.session,y=h.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:y,session:p},error:null}}catch(o){if(he(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(r){var s,a,o;try{let c=null,h=null;return this.flowType==="pkce"&&([c,h]=await ts(this.storage,this.storageKey)),await pe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(a=(s=r.options)===null||s===void 0?void 0:s.redirectTo)!==null&&a!==void 0?a:void 0}),!((o=r==null?void 0:r.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:h}),headers:this.headers,xform:xg})}catch(c){if(he(c))return{data:null,error:c};throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:s},error:a}=r;if(a)throw a;if(!s)throw new Xr;const{error:o}=await pe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:o}})}catch(r){if(he(r))return{data:{user:null,session:null},error:r};throw r}}async resend(r){try{const s=`${this.url}/resend`;if("email"in r){const{email:a,type:o,options:c}=r,{error:h}=await pe(this.fetch,"POST",s,{headers:this.headers,body:{email:a,type:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}else if("phone"in r){const{phone:a,type:o,options:c}=r,{data:h,error:m}=await pe(this.fetch,"POST",s,{headers:this.headers,body:{phone:a,type:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:m}}throw new Na("You must provide either an email or phone number and a type")}catch(s){if(he(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(r,s){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await a,await s()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=s();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await r(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const s=await yn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?r=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const a=r.expires_at?r.expires_at*1e3-Date.now()<jl:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",r.expires_at),!a){if(this.userStorage){const h=await yn(this.userStorage,this.storageKey+"-user");h!=null&&h.user?r.user=h.user:r.user=Cl()}if(this.storage.isServer&&r.user){let h=this.suppressGetSessionWarning;r=new Proxy(r,{get:(p,y,v)=>(!h&&y==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),h=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,y,v))})}return{data:{session:r},error:null}}const{data:o,error:c}=await this._callRefreshToken(r.refresh_token);return c?{data:{session:null},error:c}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(r){return r?await this._getUser(r):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(r){try{return r?await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:Zr}):await this._useSession(async s=>{var a,o,c;const{data:h,error:m}=s;if(m)throw m;return!(!((a=h.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Xr}:await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(o=h.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0,xform:Zr})})}catch(s){if(he(s))return Kp(s)&&(await this._removeSession(),await Qr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(r,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,s))}async _updateUser(r,s={}){try{return await this._useSession(async a=>{const{data:o,error:c}=a;if(c)throw c;if(!o.session)throw new Xr;const h=o.session;let m=null,p=null;this.flowType==="pkce"&&r.email!=null&&([m,p]=await ts(this.storage,this.storageKey));const{data:y,error:v}=await pe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:m,code_challenge_method:p}),jwt:h.access_token,xform:Zr});if(v)throw v;return h.user=y.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),{data:{user:h.user},error:null}})}catch(a){if(he(a))return{data:{user:null},error:a};throw a}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new Xr;const s=Date.now()/1e3;let a=s,o=!0,c=null;const{payload:h}=El(r.access_token);if(h.exp&&(a=h.exp,o=a<=s),o){const{data:m,error:p}=await this._callRefreshToken(r.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!m)return{data:{user:null,session:null},error:null};c=m}else{const{data:m,error:p}=await this._getUser(r.access_token);if(p)throw p;c={access_token:r.access_token,refresh_token:r.refresh_token,user:m.user,token_type:"bearer",expires_in:a-s,expires_at:a},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return{data:{user:c.user,session:c},error:null}}catch(s){if(he(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async s=>{var a;if(!r){const{data:h,error:m}=s;if(m)throw m;r=(a=h.session)!==null&&a!==void 0?a:void 0}if(!(r!=null&&r.refresh_token))throw new Xr;const{data:o,error:c}=await this._callRefreshToken(r.refresh_token);return c?{data:{user:null,session:null},error:c}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(he(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(r,s){try{if(!zt())throw new Ea("No browser detected.");if(r.error||r.error_description||r.error_code)throw new Ea(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Fd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ea("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new Fd("No code detected.");const{data:L,error:D}=await this._exchangeCodeForSession(r.code);if(D)throw D;const U=new URL(window.location.href);return U.searchParams.delete("code"),window.history.replaceState(window.history.state,"",U.toString()),{data:{session:L.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:o,access_token:c,refresh_token:h,expires_in:m,expires_at:p,token_type:y}=r;if(!c||!m||!h||!y)throw new Ea("No session defined in URL");const v=Math.round(Date.now()/1e3),_=parseInt(m);let b=v+_;p&&(b=parseInt(p));const R=b-v;R*1e3<=is&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${R}s, should have been closer to ${_}s`);const A=b-_;v-A>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",A,b,v):v-A<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",A,b,v);const{data:k,error:P}=await this._getUser(c);if(P)throw P;const T={provider_token:a,provider_refresh_token:o,access_token:c,expires_in:_,expires_at:b,refresh_token:h,token_type:y,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:T,redirectType:r.type},error:null}}catch(a){if(he(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const s=await yn(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&s)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async s=>{var a;const{data:o,error:c}=s;if(c)return{error:c};const h=(a=o.session)===null||a===void 0?void 0:a.access_token;if(h){const{error:m}=await this.admin.signOut(h,r);if(m&&!(qp(m)&&(m.status===404||m.status===401||m.status===403)))return{error:m}}return r!=="others"&&(await this._removeSession(),await Qr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(r){const s=tg(),a={id:s,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:a}}}async _emitInitialSession(r){return await this._useSession(async s=>{var a,o;try{const{data:{session:c},error:h}=s;if(h)throw h;await((a=this.stateChangeEmitters.get(r))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",r,"session",c)}catch(c){await((o=this.stateChangeEmitters.get(r))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",c),console.error(c)}})}async resetPasswordForEmail(r,s={}){let a=null,o=null;this.flowType==="pkce"&&([a,o]=await ts(this.storage,this.storageKey,!0));try{return await pe(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:a,code_challenge_method:o,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(c){if(he(c))return{data:null,error:c};throw c}}async getUserIdentities(){var r;try{const{data:s,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(r=s.user.identities)!==null&&r!==void 0?r:[]},error:null}}catch(s){if(he(s))return{data:null,error:s};throw s}}async linkIdentity(r){return"token"in r?this.linkIdentityIdToken(r):this.linkIdentityOAuth(r)}async linkIdentityOAuth(r){var s;try{const{data:a,error:o}=await this._useSession(async c=>{var h,m,p,y,v;const{data:_,error:b}=c;if(b)throw b;const R=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(h=r.options)===null||h===void 0?void 0:h.redirectTo,scopes:(m=r.options)===null||m===void 0?void 0:m.scopes,queryParams:(p=r.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await pe(this.fetch,"GET",R,{headers:this.headers,jwt:(v=(y=_.session)===null||y===void 0?void 0:y.access_token)!==null&&v!==void 0?v:void 0})});if(o)throw o;return zt()&&!(!((s=r.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),{data:{provider:r.provider,url:a==null?void 0:a.url},error:null}}catch(a){if(he(a))return{data:{provider:r.provider,url:null},error:a};throw a}}async linkIdentityIdToken(r){return await this._useSession(async s=>{var a;try{const{error:o,data:{session:c}}=s;if(o)throw o;const{options:h,provider:m,token:p,access_token:y,nonce:v}=r,_=await pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=c==null?void 0:c.access_token)!==null&&a!==void 0?a:void 0,body:{provider:m,id_token:p,access_token:y,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:sr}),{data:b,error:R}=_;return R?{data:{user:null,session:null},error:R}:!b||!b.session||!b.user?{data:{user:null,session:null},error:new es}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),{data:b,error:R})}catch(o){if(he(o))return{data:{user:null,session:null},error:o};throw o}})}async unlinkIdentity(r){try{return await this._useSession(async s=>{var a,o;const{data:c,error:h}=s;if(h)throw h;return await pe(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(o=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0})})}catch(s){if(he(s))return{data:null,error:s};throw s}}async _refreshAccessToken(r){const s=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(s,"begin");try{const a=Date.now();return await ig(async o=>(o>0&&await sg(200*Math.pow(2,o-1)),this._debug(s,"refreshing attempt",o),await pe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:sr})),(o,c)=>{const h=200*Math.pow(2,o);return c&&Nl(c)&&Date.now()+h-a<is})}catch(a){if(this._debug(s,"error",a),he(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(s,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,s){const a=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",s,"url",a),zt()&&!s.skipBrowserRedirect&&window.location.assign(a),{data:{provider:r,url:a},error:null}}async _recoverAndRefresh(){var r,s;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const o=await yn(this.storage,this.storageKey);if(o&&this.userStorage){let h=await yn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:o.user},await as(this.userStorage,this.storageKey+"-user",h)),o.user=(r=h==null?void 0:h.user)!==null&&r!==void 0?r:Cl()}else if(o&&!o.user&&!o.user){const h=await yn(this.storage,this.storageKey+"-user");h&&(h!=null&&h.user)?(o.user=h.user,await Qr(this.storage,this.storageKey+"-user"),await as(this.storage,this.storageKey,o)):o.user=Cl()}if(this._debug(a,"session from storage",o),!this._isValidSession(o)){this._debug(a,"session is not valid"),o!==null&&await this._removeSession();return}const c=((s=o.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<jl;if(this._debug(a,`session has${c?"":" not"} expired with margin of ${jl}s`),c){if(this.autoRefreshToken&&o.refresh_token){const{error:h}=await this._callRefreshToken(o.refresh_token);h&&(console.error(h),Nl(h)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:m}=await this._getUser(o.access_token);!m&&(h!=null&&h.user)?(o.user=h.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(a,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(a,"error",o),console.error(o);return}finally{this._debug(a,"end")}}async _callRefreshToken(r){var s,a;if(!r)throw new Xr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Ia;const{data:c,error:h}=await this._refreshAccessToken(r);if(h)throw h;if(!c.session)throw new Xr;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const m={data:c.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(c){if(this._debug(o,"error",c),he(c)){const h={data:null,error:c};return Nl(c)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(h),h}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(c),c}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(r,s,a=!0){const o=`#_notifyAllSubscribers(${r})`;this._debug(o,"begin",s,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:r,session:s});const c=[],h=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(r,s)}catch(p){c.push(p)}});if(await Promise.all(h),c.length>0){for(let m=0;m<c.length;m+=1)console.error(c[m]);throw c[0]}}finally{this._debug(o,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0;const s=Object.assign({},r),a=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&s.user&&await as(this.userStorage,this.storageKey+"-user",{user:s.user});const o=Object.assign({},s);delete o.user;const c=Vd(o);await as(this.storage,this.storageKey,c)}else{const o=Vd(s);await as(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await Qr(this.storage,this.storageKey),await Qr(this.storage,this.storageKey+"-code-verifier"),await Qr(this.storage,this.storageKey+"-user"),this.userStorage&&await Qr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&zt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",r)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),is);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async s=>{const{data:{session:a}}=s;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((a.expires_at*1e3-r)/is);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${is}ms, refresh threshold is ${Bl} ticks`),o<=Bl&&await this._callRefreshToken(a.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof Oh)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!zt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const s=`#_onVisibilityChanged(${r})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,s,a){const o=[`provider=${encodeURIComponent(s)}`];if(a!=null&&a.redirectTo&&o.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&o.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[c,h]=await ts(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(h)}`});o.push(m.toString())}if(a!=null&&a.queryParams){const c=new URLSearchParams(a.queryParams);o.push(c.toString())}return a!=null&&a.skipBrowserRedirect&&o.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${r}?${o.join("&")}`}async _unenroll(r){try{return await this._useSession(async s=>{var a;const{data:o,error:c}=s;return c?{data:null,error:c}:await pe(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(a=o==null?void 0:o.session)===null||a===void 0?void 0:a.access_token})})}catch(s){if(he(s))return{data:null,error:s};throw s}}async _enroll(r){try{return await this._useSession(async s=>{var a,o;const{data:c,error:h}=s;if(h)return{data:null,error:h};const m=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:r.factorType==="totp"?{issuer:r.issuer}:{}),{data:p,error:y}=await pe(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(a=c==null?void 0:c.session)===null||a===void 0?void 0:a.access_token});return y?{data:null,error:y}:(r.factorType==="totp"&&p.type==="totp"&&(!((o=p==null?void 0:p.totp)===null||o===void 0)&&o.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(s){if(he(s))return{data:null,error:s};throw s}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var a;const{data:o,error:c}=s;if(c)return{data:null,error:c};const h=Object.assign({challenge_id:r.challengeId},"webauthn"in r?{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_response:r.webauthn.type==="create"?Lg(r.webauthn.credential_response):$g(r.webauthn.credential_response)})}:{code:r.code}),{data:m,error:p}=await pe(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:h,headers:this.headers,jwt:(a=o==null?void 0:o.session)===null||a===void 0?void 0:a.access_token});return p?{data:null,error:p}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),{data:m,error:p})})}catch(s){if(he(s))return{data:null,error:s};throw s}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var a;const{data:o,error:c}=s;if(c)return{data:null,error:c};const h=await pe(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:r,headers:this.headers,jwt:(a=o==null?void 0:o.session)===null||a===void 0?void 0:a.access_token});if(h.error)return h;const{data:m}=h;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:Rg(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:Ig(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(he(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(r){const{data:s,error:a}=await this._challenge({factorId:r.factorId});return a?{data:null,error:a}:await this._verify({factorId:r.factorId,challengeId:s.id,code:r.code})}async _listFactors(){var r;const{data:{user:s},error:a}=await this.getUser();if(a)return{data:null,error:a};const o={all:[],phone:[],totp:[],webauthn:[]};for(const c of(r=s==null?void 0:s.factors)!==null&&r!==void 0?r:[])o.all.push(c),c.status==="verified"&&o[c.factor_type].push(c);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async r=>{var s,a;const{data:{session:o},error:c}=r;if(c)return{data:null,error:c};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=El(o.access_token);let m=null;h.aal&&(m=h.aal);let p=m;((a=(s=o.user.factors)===null||s===void 0?void 0:s.filter(_=>_.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(p="aal2");const v=h.amr||[];return{data:{currentLevel:m,nextLevel:p,currentAuthenticationMethods:v},error:null}}))}async fetchJwk(r,s={keys:[]}){let a=s.keys.find(m=>m.kid===r);if(a)return a;const o=Date.now();if(a=this.jwks.keys.find(m=>m.kid===r),a&&this.jwks_cached_at+Wp>o)return a;const{data:c,error:h}=await pe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=o,a=c.keys.find(m=>m.kid===r),!a)?null:a}async getClaims(r,s={}){try{let a=r;if(!a){const{data:R,error:A}=await this.getSession();if(A||!R.session)return{data:null,error:A};a=R.session.access_token}const{header:o,payload:c,signature:h,raw:{header:m,payload:p}}=El(a);s!=null&&s.allowExpired||hg(c.exp);const y=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!y){const{error:R}=await this.getUser(a);if(R)throw R;return{data:{claims:c,header:o,signature:h},error:null}}const v=fg(o.alg),_=await crypto.subtle.importKey("jwk",y,v,!0,["verify"]);if(!await crypto.subtle.verify(v,_,h,Zp(`${m}.${p}`)))throw new Vl("Invalid JWT signature");return{data:{claims:c,header:o,signature:h},error:null}}catch(a){if(he(a))return{data:null,error:a};throw a}}}fi.nextInstanceID=0;const qg=fi;class Kg extends qg{constructor(r){super(r)}}var Gg=function(l,r,s,a){function o(c){return c instanceof s?c:new s(function(h){h(c)})}return new(s||(s=Promise))(function(c,h){function m(v){try{y(a.next(v))}catch(_){h(_)}}function p(v){try{y(a.throw(v))}catch(_){h(_)}}function y(v){v.done?c(v.value):o(v.value).then(m,p)}y((a=a.apply(l,r||[])).next())})};class Jg{constructor(r,s,a){var o,c,h;this.supabaseUrl=r,this.supabaseKey=s;const m=Up(r);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const p=`sb-${m.hostname.split(".")[0]}-auth-token`,y={db:Tp,realtime:Op,auth:Object.assign(Object.assign({},Pp),{storageKey:p}),global:Cp},v=Mp(a??{},y);this.storageKey=(o=v.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(c=v.global.headers)!==null&&c!==void 0?c:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(_,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((h=v.auth)!==null&&h!==void 0?h:{},this.headers,v.global.fetch),this.fetch=Ip(s,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new Vm(new URL("rest/v1",m).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),this.storage=new jp(this.storageUrl.href,this.headers,this.fetch,a==null?void 0:a.storage),v.accessToken||this._listenForAuthEvents()}get functions(){return new Im(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,s={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,s,a)}channel(r,s={config:{}}){return this.realtime.channel(r,s)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return Gg(this,void 0,void 0,function*(){var r,s;if(this.accessToken)return yield this.accessToken();const{data:a}=yield this.auth.getSession();return(s=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:s,detectSessionInUrl:a,storage:o,userStorage:c,storageKey:h,flowType:m,lock:p,debug:y},v,_){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Kg({url:this.authUrl.href,headers:Object.assign(Object.assign({},b),v),storageKey:h,autoRefreshToken:r,persistSession:s,detectSessionInUrl:a,storage:o,userStorage:c,flowType:m,lock:p,debug:y,fetch:_,hasCustomAuthorizationHeader:Object.keys(this.headers).some(R=>R.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new lp(this.realtimeUrl.href,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r==null?void 0:r.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,a)=>{this._handleTokenChanged(s,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(r,s,a){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Yg=(l,r,s)=>new Jg(l,r,s);function Qg(){if(typeof window<"u"||typeof process>"u")return!1;const l=process.version;if(l==null)return!1;const r=l.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}Qg()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Xg="https://ljevjenvmimgmodpygwn.supabase.co",Zg="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxqZXZqZW52bWltZ21vZHB5Z3duIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg0NjgwODIsImV4cCI6MjA3NDA0NDA4Mn0.ZU_hzcFBWC7QZhsoVROZHIdwKWmoAwrfiKxJOUeJfi4",us=Yg(Xg,Zg);async function ey(l){const r=l.trim(),{error:s}=await us.auth.signInWithOtp({phone:r,options:{channel:"sms"}});return{ok:!s,error:s}}async function ty(l,r){const s=l.trim(),{error:a}=await us.auth.verifyOtp({phone:s,token:r,type:"sms"});return{ok:!a,error:a}}const ry=Object.freeze(Object.defineProperty({__proto__:null,signInWithPhoneOtp:ey,verifyPhoneOtp:ty},Symbol.toStringTag,{value:"Module"})),ny=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));async function Ih(){var s;const{data:l,error:r}=await us.auth.getSession();return{session:l.session,user:((s=l.session)==null?void 0:s.user)??null,error:r}}function Lh(l){const{data:r}=us.auth.onAuthStateChange((s,a)=>l(a));return()=>r.subscription.unsubscribe()}async function sy(){const{data:l}=await us.auth.getUser();return l.user??null}async function iy(){const{error:l}=await us.auth.signOut();return{error:l}}const ay=Object.freeze(Object.defineProperty({__proto__:null,getSession:Ih,getUser:sy,onAuthStateChange:Lh,signOut:iy},Symbol.toStringTag,{value:"Module"}));window.authHelpers={phone:ry,email:ny,session:ay};var Ca={},Pl={exports:{}},Ot={},Ol={exports:{}},Al={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xd;function oy(){return Xd||(Xd=1,(function(l){function r(Y,oe){var Z=Y.length;Y.push(oe);e:for(;0<Z;){var C=Z-1>>>1,z=Y[C];if(0<o(z,oe))Y[C]=oe,Y[Z]=z,Z=C;else break e}}function s(Y){return Y.length===0?null:Y[0]}function a(Y){if(Y.length===0)return null;var oe=Y[0],Z=Y.pop();if(Z!==oe){Y[0]=Z;e:for(var C=0,z=Y.length,fe=z>>>1;C<fe;){var ye=2*(C+1)-1,ce=Y[ye],Se=ye+1,Te=Y[Se];if(0>o(ce,Z))Se<z&&0>o(Te,ce)?(Y[C]=Te,Y[Se]=Z,C=Se):(Y[C]=ce,Y[ye]=Z,C=ye);else if(Se<z&&0>o(Te,Z))Y[C]=Te,Y[Se]=Z,C=Se;else break e}}return oe}function o(Y,oe){var Z=Y.sortIndex-oe.sortIndex;return Z!==0?Z:Y.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;l.unstable_now=function(){return c.now()}}else{var h=Date,m=h.now();l.unstable_now=function(){return h.now()-m}}var p=[],y=[],v=1,_=null,b=3,R=!1,A=!1,k=!1,P=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D(Y){for(var oe=s(y);oe!==null;){if(oe.callback===null)a(y);else if(oe.startTime<=Y)a(y),oe.sortIndex=oe.expirationTime,r(p,oe);else break;oe=s(y)}}function U(Y){if(k=!1,D(Y),!A)if(s(p)!==null)A=!0,Ce(q);else{var oe=s(y);oe!==null&&Ee(U,oe.startTime-Y)}}function q(Y,oe){A=!1,k&&(k=!1,T(be),be=-1),R=!0;var Z=b;try{for(D(oe),_=s(p);_!==null&&(!(_.expirationTime>oe)||Y&&!ge());){var C=_.callback;if(typeof C=="function"){_.callback=null,b=_.priorityLevel;var z=C(_.expirationTime<=oe);oe=l.unstable_now(),typeof z=="function"?_.callback=z:_===s(p)&&a(p),D(oe)}else a(p);_=s(p)}if(_!==null)var fe=!0;else{var ye=s(y);ye!==null&&Ee(U,ye.startTime-oe),fe=!1}return fe}finally{_=null,b=Z,R=!1}}var K=!1,ne=null,be=-1,_e=5,je=-1;function ge(){return!(l.unstable_now()-je<_e)}function at(){if(ne!==null){var Y=l.unstable_now();je=Y;var oe=!0;try{oe=ne(!0,Y)}finally{oe?Me():(K=!1,ne=null)}}else K=!1}var Me;if(typeof L=="function")Me=function(){L(at)};else if(typeof MessageChannel<"u"){var Le=new MessageChannel,Ge=Le.port2;Le.port1.onmessage=at,Me=function(){Ge.postMessage(null)}}else Me=function(){P(at,0)};function Ce(Y){ne=Y,K||(K=!0,Me())}function Ee(Y,oe){be=P(function(){Y(l.unstable_now())},oe)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(Y){Y.callback=null},l.unstable_continueExecution=function(){A||R||(A=!0,Ce(q))},l.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_e=0<Y?Math.floor(1e3/Y):5},l.unstable_getCurrentPriorityLevel=function(){return b},l.unstable_getFirstCallbackNode=function(){return s(p)},l.unstable_next=function(Y){switch(b){case 1:case 2:case 3:var oe=3;break;default:oe=b}var Z=b;b=oe;try{return Y()}finally{b=Z}},l.unstable_pauseExecution=function(){},l.unstable_requestPaint=function(){},l.unstable_runWithPriority=function(Y,oe){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var Z=b;b=Y;try{return oe()}finally{b=Z}},l.unstable_scheduleCallback=function(Y,oe,Z){var C=l.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?C+Z:C):Z=C,Y){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=Z+z,Y={id:v++,callback:oe,priorityLevel:Y,startTime:Z,expirationTime:z,sortIndex:-1},Z>C?(Y.sortIndex=Z,r(y,Y),s(p)===null&&Y===s(y)&&(k?(T(be),be=-1):k=!0,Ee(U,Z-C))):(Y.sortIndex=z,r(p,Y),A||R||(A=!0,Ce(q))),Y},l.unstable_shouldYield=ge,l.unstable_wrapCallback=function(Y){var oe=b;return function(){var Z=b;b=oe;try{return Y.apply(this,arguments)}finally{b=Z}}}})(Al)),Al}var Zd;function ly(){return Zd||(Zd=1,Ol.exports=oy()),Ol.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eh;function cy(){if(eh)return Ot;eh=1;var l=Kl(),r=ly();function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function c(e,t){h(e,t),h(e+"Capture",t)}function h(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},_={};function b(e){return p.call(_,e)?!0:p.call(v,e)?!1:y.test(e)?_[e]=!0:(v[e]=!0,!1)}function R(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function A(e,t,n,i){if(t===null||typeof t>"u"||R(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function k(e,t,n,i,d,f,g){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=d,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=f,this.removeEmptyString=g}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){P[e]=new k(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];P[t]=new k(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){P[e]=new k(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){P[e]=new k(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){P[e]=new k(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){P[e]=new k(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){P[e]=new k(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){P[e]=new k(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){P[e]=new k(e,5,!1,e.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function L(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(T,L);P[t]=new k(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(T,L);P[t]=new k(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(T,L);P[t]=new k(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){P[e]=new k(e,1,!1,e.toLowerCase(),null,!1,!1)}),P.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){P[e]=new k(e,1,!1,e.toLowerCase(),null,!0,!0)});function D(e,t,n,i){var d=P.hasOwnProperty(t)?P[t]:null;(d!==null?d.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(A(t,n,d,i)&&(n=null),i||d===null?b(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):d.mustUseProperty?e[d.propertyName]=n===null?d.type===3?!1:"":n:(t=d.attributeName,i=d.attributeNamespace,n===null?e.removeAttribute(t):(d=d.type,n=d===3||d===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var U=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,q=Symbol.for("react.element"),K=Symbol.for("react.portal"),ne=Symbol.for("react.fragment"),be=Symbol.for("react.strict_mode"),_e=Symbol.for("react.profiler"),je=Symbol.for("react.provider"),ge=Symbol.for("react.context"),at=Symbol.for("react.forward_ref"),Me=Symbol.for("react.suspense"),Le=Symbol.for("react.suspense_list"),Ge=Symbol.for("react.memo"),Ce=Symbol.for("react.lazy"),Ee=Symbol.for("react.offscreen"),Y=Symbol.iterator;function oe(e){return e===null||typeof e!="object"?null:(e=Y&&e[Y]||e["@@iterator"],typeof e=="function"?e:null)}var Z=Object.assign,C;function z(e){if(C===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);C=t&&t[1]||""}return`
`+C+e}var fe=!1;function ye(e,t){if(!e||fe)return"";fe=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(M){var i=M}Reflect.construct(e,[],t)}else{try{t.call()}catch(M){i=M}e.call(t.prototype)}else{try{throw Error()}catch(M){i=M}e()}}catch(M){if(M&&i&&typeof M.stack=="string"){for(var d=M.stack.split(`
`),f=i.stack.split(`
`),g=d.length-1,w=f.length-1;1<=g&&0<=w&&d[g]!==f[w];)w--;for(;1<=g&&0<=w;g--,w--)if(d[g]!==f[w]){if(g!==1||w!==1)do if(g--,w--,0>w||d[g]!==f[w]){var S=`
`+d[g].replace(" at new "," at ");return e.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",e.displayName)),S}while(1<=g&&0<=w);break}}}finally{fe=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function ce(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=ye(e.type,!1),e;case 11:return e=ye(e.type.render,!1),e;case 1:return e=ye(e.type,!0),e;default:return""}}function Se(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ne:return"Fragment";case K:return"Portal";case _e:return"Profiler";case be:return"StrictMode";case Me:return"Suspense";case Le:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ge:return(e.displayName||"Context")+".Consumer";case je:return(e._context.displayName||"Context")+".Provider";case at:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ge:return t=e.displayName||null,t!==null?t:Se(e.type)||"Memo";case Ce:t=e._payload,e=e._init;try{return Se(e(t))}catch{}}return null}function Te(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Se(t);case 8:return t===be?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ne(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ae(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function De(e){var t=Ae(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var d=n.get,f=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return d.call(this)},set:function(g){i=""+g,f.call(this,g)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(g){i=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function F(e){e._valueTracker||(e._valueTracker=De(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Ae(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function W(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function le(e,t){var n=t.checked;return Z({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ve(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=Ne(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ye(e,t){t=t.checked,t!=null&&D(e,"checked",t,!1)}function Yt(e,t){Ye(e,t);var n=Ne(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?jr(e,t.type,n):t.hasOwnProperty("defaultValue")&&jr(e,t.type,Ne(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Qe(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function jr(e,t,n){(t!=="number"||W(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var fr=Array.isArray;function Nr(e,t,n,i){if(e=e.options,t){t={};for(var d=0;d<n.length;d++)t["$"+n[d]]=!0;for(n=0;n<e.length;n++)d=t.hasOwnProperty("$"+e[n].value),e[n].selected!==d&&(e[n].selected=d),d&&i&&(e[n].defaultSelected=!0)}else{for(n=""+Ne(n),t=null,d=0;d<e.length;d++){if(e[d].value===n){e[d].selected=!0,i&&(e[d].defaultSelected=!0);return}t!==null||e[d].disabled||(t=e[d])}t!==null&&(t.selected=!0)}}function ds(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(s(91));return Z({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function tn(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(s(92));if(fr(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ne(n)}}function hs(e,t){var n=Ne(t.value),i=Ne(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function fs(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function gi(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ms(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?gi(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Er,yi=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,d){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,d)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Er=Er||document.createElement("div"),Er.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Er.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Cr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var rn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vi=["Webkit","ms","Moz","O"];Object.keys(rn).forEach(function(e){vi.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),rn[t]=rn[e]})});function Tr(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||rn.hasOwnProperty(e)&&rn[e]?(""+t).trim():t+"px"}function Pr(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,d=Tr(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,d):e[n]=d}}var La=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dt(e,t){if(t){if(La[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(s(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(t.style!=null&&typeof t.style!="object")throw Error(s(62))}}function ps(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gs=null;function ys(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Re=null,mr=null,pr=null;function vs(e){if(e=Ws(e)){if(typeof Re!="function")throw Error(s(280));var t=e.stateNode;t&&(t=Ui(t),Re(e.stateNode,e.type,t))}}function xs(e){mr?pr?pr.push(e):pr=[e]:mr=e}function ws(){if(mr){var e=mr,t=pr;if(pr=mr=null,vs(e),t)for(e=0;e<t.length;e++)vs(t[e])}}function bs(e,t){return e(t)}function _s(){}var Sn=!1;function x(e,t,n){if(Sn)return e(t,n);Sn=!0;try{return bs(e,t,n)}finally{Sn=!1,(mr!==null||pr!==null)&&(_s(),ws())}}function j(e,t){var n=e.stateNode;if(n===null)return null;var i=Ui(n);if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(s(231,t,typeof n));return n}var $=!1;if(m)try{var N={};Object.defineProperty(N,"passive",{get:function(){$=!0}}),window.addEventListener("test",N,N),window.removeEventListener("test",N,N)}catch{$=!1}function Q(e,t,n,i,d,f,g,w,S){var M=Array.prototype.slice.call(arguments,3);try{t.apply(n,M)}catch(V){this.onError(V)}}var xe=!1,Ue=null,dt=!1,Xe=null,Rt={onError:function(e){xe=!0,Ue=e}};function bt(e,t,n,i,d,f,g,w,S){xe=!1,Ue=null,Q.apply(Rt,arguments)}function _t(e,t,n,i,d,f,g,w,S){if(bt.apply(this,arguments),xe){if(xe){var M=Ue;xe=!1,Ue=null}else throw Error(s(198));dt||(dt=!0,Xe=M)}}function rt(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function kn(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function xi(e){if(rt(e)!==e)throw Error(s(188))}function $a(e){var t=e.alternate;if(!t){if(t=rt(e),t===null)throw Error(s(188));return t!==e?null:e}for(var n=e,i=t;;){var d=n.return;if(d===null)break;var f=d.alternate;if(f===null){if(i=d.return,i!==null){n=i;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===n)return xi(d),e;if(f===i)return xi(d),t;f=f.sibling}throw Error(s(188))}if(n.return!==i.return)n=d,i=f;else{for(var g=!1,w=d.child;w;){if(w===n){g=!0,n=d,i=f;break}if(w===i){g=!0,i=d,n=f;break}w=w.sibling}if(!g){for(w=f.child;w;){if(w===n){g=!0,n=f,i=d;break}if(w===i){g=!0,i=f,n=d;break}w=w.sibling}if(!g)throw Error(s(189))}}if(n.alternate!==i)throw Error(s(190))}if(n.tag!==3)throw Error(s(188));return n.stateNode.current===n?e:t}function Ss(e){return e=$a(e),e!==null?jn(e):null}function jn(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=jn(e);if(t!==null)return t;e=e.sibling}return null}var ks=r.unstable_scheduleCallback,js=r.unstable_cancelCallback,wi=r.unstable_shouldYield,ee=r.unstable_requestPaint,we=r.unstable_now,It=r.unstable_getCurrentPriorityLevel,St=r.unstable_ImmediatePriority,vt=r.unstable_UserBlockingPriority,ar=r.unstable_NormalPriority,kt=r.unstable_LowPriority,Bt=r.unstable_IdlePriority,Or=null,Ht=null;function Ma(e){if(Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(Or,e,void 0,(e.current.flags&128)===128)}catch{}}var Lt=Math.clz32?Math.clz32:Bh,Ua=Math.log,zh=Math.LN2;function Bh(e){return e>>>=0,e===0?32:31-(Ua(e)/zh|0)|0}var bi=64,_i=4194304;function Ns(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Si(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,d=e.suspendedLanes,f=e.pingedLanes,g=n&268435455;if(g!==0){var w=g&~d;w!==0?i=Ns(w):(f&=g,f!==0&&(i=Ns(f)))}else g=n&~d,g!==0?i=Ns(g):f!==0&&(i=Ns(f));if(i===0)return 0;if(t!==0&&t!==i&&(t&d)===0&&(d=i&-i,f=t&-t,d>=f||d===16&&(f&4194240)!==0))return t;if((i&4)!==0&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-Lt(t),d=1<<n,i|=e[n],t&=~d;return i}function Hh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wh(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,d=e.expirationTimes,f=e.pendingLanes;0<f;){var g=31-Lt(f),w=1<<g,S=d[g];S===-1?((w&n)===0||(w&i)!==0)&&(d[g]=Hh(w,t)):S<=t&&(e.expiredLanes|=w),f&=~w}}function Fa(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Xl(){var e=bi;return bi<<=1,(bi&4194240)===0&&(bi=64),e}function za(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Es(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Lt(t),e[t]=n}function Vh(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var d=31-Lt(n),f=1<<d;t[d]=0,i[d]=-1,e[d]=-1,n&=~f}}function Ba(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Lt(n),d=1<<i;d&t|e[i]&t&&(e[i]|=t),n&=~d}}var Ie=0;function Zl(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var ec,Ha,tc,rc,nc,Wa=!1,ki=[],Ar=null,Dr=null,Rr=null,Cs=new Map,Ts=new Map,Ir=[],qh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sc(e,t){switch(e){case"focusin":case"focusout":Ar=null;break;case"dragenter":case"dragleave":Dr=null;break;case"mouseover":case"mouseout":Rr=null;break;case"pointerover":case"pointerout":Cs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ts.delete(t.pointerId)}}function Ps(e,t,n,i,d,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:f,targetContainers:[d]},t!==null&&(t=Ws(t),t!==null&&Ha(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,d!==null&&t.indexOf(d)===-1&&t.push(d),e)}function Kh(e,t,n,i,d){switch(t){case"focusin":return Ar=Ps(Ar,e,t,n,i,d),!0;case"dragenter":return Dr=Ps(Dr,e,t,n,i,d),!0;case"mouseover":return Rr=Ps(Rr,e,t,n,i,d),!0;case"pointerover":var f=d.pointerId;return Cs.set(f,Ps(Cs.get(f)||null,e,t,n,i,d)),!0;case"gotpointercapture":return f=d.pointerId,Ts.set(f,Ps(Ts.get(f)||null,e,t,n,i,d)),!0}return!1}function ic(e){var t=nn(e.target);if(t!==null){var n=rt(t);if(n!==null){if(t=n.tag,t===13){if(t=kn(n),t!==null){e.blockedOn=t,nc(e.priority,function(){tc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ji(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=qa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);gs=i,n.target.dispatchEvent(i),gs=null}else return t=Ws(n),t!==null&&Ha(t),e.blockedOn=n,!1;t.shift()}return!0}function ac(e,t,n){ji(e)&&n.delete(t)}function Gh(){Wa=!1,Ar!==null&&ji(Ar)&&(Ar=null),Dr!==null&&ji(Dr)&&(Dr=null),Rr!==null&&ji(Rr)&&(Rr=null),Cs.forEach(ac),Ts.forEach(ac)}function Os(e,t){e.blockedOn===t&&(e.blockedOn=null,Wa||(Wa=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Gh)))}function As(e){function t(d){return Os(d,e)}if(0<ki.length){Os(ki[0],e);for(var n=1;n<ki.length;n++){var i=ki[n];i.blockedOn===e&&(i.blockedOn=null)}}for(Ar!==null&&Os(Ar,e),Dr!==null&&Os(Dr,e),Rr!==null&&Os(Rr,e),Cs.forEach(t),Ts.forEach(t),n=0;n<Ir.length;n++)i=Ir[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<Ir.length&&(n=Ir[0],n.blockedOn===null);)ic(n),n.blockedOn===null&&Ir.shift()}var Nn=U.ReactCurrentBatchConfig,Ni=!0;function Jh(e,t,n,i){var d=Ie,f=Nn.transition;Nn.transition=null;try{Ie=1,Va(e,t,n,i)}finally{Ie=d,Nn.transition=f}}function Yh(e,t,n,i){var d=Ie,f=Nn.transition;Nn.transition=null;try{Ie=4,Va(e,t,n,i)}finally{Ie=d,Nn.transition=f}}function Va(e,t,n,i){if(Ni){var d=qa(e,t,n,i);if(d===null)co(e,t,i,Ei,n),sc(e,i);else if(Kh(d,e,t,n,i))i.stopPropagation();else if(sc(e,i),t&4&&-1<qh.indexOf(e)){for(;d!==null;){var f=Ws(d);if(f!==null&&ec(f),f=qa(e,t,n,i),f===null&&co(e,t,i,Ei,n),f===d)break;d=f}d!==null&&i.stopPropagation()}else co(e,t,i,null,n)}}var Ei=null;function qa(e,t,n,i){if(Ei=null,e=ys(i),e=nn(e),e!==null)if(t=rt(e),t===null)e=null;else if(n=t.tag,n===13){if(e=kn(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ei=e,null}function oc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(It()){case St:return 1;case vt:return 4;case ar:case kt:return 16;case Bt:return 536870912;default:return 16}default:return 16}}var Lr=null,Ka=null,Ci=null;function lc(){if(Ci)return Ci;var e,t=Ka,n=t.length,i,d="value"in Lr?Lr.value:Lr.textContent,f=d.length;for(e=0;e<n&&t[e]===d[e];e++);var g=n-e;for(i=1;i<=g&&t[n-i]===d[f-i];i++);return Ci=d.slice(e,1<i?1-i:void 0)}function Ti(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Pi(){return!0}function cc(){return!1}function $t(e){function t(n,i,d,f,g){this._reactName=n,this._targetInst=d,this.type=i,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(n=e[w],this[w]=n?n(f):f[w]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Pi:cc,this.isPropagationStopped=cc,this}return Z(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Pi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Pi)},persist:function(){},isPersistent:Pi}),t}var En={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ga=$t(En),Ds=Z({},En,{view:0,detail:0}),Qh=$t(Ds),Ja,Ya,Rs,Oi=Z({},Ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Rs&&(Rs&&e.type==="mousemove"?(Ja=e.screenX-Rs.screenX,Ya=e.screenY-Rs.screenY):Ya=Ja=0,Rs=e),Ja)},movementY:function(e){return"movementY"in e?e.movementY:Ya}}),uc=$t(Oi),Xh=Z({},Oi,{dataTransfer:0}),Zh=$t(Xh),ef=Z({},Ds,{relatedTarget:0}),Qa=$t(ef),tf=Z({},En,{animationName:0,elapsedTime:0,pseudoElement:0}),rf=$t(tf),nf=Z({},En,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sf=$t(nf),af=Z({},En,{data:0}),dc=$t(af),of={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=cf[e])?!!t[e]:!1}function Xa(){return uf}var df=Z({},Ds,{key:function(e){if(e.key){var t=of[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ti(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xa,charCode:function(e){return e.type==="keypress"?Ti(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ti(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hf=$t(df),ff=Z({},Oi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hc=$t(ff),mf=Z({},Ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xa}),pf=$t(mf),gf=Z({},En,{propertyName:0,elapsedTime:0,pseudoElement:0}),yf=$t(gf),vf=Z({},Oi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xf=$t(vf),wf=[9,13,27,32],Za=m&&"CompositionEvent"in window,Is=null;m&&"documentMode"in document&&(Is=document.documentMode);var bf=m&&"TextEvent"in window&&!Is,fc=m&&(!Za||Is&&8<Is&&11>=Is),mc=" ",pc=!1;function gc(e,t){switch(e){case"keyup":return wf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Cn=!1;function _f(e,t){switch(e){case"compositionend":return yc(t);case"keypress":return t.which!==32?null:(pc=!0,mc);case"textInput":return e=t.data,e===mc&&pc?null:e;default:return null}}function Sf(e,t){if(Cn)return e==="compositionend"||!Za&&gc(e,t)?(e=lc(),Ci=Ka=Lr=null,Cn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return fc&&t.locale!=="ko"?null:t.data;default:return null}}var kf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!kf[e.type]:t==="textarea"}function xc(e,t,n,i){xs(i),t=Li(t,"onChange"),0<t.length&&(n=new Ga("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Ls=null,$s=null;function jf(e){$c(e,0)}function Ai(e){var t=Dn(e);if(X(t))return e}function Nf(e,t){if(e==="change")return t}var wc=!1;if(m){var eo;if(m){var to="oninput"in document;if(!to){var bc=document.createElement("div");bc.setAttribute("oninput","return;"),to=typeof bc.oninput=="function"}eo=to}else eo=!1;wc=eo&&(!document.documentMode||9<document.documentMode)}function _c(){Ls&&(Ls.detachEvent("onpropertychange",Sc),$s=Ls=null)}function Sc(e){if(e.propertyName==="value"&&Ai($s)){var t=[];xc(t,$s,e,ys(e)),x(jf,t)}}function Ef(e,t,n){e==="focusin"?(_c(),Ls=t,$s=n,Ls.attachEvent("onpropertychange",Sc)):e==="focusout"&&_c()}function Cf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ai($s)}function Tf(e,t){if(e==="click")return Ai(t)}function Pf(e,t){if(e==="input"||e==="change")return Ai(t)}function Of(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qt=typeof Object.is=="function"?Object.is:Of;function Ms(e,t){if(Qt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var d=n[i];if(!p.call(t,d)||!Qt(e[d],t[d]))return!1}return!0}function kc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jc(e,t){var n=kc(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=kc(n)}}function Nc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Nc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ec(){for(var e=window,t=W();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=W(e.document)}return t}function ro(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Af(e){var t=Ec(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Nc(n.ownerDocument.documentElement,n)){if(i!==null&&ro(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var d=n.textContent.length,f=Math.min(i.start,d);i=i.end===void 0?f:Math.min(i.end,d),!e.extend&&f>i&&(d=i,i=f,f=d),d=jc(n,f);var g=jc(n,i);d&&g&&(e.rangeCount!==1||e.anchorNode!==d.node||e.anchorOffset!==d.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(d.node,d.offset),e.removeAllRanges(),f>i?(e.addRange(t),e.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Df=m&&"documentMode"in document&&11>=document.documentMode,Tn=null,no=null,Us=null,so=!1;function Cc(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;so||Tn==null||Tn!==W(i)||(i=Tn,"selectionStart"in i&&ro(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Us&&Ms(Us,i)||(Us=i,i=Li(no,"onSelect"),0<i.length&&(t=new Ga("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Tn)))}function Di(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Pn={animationend:Di("Animation","AnimationEnd"),animationiteration:Di("Animation","AnimationIteration"),animationstart:Di("Animation","AnimationStart"),transitionend:Di("Transition","TransitionEnd")},io={},Tc={};m&&(Tc=document.createElement("div").style,"AnimationEvent"in window||(delete Pn.animationend.animation,delete Pn.animationiteration.animation,delete Pn.animationstart.animation),"TransitionEvent"in window||delete Pn.transitionend.transition);function Ri(e){if(io[e])return io[e];if(!Pn[e])return e;var t=Pn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Tc)return io[e]=t[n];return e}var Pc=Ri("animationend"),Oc=Ri("animationiteration"),Ac=Ri("animationstart"),Dc=Ri("transitionend"),Rc=new Map,Ic="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $r(e,t){Rc.set(e,t),c(t,[e])}for(var ao=0;ao<Ic.length;ao++){var oo=Ic[ao],Rf=oo.toLowerCase(),If=oo[0].toUpperCase()+oo.slice(1);$r(Rf,"on"+If)}$r(Pc,"onAnimationEnd"),$r(Oc,"onAnimationIteration"),$r(Ac,"onAnimationStart"),$r("dblclick","onDoubleClick"),$r("focusin","onFocus"),$r("focusout","onBlur"),$r(Dc,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lf=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fs));function Lc(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,_t(i,t,void 0,e),e.currentTarget=null}function $c(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],d=i.event;i=i.listeners;e:{var f=void 0;if(t)for(var g=i.length-1;0<=g;g--){var w=i[g],S=w.instance,M=w.currentTarget;if(w=w.listener,S!==f&&d.isPropagationStopped())break e;Lc(d,w,M),f=S}else for(g=0;g<i.length;g++){if(w=i[g],S=w.instance,M=w.currentTarget,w=w.listener,S!==f&&d.isPropagationStopped())break e;Lc(d,w,M),f=S}}}if(dt)throw e=Xe,dt=!1,Xe=null,e}function Be(e,t){var n=t[go];n===void 0&&(n=t[go]=new Set);var i=e+"__bubble";n.has(i)||(Mc(t,e,2,!1),n.add(i))}function lo(e,t,n){var i=0;t&&(i|=4),Mc(n,e,i,t)}var Ii="_reactListening"+Math.random().toString(36).slice(2);function zs(e){if(!e[Ii]){e[Ii]=!0,a.forEach(function(n){n!=="selectionchange"&&(Lf.has(n)||lo(n,!1,e),lo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ii]||(t[Ii]=!0,lo("selectionchange",!1,t))}}function Mc(e,t,n,i){switch(oc(t)){case 1:var d=Jh;break;case 4:d=Yh;break;default:d=Va}n=d.bind(null,t,n,e),d=void 0,!$||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(d=!0),i?d!==void 0?e.addEventListener(t,n,{capture:!0,passive:d}):e.addEventListener(t,n,!0):d!==void 0?e.addEventListener(t,n,{passive:d}):e.addEventListener(t,n,!1)}function co(e,t,n,i,d){var f=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var g=i.tag;if(g===3||g===4){var w=i.stateNode.containerInfo;if(w===d||w.nodeType===8&&w.parentNode===d)break;if(g===4)for(g=i.return;g!==null;){var S=g.tag;if((S===3||S===4)&&(S=g.stateNode.containerInfo,S===d||S.nodeType===8&&S.parentNode===d))return;g=g.return}for(;w!==null;){if(g=nn(w),g===null)return;if(S=g.tag,S===5||S===6){i=f=g;continue e}w=w.parentNode}}i=i.return}x(function(){var M=f,V=ys(n),G=[];e:{var H=Rc.get(e);if(H!==void 0){var te=Ga,se=e;switch(e){case"keypress":if(Ti(n)===0)break e;case"keydown":case"keyup":te=hf;break;case"focusin":se="focus",te=Qa;break;case"focusout":se="blur",te=Qa;break;case"beforeblur":case"afterblur":te=Qa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=uc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=Zh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=pf;break;case Pc:case Oc:case Ac:te=rf;break;case Dc:te=yf;break;case"scroll":te=Qh;break;case"wheel":te=xf;break;case"copy":case"cut":case"paste":te=sf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=hc}var ie=(t&4)!==0,Je=!ie&&e==="scroll",O=ie?H!==null?H+"Capture":null:H;ie=[];for(var E=M,I;E!==null;){I=E;var J=I.stateNode;if(I.tag===5&&J!==null&&(I=J,O!==null&&(J=j(E,O),J!=null&&ie.push(Bs(E,J,I)))),Je)break;E=E.return}0<ie.length&&(H=new te(H,se,null,n,V),G.push({event:H,listeners:ie}))}}if((t&7)===0){e:{if(H=e==="mouseover"||e==="pointerover",te=e==="mouseout"||e==="pointerout",H&&n!==gs&&(se=n.relatedTarget||n.fromElement)&&(nn(se)||se[gr]))break e;if((te||H)&&(H=V.window===V?V:(H=V.ownerDocument)?H.defaultView||H.parentWindow:window,te?(se=n.relatedTarget||n.toElement,te=M,se=se?nn(se):null,se!==null&&(Je=rt(se),se!==Je||se.tag!==5&&se.tag!==6)&&(se=null)):(te=null,se=M),te!==se)){if(ie=uc,J="onMouseLeave",O="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(ie=hc,J="onPointerLeave",O="onPointerEnter",E="pointer"),Je=te==null?H:Dn(te),I=se==null?H:Dn(se),H=new ie(J,E+"leave",te,n,V),H.target=Je,H.relatedTarget=I,J=null,nn(V)===M&&(ie=new ie(O,E+"enter",se,n,V),ie.target=I,ie.relatedTarget=Je,J=ie),Je=J,te&&se)t:{for(ie=te,O=se,E=0,I=ie;I;I=On(I))E++;for(I=0,J=O;J;J=On(J))I++;for(;0<E-I;)ie=On(ie),E--;for(;0<I-E;)O=On(O),I--;for(;E--;){if(ie===O||O!==null&&ie===O.alternate)break t;ie=On(ie),O=On(O)}ie=null}else ie=null;te!==null&&Uc(G,H,te,ie,!1),se!==null&&Je!==null&&Uc(G,Je,se,ie,!0)}}e:{if(H=M?Dn(M):window,te=H.nodeName&&H.nodeName.toLowerCase(),te==="select"||te==="input"&&H.type==="file")var ae=Nf;else if(vc(H))if(wc)ae=Pf;else{ae=Cf;var ue=Ef}else(te=H.nodeName)&&te.toLowerCase()==="input"&&(H.type==="checkbox"||H.type==="radio")&&(ae=Tf);if(ae&&(ae=ae(e,M))){xc(G,ae,n,V);break e}ue&&ue(e,H,M),e==="focusout"&&(ue=H._wrapperState)&&ue.controlled&&H.type==="number"&&jr(H,"number",H.value)}switch(ue=M?Dn(M):window,e){case"focusin":(vc(ue)||ue.contentEditable==="true")&&(Tn=ue,no=M,Us=null);break;case"focusout":Us=no=Tn=null;break;case"mousedown":so=!0;break;case"contextmenu":case"mouseup":case"dragend":so=!1,Cc(G,n,V);break;case"selectionchange":if(Df)break;case"keydown":case"keyup":Cc(G,n,V)}var de;if(Za)e:{switch(e){case"compositionstart":var me="onCompositionStart";break e;case"compositionend":me="onCompositionEnd";break e;case"compositionupdate":me="onCompositionUpdate";break e}me=void 0}else Cn?gc(e,n)&&(me="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(me="onCompositionStart");me&&(fc&&n.locale!=="ko"&&(Cn||me!=="onCompositionStart"?me==="onCompositionEnd"&&Cn&&(de=lc()):(Lr=V,Ka="value"in Lr?Lr.value:Lr.textContent,Cn=!0)),ue=Li(M,me),0<ue.length&&(me=new dc(me,e,null,n,V),G.push({event:me,listeners:ue}),de?me.data=de:(de=yc(n),de!==null&&(me.data=de)))),(de=bf?_f(e,n):Sf(e,n))&&(M=Li(M,"onBeforeInput"),0<M.length&&(V=new dc("onBeforeInput","beforeinput",null,n,V),G.push({event:V,listeners:M}),V.data=de))}$c(G,t)})}function Bs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Li(e,t){for(var n=t+"Capture",i=[];e!==null;){var d=e,f=d.stateNode;d.tag===5&&f!==null&&(d=f,f=j(e,n),f!=null&&i.unshift(Bs(e,f,d)),f=j(e,t),f!=null&&i.push(Bs(e,f,d))),e=e.return}return i}function On(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Uc(e,t,n,i,d){for(var f=t._reactName,g=[];n!==null&&n!==i;){var w=n,S=w.alternate,M=w.stateNode;if(S!==null&&S===i)break;w.tag===5&&M!==null&&(w=M,d?(S=j(n,f),S!=null&&g.unshift(Bs(n,S,w))):d||(S=j(n,f),S!=null&&g.push(Bs(n,S,w)))),n=n.return}g.length!==0&&e.push({event:t,listeners:g})}var $f=/\r\n?/g,Mf=/\u0000|\uFFFD/g;function Fc(e){return(typeof e=="string"?e:""+e).replace($f,`
`).replace(Mf,"")}function $i(e,t,n){if(t=Fc(t),Fc(e)!==t&&n)throw Error(s(425))}function Mi(){}var uo=null,ho=null;function fo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var mo=typeof setTimeout=="function"?setTimeout:void 0,Uf=typeof clearTimeout=="function"?clearTimeout:void 0,zc=typeof Promise=="function"?Promise:void 0,Ff=typeof queueMicrotask=="function"?queueMicrotask:typeof zc<"u"?function(e){return zc.resolve(null).then(e).catch(zf)}:mo;function zf(e){setTimeout(function(){throw e})}function po(e,t){var n=t,i=0;do{var d=n.nextSibling;if(e.removeChild(n),d&&d.nodeType===8)if(n=d.data,n==="/$"){if(i===0){e.removeChild(d),As(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=d}while(n);As(t)}function Mr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Bc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var An=Math.random().toString(36).slice(2),or="__reactFiber$"+An,Hs="__reactProps$"+An,gr="__reactContainer$"+An,go="__reactEvents$"+An,Bf="__reactListeners$"+An,Hf="__reactHandles$"+An;function nn(e){var t=e[or];if(t)return t;for(var n=e.parentNode;n;){if(t=n[gr]||n[or]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Bc(e);e!==null;){if(n=e[or])return n;e=Bc(e)}return t}e=n,n=e.parentNode}return null}function Ws(e){return e=e[or]||e[gr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Dn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function Ui(e){return e[Hs]||null}var yo=[],Rn=-1;function Ur(e){return{current:e}}function He(e){0>Rn||(e.current=yo[Rn],yo[Rn]=null,Rn--)}function Fe(e,t){Rn++,yo[Rn]=e.current,e.current=t}var Fr={},mt=Ur(Fr),jt=Ur(!1),sn=Fr;function In(e,t){var n=e.type.contextTypes;if(!n)return Fr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var d={},f;for(f in n)d[f]=t[f];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=d),d}function Nt(e){return e=e.childContextTypes,e!=null}function Fi(){He(jt),He(mt)}function Hc(e,t,n){if(mt.current!==Fr)throw Error(s(168));Fe(mt,t),Fe(jt,n)}function Wc(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var d in i)if(!(d in t))throw Error(s(108,Te(e)||"Unknown",d));return Z({},n,i)}function zi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Fr,sn=mt.current,Fe(mt,e),Fe(jt,jt.current),!0}function Vc(e,t,n){var i=e.stateNode;if(!i)throw Error(s(169));n?(e=Wc(e,t,sn),i.__reactInternalMemoizedMergedChildContext=e,He(jt),He(mt),Fe(mt,e)):He(jt),Fe(jt,n)}var yr=null,Bi=!1,vo=!1;function qc(e){yr===null?yr=[e]:yr.push(e)}function Wf(e){Bi=!0,qc(e)}function zr(){if(!vo&&yr!==null){vo=!0;var e=0,t=Ie;try{var n=yr;for(Ie=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}yr=null,Bi=!1}catch(d){throw yr!==null&&(yr=yr.slice(e+1)),ks(St,zr),d}finally{Ie=t,vo=!1}}return null}var Ln=[],$n=0,Hi=null,Wi=0,Wt=[],Vt=0,an=null,vr=1,xr="";function on(e,t){Ln[$n++]=Wi,Ln[$n++]=Hi,Hi=e,Wi=t}function Kc(e,t,n){Wt[Vt++]=vr,Wt[Vt++]=xr,Wt[Vt++]=an,an=e;var i=vr;e=xr;var d=32-Lt(i)-1;i&=~(1<<d),n+=1;var f=32-Lt(t)+d;if(30<f){var g=d-d%5;f=(i&(1<<g)-1).toString(32),i>>=g,d-=g,vr=1<<32-Lt(t)+d|n<<d|i,xr=f+e}else vr=1<<f|n<<d|i,xr=e}function xo(e){e.return!==null&&(on(e,1),Kc(e,1,0))}function wo(e){for(;e===Hi;)Hi=Ln[--$n],Ln[$n]=null,Wi=Ln[--$n],Ln[$n]=null;for(;e===an;)an=Wt[--Vt],Wt[Vt]=null,xr=Wt[--Vt],Wt[Vt]=null,vr=Wt[--Vt],Wt[Vt]=null}var Mt=null,Ut=null,We=!1,Xt=null;function Gc(e,t){var n=Jt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Jc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Mt=e,Ut=Mr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Mt=e,Ut=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=an!==null?{id:vr,overflow:xr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Jt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Mt=e,Ut=null,!0):!1;default:return!1}}function bo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function _o(e){if(We){var t=Ut;if(t){var n=t;if(!Jc(e,t)){if(bo(e))throw Error(s(418));t=Mr(n.nextSibling);var i=Mt;t&&Jc(e,t)?Gc(i,n):(e.flags=e.flags&-4097|2,We=!1,Mt=e)}}else{if(bo(e))throw Error(s(418));e.flags=e.flags&-4097|2,We=!1,Mt=e}}}function Yc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Mt=e}function Vi(e){if(e!==Mt)return!1;if(!We)return Yc(e),We=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!fo(e.type,e.memoizedProps)),t&&(t=Ut)){if(bo(e))throw Qc(),Error(s(418));for(;t;)Gc(e,t),t=Mr(t.nextSibling)}if(Yc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ut=Mr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ut=null}}else Ut=Mt?Mr(e.stateNode.nextSibling):null;return!0}function Qc(){for(var e=Ut;e;)e=Mr(e.nextSibling)}function Mn(){Ut=Mt=null,We=!1}function So(e){Xt===null?Xt=[e]:Xt.push(e)}var Vf=U.ReactCurrentBatchConfig;function Vs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(s(309));var i=n.stateNode}if(!i)throw Error(s(147,e));var d=i,f=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===f?t.ref:(t=function(g){var w=d.refs;g===null?delete w[f]:w[f]=g},t._stringRef=f,t)}if(typeof e!="string")throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function qi(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xc(e){var t=e._init;return t(e._payload)}function Zc(e){function t(O,E){if(e){var I=O.deletions;I===null?(O.deletions=[E],O.flags|=16):I.push(E)}}function n(O,E){if(!e)return null;for(;E!==null;)t(O,E),E=E.sibling;return null}function i(O,E){for(O=new Map;E!==null;)E.key!==null?O.set(E.key,E):O.set(E.index,E),E=E.sibling;return O}function d(O,E){return O=Jr(O,E),O.index=0,O.sibling=null,O}function f(O,E,I){return O.index=I,e?(I=O.alternate,I!==null?(I=I.index,I<E?(O.flags|=2,E):I):(O.flags|=2,E)):(O.flags|=1048576,E)}function g(O){return e&&O.alternate===null&&(O.flags|=2),O}function w(O,E,I,J){return E===null||E.tag!==6?(E=ml(I,O.mode,J),E.return=O,E):(E=d(E,I),E.return=O,E)}function S(O,E,I,J){var ae=I.type;return ae===ne?V(O,E,I.props.children,J,I.key):E!==null&&(E.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===Ce&&Xc(ae)===E.type)?(J=d(E,I.props),J.ref=Vs(O,E,I),J.return=O,J):(J=ga(I.type,I.key,I.props,null,O.mode,J),J.ref=Vs(O,E,I),J.return=O,J)}function M(O,E,I,J){return E===null||E.tag!==4||E.stateNode.containerInfo!==I.containerInfo||E.stateNode.implementation!==I.implementation?(E=pl(I,O.mode,J),E.return=O,E):(E=d(E,I.children||[]),E.return=O,E)}function V(O,E,I,J,ae){return E===null||E.tag!==7?(E=pn(I,O.mode,J,ae),E.return=O,E):(E=d(E,I),E.return=O,E)}function G(O,E,I){if(typeof E=="string"&&E!==""||typeof E=="number")return E=ml(""+E,O.mode,I),E.return=O,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case q:return I=ga(E.type,E.key,E.props,null,O.mode,I),I.ref=Vs(O,null,E),I.return=O,I;case K:return E=pl(E,O.mode,I),E.return=O,E;case Ce:var J=E._init;return G(O,J(E._payload),I)}if(fr(E)||oe(E))return E=pn(E,O.mode,I,null),E.return=O,E;qi(O,E)}return null}function H(O,E,I,J){var ae=E!==null?E.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return ae!==null?null:w(O,E,""+I,J);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case q:return I.key===ae?S(O,E,I,J):null;case K:return I.key===ae?M(O,E,I,J):null;case Ce:return ae=I._init,H(O,E,ae(I._payload),J)}if(fr(I)||oe(I))return ae!==null?null:V(O,E,I,J,null);qi(O,I)}return null}function te(O,E,I,J,ae){if(typeof J=="string"&&J!==""||typeof J=="number")return O=O.get(I)||null,w(E,O,""+J,ae);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case q:return O=O.get(J.key===null?I:J.key)||null,S(E,O,J,ae);case K:return O=O.get(J.key===null?I:J.key)||null,M(E,O,J,ae);case Ce:var ue=J._init;return te(O,E,I,ue(J._payload),ae)}if(fr(J)||oe(J))return O=O.get(I)||null,V(E,O,J,ae,null);qi(E,J)}return null}function se(O,E,I,J){for(var ae=null,ue=null,de=E,me=E=0,ct=null;de!==null&&me<I.length;me++){de.index>me?(ct=de,de=null):ct=de.sibling;var Oe=H(O,de,I[me],J);if(Oe===null){de===null&&(de=ct);break}e&&de&&Oe.alternate===null&&t(O,de),E=f(Oe,E,me),ue===null?ae=Oe:ue.sibling=Oe,ue=Oe,de=ct}if(me===I.length)return n(O,de),We&&on(O,me),ae;if(de===null){for(;me<I.length;me++)de=G(O,I[me],J),de!==null&&(E=f(de,E,me),ue===null?ae=de:ue.sibling=de,ue=de);return We&&on(O,me),ae}for(de=i(O,de);me<I.length;me++)ct=te(de,O,me,I[me],J),ct!==null&&(e&&ct.alternate!==null&&de.delete(ct.key===null?me:ct.key),E=f(ct,E,me),ue===null?ae=ct:ue.sibling=ct,ue=ct);return e&&de.forEach(function(Yr){return t(O,Yr)}),We&&on(O,me),ae}function ie(O,E,I,J){var ae=oe(I);if(typeof ae!="function")throw Error(s(150));if(I=ae.call(I),I==null)throw Error(s(151));for(var ue=ae=null,de=E,me=E=0,ct=null,Oe=I.next();de!==null&&!Oe.done;me++,Oe=I.next()){de.index>me?(ct=de,de=null):ct=de.sibling;var Yr=H(O,de,Oe.value,J);if(Yr===null){de===null&&(de=ct);break}e&&de&&Yr.alternate===null&&t(O,de),E=f(Yr,E,me),ue===null?ae=Yr:ue.sibling=Yr,ue=Yr,de=ct}if(Oe.done)return n(O,de),We&&on(O,me),ae;if(de===null){for(;!Oe.done;me++,Oe=I.next())Oe=G(O,Oe.value,J),Oe!==null&&(E=f(Oe,E,me),ue===null?ae=Oe:ue.sibling=Oe,ue=Oe);return We&&on(O,me),ae}for(de=i(O,de);!Oe.done;me++,Oe=I.next())Oe=te(de,O,me,Oe.value,J),Oe!==null&&(e&&Oe.alternate!==null&&de.delete(Oe.key===null?me:Oe.key),E=f(Oe,E,me),ue===null?ae=Oe:ue.sibling=Oe,ue=Oe);return e&&de.forEach(function(km){return t(O,km)}),We&&on(O,me),ae}function Je(O,E,I,J){if(typeof I=="object"&&I!==null&&I.type===ne&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case q:e:{for(var ae=I.key,ue=E;ue!==null;){if(ue.key===ae){if(ae=I.type,ae===ne){if(ue.tag===7){n(O,ue.sibling),E=d(ue,I.props.children),E.return=O,O=E;break e}}else if(ue.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===Ce&&Xc(ae)===ue.type){n(O,ue.sibling),E=d(ue,I.props),E.ref=Vs(O,ue,I),E.return=O,O=E;break e}n(O,ue);break}else t(O,ue);ue=ue.sibling}I.type===ne?(E=pn(I.props.children,O.mode,J,I.key),E.return=O,O=E):(J=ga(I.type,I.key,I.props,null,O.mode,J),J.ref=Vs(O,E,I),J.return=O,O=J)}return g(O);case K:e:{for(ue=I.key;E!==null;){if(E.key===ue)if(E.tag===4&&E.stateNode.containerInfo===I.containerInfo&&E.stateNode.implementation===I.implementation){n(O,E.sibling),E=d(E,I.children||[]),E.return=O,O=E;break e}else{n(O,E);break}else t(O,E);E=E.sibling}E=pl(I,O.mode,J),E.return=O,O=E}return g(O);case Ce:return ue=I._init,Je(O,E,ue(I._payload),J)}if(fr(I))return se(O,E,I,J);if(oe(I))return ie(O,E,I,J);qi(O,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,E!==null&&E.tag===6?(n(O,E.sibling),E=d(E,I),E.return=O,O=E):(n(O,E),E=ml(I,O.mode,J),E.return=O,O=E),g(O)):n(O,E)}return Je}var Un=Zc(!0),eu=Zc(!1),Ki=Ur(null),Gi=null,Fn=null,ko=null;function jo(){ko=Fn=Gi=null}function No(e){var t=Ki.current;He(Ki),e._currentValue=t}function Eo(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function zn(e,t){Gi=e,ko=Fn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Et=!0),e.firstContext=null)}function qt(e){var t=e._currentValue;if(ko!==e)if(e={context:e,memoizedValue:t,next:null},Fn===null){if(Gi===null)throw Error(s(308));Fn=e,Gi.dependencies={lanes:0,firstContext:e}}else Fn=Fn.next=e;return t}var ln=null;function Co(e){ln===null?ln=[e]:ln.push(e)}function tu(e,t,n,i){var d=t.interleaved;return d===null?(n.next=n,Co(t)):(n.next=d.next,d.next=n),t.interleaved=n,wr(e,i)}function wr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Br=!1;function To(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ru(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function br(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Hr(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(Pe&2)!==0){var d=i.pending;return d===null?t.next=t:(t.next=d.next,d.next=t),i.pending=t,wr(e,n)}return d=i.interleaved,d===null?(t.next=t,Co(i)):(t.next=d.next,d.next=t),i.interleaved=t,wr(e,n)}function Ji(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Ba(e,n)}}function nu(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var d=null,f=null;if(n=n.firstBaseUpdate,n!==null){do{var g={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};f===null?d=f=g:f=f.next=g,n=n.next}while(n!==null);f===null?d=f=t:f=f.next=t}else d=f=t;n={baseState:i.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Yi(e,t,n,i){var d=e.updateQueue;Br=!1;var f=d.firstBaseUpdate,g=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var S=w,M=S.next;S.next=null,g===null?f=M:g.next=M,g=S;var V=e.alternate;V!==null&&(V=V.updateQueue,w=V.lastBaseUpdate,w!==g&&(w===null?V.firstBaseUpdate=M:w.next=M,V.lastBaseUpdate=S))}if(f!==null){var G=d.baseState;g=0,V=M=S=null,w=f;do{var H=w.lane,te=w.eventTime;if((i&H)===H){V!==null&&(V=V.next={eventTime:te,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var se=e,ie=w;switch(H=t,te=n,ie.tag){case 1:if(se=ie.payload,typeof se=="function"){G=se.call(te,G,H);break e}G=se;break e;case 3:se.flags=se.flags&-65537|128;case 0:if(se=ie.payload,H=typeof se=="function"?se.call(te,G,H):se,H==null)break e;G=Z({},G,H);break e;case 2:Br=!0}}w.callback!==null&&w.lane!==0&&(e.flags|=64,H=d.effects,H===null?d.effects=[w]:H.push(w))}else te={eventTime:te,lane:H,tag:w.tag,payload:w.payload,callback:w.callback,next:null},V===null?(M=V=te,S=G):V=V.next=te,g|=H;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;H=w,w=H.next,H.next=null,d.lastBaseUpdate=H,d.shared.pending=null}}while(!0);if(V===null&&(S=G),d.baseState=S,d.firstBaseUpdate=M,d.lastBaseUpdate=V,t=d.shared.interleaved,t!==null){d=t;do g|=d.lane,d=d.next;while(d!==t)}else f===null&&(d.shared.lanes=0);dn|=g,e.lanes=g,e.memoizedState=G}}function su(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],d=i.callback;if(d!==null){if(i.callback=null,i=n,typeof d!="function")throw Error(s(191,d));d.call(i)}}}var qs={},lr=Ur(qs),Ks=Ur(qs),Gs=Ur(qs);function cn(e){if(e===qs)throw Error(s(174));return e}function Po(e,t){switch(Fe(Gs,t),Fe(Ks,e),Fe(lr,qs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ms(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ms(t,e)}He(lr),Fe(lr,t)}function Bn(){He(lr),He(Ks),He(Gs)}function iu(e){cn(Gs.current);var t=cn(lr.current),n=ms(t,e.type);t!==n&&(Fe(Ks,e),Fe(lr,n))}function Oo(e){Ks.current===e&&(He(lr),He(Ks))}var Ve=Ur(0);function Qi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ao=[];function Do(){for(var e=0;e<Ao.length;e++)Ao[e]._workInProgressVersionPrimary=null;Ao.length=0}var Xi=U.ReactCurrentDispatcher,Ro=U.ReactCurrentBatchConfig,un=0,qe=null,nt=null,ot=null,Zi=!1,Js=!1,Ys=0,qf=0;function pt(){throw Error(s(321))}function Io(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Qt(e[n],t[n]))return!1;return!0}function Lo(e,t,n,i,d,f){if(un=f,qe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Xi.current=e===null||e.memoizedState===null?Yf:Qf,e=n(i,d),Js){f=0;do{if(Js=!1,Ys=0,25<=f)throw Error(s(301));f+=1,ot=nt=null,t.updateQueue=null,Xi.current=Xf,e=n(i,d)}while(Js)}if(Xi.current=ra,t=nt!==null&&nt.next!==null,un=0,ot=nt=qe=null,Zi=!1,t)throw Error(s(300));return e}function $o(){var e=Ys!==0;return Ys=0,e}function cr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?qe.memoizedState=ot=e:ot=ot.next=e,ot}function Kt(){if(nt===null){var e=qe.alternate;e=e!==null?e.memoizedState:null}else e=nt.next;var t=ot===null?qe.memoizedState:ot.next;if(t!==null)ot=t,nt=e;else{if(e===null)throw Error(s(310));nt=e,e={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},ot===null?qe.memoizedState=ot=e:ot=ot.next=e}return ot}function Qs(e,t){return typeof t=="function"?t(e):t}function Mo(e){var t=Kt(),n=t.queue;if(n===null)throw Error(s(311));n.lastRenderedReducer=e;var i=nt,d=i.baseQueue,f=n.pending;if(f!==null){if(d!==null){var g=d.next;d.next=f.next,f.next=g}i.baseQueue=d=f,n.pending=null}if(d!==null){f=d.next,i=i.baseState;var w=g=null,S=null,M=f;do{var V=M.lane;if((un&V)===V)S!==null&&(S=S.next={lane:0,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),i=M.hasEagerState?M.eagerState:e(i,M.action);else{var G={lane:V,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null};S===null?(w=S=G,g=i):S=S.next=G,qe.lanes|=V,dn|=V}M=M.next}while(M!==null&&M!==f);S===null?g=i:S.next=w,Qt(i,t.memoizedState)||(Et=!0),t.memoizedState=i,t.baseState=g,t.baseQueue=S,n.lastRenderedState=i}if(e=n.interleaved,e!==null){d=e;do f=d.lane,qe.lanes|=f,dn|=f,d=d.next;while(d!==e)}else d===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Uo(e){var t=Kt(),n=t.queue;if(n===null)throw Error(s(311));n.lastRenderedReducer=e;var i=n.dispatch,d=n.pending,f=t.memoizedState;if(d!==null){n.pending=null;var g=d=d.next;do f=e(f,g.action),g=g.next;while(g!==d);Qt(f,t.memoizedState)||(Et=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),n.lastRenderedState=f}return[f,i]}function au(){}function ou(e,t){var n=qe,i=Kt(),d=t(),f=!Qt(i.memoizedState,d);if(f&&(i.memoizedState=d,Et=!0),i=i.queue,Fo(uu.bind(null,n,i,e),[e]),i.getSnapshot!==t||f||ot!==null&&ot.memoizedState.tag&1){if(n.flags|=2048,Xs(9,cu.bind(null,n,i,d,t),void 0,null),lt===null)throw Error(s(349));(un&30)!==0||lu(n,t,d)}return d}function lu(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=qe.updateQueue,t===null?(t={lastEffect:null,stores:null},qe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function cu(e,t,n,i){t.value=n,t.getSnapshot=i,du(t)&&hu(e)}function uu(e,t,n){return n(function(){du(t)&&hu(e)})}function du(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qt(e,n)}catch{return!0}}function hu(e){var t=wr(e,1);t!==null&&rr(t,e,1,-1)}function fu(e){var t=cr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qs,lastRenderedState:e},t.queue=e,e=e.dispatch=Jf.bind(null,qe,e),[t.memoizedState,e]}function Xs(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=qe.updateQueue,t===null?(t={lastEffect:null,stores:null},qe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function mu(){return Kt().memoizedState}function ea(e,t,n,i){var d=cr();qe.flags|=e,d.memoizedState=Xs(1|t,n,void 0,i===void 0?null:i)}function ta(e,t,n,i){var d=Kt();i=i===void 0?null:i;var f=void 0;if(nt!==null){var g=nt.memoizedState;if(f=g.destroy,i!==null&&Io(i,g.deps)){d.memoizedState=Xs(t,n,f,i);return}}qe.flags|=e,d.memoizedState=Xs(1|t,n,f,i)}function pu(e,t){return ea(8390656,8,e,t)}function Fo(e,t){return ta(2048,8,e,t)}function gu(e,t){return ta(4,2,e,t)}function yu(e,t){return ta(4,4,e,t)}function vu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function xu(e,t,n){return n=n!=null?n.concat([e]):null,ta(4,4,vu.bind(null,t,e),n)}function zo(){}function wu(e,t){var n=Kt();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&Io(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function bu(e,t){var n=Kt();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&Io(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function _u(e,t,n){return(un&21)===0?(e.baseState&&(e.baseState=!1,Et=!0),e.memoizedState=n):(Qt(n,t)||(n=Xl(),qe.lanes|=n,dn|=n,e.baseState=!0),t)}function Kf(e,t){var n=Ie;Ie=n!==0&&4>n?n:4,e(!0);var i=Ro.transition;Ro.transition={};try{e(!1),t()}finally{Ie=n,Ro.transition=i}}function Su(){return Kt().memoizedState}function Gf(e,t,n){var i=Kr(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},ku(e))ju(t,n);else if(n=tu(e,t,n,i),n!==null){var d=wt();rr(n,e,i,d),Nu(n,t,i)}}function Jf(e,t,n){var i=Kr(e),d={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(ku(e))ju(t,d);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var g=t.lastRenderedState,w=f(g,n);if(d.hasEagerState=!0,d.eagerState=w,Qt(w,g)){var S=t.interleaved;S===null?(d.next=d,Co(t)):(d.next=S.next,S.next=d),t.interleaved=d;return}}catch{}finally{}n=tu(e,t,d,i),n!==null&&(d=wt(),rr(n,e,i,d),Nu(n,t,i))}}function ku(e){var t=e.alternate;return e===qe||t!==null&&t===qe}function ju(e,t){Js=Zi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Nu(e,t,n){if((n&4194240)!==0){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Ba(e,n)}}var ra={readContext:qt,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useInsertionEffect:pt,useLayoutEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useMutableSource:pt,useSyncExternalStore:pt,useId:pt,unstable_isNewReconciler:!1},Yf={readContext:qt,useCallback:function(e,t){return cr().memoizedState=[e,t===void 0?null:t],e},useContext:qt,useEffect:pu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ea(4194308,4,vu.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ea(4194308,4,e,t)},useInsertionEffect:function(e,t){return ea(4,2,e,t)},useMemo:function(e,t){var n=cr();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=cr();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=Gf.bind(null,qe,e),[i.memoizedState,e]},useRef:function(e){var t=cr();return e={current:e},t.memoizedState=e},useState:fu,useDebugValue:zo,useDeferredValue:function(e){return cr().memoizedState=e},useTransition:function(){var e=fu(!1),t=e[0];return e=Kf.bind(null,e[1]),cr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=qe,d=cr();if(We){if(n===void 0)throw Error(s(407));n=n()}else{if(n=t(),lt===null)throw Error(s(349));(un&30)!==0||lu(i,t,n)}d.memoizedState=n;var f={value:n,getSnapshot:t};return d.queue=f,pu(uu.bind(null,i,f,e),[e]),i.flags|=2048,Xs(9,cu.bind(null,i,f,n,t),void 0,null),n},useId:function(){var e=cr(),t=lt.identifierPrefix;if(We){var n=xr,i=vr;n=(i&~(1<<32-Lt(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ys++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=qf++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Qf={readContext:qt,useCallback:wu,useContext:qt,useEffect:Fo,useImperativeHandle:xu,useInsertionEffect:gu,useLayoutEffect:yu,useMemo:bu,useReducer:Mo,useRef:mu,useState:function(){return Mo(Qs)},useDebugValue:zo,useDeferredValue:function(e){var t=Kt();return _u(t,nt.memoizedState,e)},useTransition:function(){var e=Mo(Qs)[0],t=Kt().memoizedState;return[e,t]},useMutableSource:au,useSyncExternalStore:ou,useId:Su,unstable_isNewReconciler:!1},Xf={readContext:qt,useCallback:wu,useContext:qt,useEffect:Fo,useImperativeHandle:xu,useInsertionEffect:gu,useLayoutEffect:yu,useMemo:bu,useReducer:Uo,useRef:mu,useState:function(){return Uo(Qs)},useDebugValue:zo,useDeferredValue:function(e){var t=Kt();return nt===null?t.memoizedState=e:_u(t,nt.memoizedState,e)},useTransition:function(){var e=Uo(Qs)[0],t=Kt().memoizedState;return[e,t]},useMutableSource:au,useSyncExternalStore:ou,useId:Su,unstable_isNewReconciler:!1};function Zt(e,t){if(e&&e.defaultProps){t=Z({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Bo(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:Z({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var na={isMounted:function(e){return(e=e._reactInternals)?rt(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=wt(),d=Kr(e),f=br(i,d);f.payload=t,n!=null&&(f.callback=n),t=Hr(e,f,d),t!==null&&(rr(t,e,d,i),Ji(t,e,d))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=wt(),d=Kr(e),f=br(i,d);f.tag=1,f.payload=t,n!=null&&(f.callback=n),t=Hr(e,f,d),t!==null&&(rr(t,e,d,i),Ji(t,e,d))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=wt(),i=Kr(e),d=br(n,i);d.tag=2,t!=null&&(d.callback=t),t=Hr(e,d,i),t!==null&&(rr(t,e,i,n),Ji(t,e,i))}};function Eu(e,t,n,i,d,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,f,g):t.prototype&&t.prototype.isPureReactComponent?!Ms(n,i)||!Ms(d,f):!0}function Cu(e,t,n){var i=!1,d=Fr,f=t.contextType;return typeof f=="object"&&f!==null?f=qt(f):(d=Nt(t)?sn:mt.current,i=t.contextTypes,f=(i=i!=null)?In(e,d):Fr),t=new t(n,f),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=na,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=d,e.__reactInternalMemoizedMaskedChildContext=f),t}function Tu(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&na.enqueueReplaceState(t,t.state,null)}function Ho(e,t,n,i){var d=e.stateNode;d.props=n,d.state=e.memoizedState,d.refs={},To(e);var f=t.contextType;typeof f=="object"&&f!==null?d.context=qt(f):(f=Nt(t)?sn:mt.current,d.context=In(e,f)),d.state=e.memoizedState,f=t.getDerivedStateFromProps,typeof f=="function"&&(Bo(e,t,f,n),d.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(t=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),t!==d.state&&na.enqueueReplaceState(d,d.state,null),Yi(e,n,d,i),d.state=e.memoizedState),typeof d.componentDidMount=="function"&&(e.flags|=4194308)}function Hn(e,t){try{var n="",i=t;do n+=ce(i),i=i.return;while(i);var d=n}catch(f){d=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:t,stack:d,digest:null}}function Wo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Vo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Zf=typeof WeakMap=="function"?WeakMap:Map;function Pu(e,t,n){n=br(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){ua||(ua=!0,al=i),Vo(e,t)},n}function Ou(e,t,n){n=br(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var d=t.value;n.payload=function(){return i(d)},n.callback=function(){Vo(e,t)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(n.callback=function(){Vo(e,t),typeof i!="function"&&(Vr===null?Vr=new Set([this]):Vr.add(this));var g=t.stack;this.componentDidCatch(t.value,{componentStack:g!==null?g:""})}),n}function Au(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new Zf;var d=new Set;i.set(t,d)}else d=i.get(t),d===void 0&&(d=new Set,i.set(t,d));d.has(n)||(d.add(n),e=fm.bind(null,e,t,n),t.then(e,e))}function Du(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ru(e,t,n,i,d){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=br(-1,1),t.tag=2,Hr(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=d,e)}var em=U.ReactCurrentOwner,Et=!1;function xt(e,t,n,i){t.child=e===null?eu(t,null,n,i):Un(t,e.child,n,i)}function Iu(e,t,n,i,d){n=n.render;var f=t.ref;return zn(t,d),i=Lo(e,t,n,i,f,d),n=$o(),e!==null&&!Et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~d,_r(e,t,d)):(We&&n&&xo(t),t.flags|=1,xt(e,t,i,d),t.child)}function Lu(e,t,n,i,d){if(e===null){var f=n.type;return typeof f=="function"&&!fl(f)&&f.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=f,$u(e,t,f,i,d)):(e=ga(n.type,null,i,t,t.mode,d),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,(e.lanes&d)===0){var g=f.memoizedProps;if(n=n.compare,n=n!==null?n:Ms,n(g,i)&&e.ref===t.ref)return _r(e,t,d)}return t.flags|=1,e=Jr(f,i),e.ref=t.ref,e.return=t,t.child=e}function $u(e,t,n,i,d){if(e!==null){var f=e.memoizedProps;if(Ms(f,i)&&e.ref===t.ref)if(Et=!1,t.pendingProps=i=f,(e.lanes&d)!==0)(e.flags&131072)!==0&&(Et=!0);else return t.lanes=e.lanes,_r(e,t,d)}return qo(e,t,n,i,d)}function Mu(e,t,n){var i=t.pendingProps,d=i.children,f=e!==null?e.memoizedState:null;if(i.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(Vn,Ft),Ft|=n;else{if((n&1073741824)===0)return e=f!==null?f.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Fe(Vn,Ft),Ft|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=f!==null?f.baseLanes:n,Fe(Vn,Ft),Ft|=i}else f!==null?(i=f.baseLanes|n,t.memoizedState=null):i=n,Fe(Vn,Ft),Ft|=i;return xt(e,t,d,n),t.child}function Uu(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function qo(e,t,n,i,d){var f=Nt(n)?sn:mt.current;return f=In(t,f),zn(t,d),n=Lo(e,t,n,i,f,d),i=$o(),e!==null&&!Et?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~d,_r(e,t,d)):(We&&i&&xo(t),t.flags|=1,xt(e,t,n,d),t.child)}function Fu(e,t,n,i,d){if(Nt(n)){var f=!0;zi(t)}else f=!1;if(zn(t,d),t.stateNode===null)ia(e,t),Cu(t,n,i),Ho(t,n,i,d),i=!0;else if(e===null){var g=t.stateNode,w=t.memoizedProps;g.props=w;var S=g.context,M=n.contextType;typeof M=="object"&&M!==null?M=qt(M):(M=Nt(n)?sn:mt.current,M=In(t,M));var V=n.getDerivedStateFromProps,G=typeof V=="function"||typeof g.getSnapshotBeforeUpdate=="function";G||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==i||S!==M)&&Tu(t,g,i,M),Br=!1;var H=t.memoizedState;g.state=H,Yi(t,i,g,d),S=t.memoizedState,w!==i||H!==S||jt.current||Br?(typeof V=="function"&&(Bo(t,n,V,i),S=t.memoizedState),(w=Br||Eu(t,n,w,i,H,S,M))?(G||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(t.flags|=4194308)):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=S),g.props=i,g.state=S,g.context=M,i=w):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{g=t.stateNode,ru(e,t),w=t.memoizedProps,M=t.type===t.elementType?w:Zt(t.type,w),g.props=M,G=t.pendingProps,H=g.context,S=n.contextType,typeof S=="object"&&S!==null?S=qt(S):(S=Nt(n)?sn:mt.current,S=In(t,S));var te=n.getDerivedStateFromProps;(V=typeof te=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w!==G||H!==S)&&Tu(t,g,i,S),Br=!1,H=t.memoizedState,g.state=H,Yi(t,i,g,d);var se=t.memoizedState;w!==G||H!==se||jt.current||Br?(typeof te=="function"&&(Bo(t,n,te,i),se=t.memoizedState),(M=Br||Eu(t,n,M,i,H,se,S)||!1)?(V||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(i,se,S),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(i,se,S)),typeof g.componentDidUpdate=="function"&&(t.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof g.componentDidUpdate!="function"||w===e.memoizedProps&&H===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&H===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=se),g.props=i,g.state=se,g.context=S,i=M):(typeof g.componentDidUpdate!="function"||w===e.memoizedProps&&H===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&H===e.memoizedState||(t.flags|=1024),i=!1)}return Ko(e,t,n,i,f,d)}function Ko(e,t,n,i,d,f){Uu(e,t);var g=(t.flags&128)!==0;if(!i&&!g)return d&&Vc(t,n,!1),_r(e,t,f);i=t.stateNode,em.current=t;var w=g&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&g?(t.child=Un(t,e.child,null,f),t.child=Un(t,null,w,f)):xt(e,t,w,f),t.memoizedState=i.state,d&&Vc(t,n,!0),t.child}function zu(e){var t=e.stateNode;t.pendingContext?Hc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Hc(e,t.context,!1),Po(e,t.containerInfo)}function Bu(e,t,n,i,d){return Mn(),So(d),t.flags|=256,xt(e,t,n,i),t.child}var Go={dehydrated:null,treeContext:null,retryLane:0};function Jo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Hu(e,t,n){var i=t.pendingProps,d=Ve.current,f=!1,g=(t.flags&128)!==0,w;if((w=g)||(w=e!==null&&e.memoizedState===null?!1:(d&2)!==0),w?(f=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(d|=1),Fe(Ve,d&1),e===null)return _o(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(g=i.children,e=i.fallback,f?(i=t.mode,f=t.child,g={mode:"hidden",children:g},(i&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=g):f=ya(g,i,0,null),e=pn(e,i,n,null),f.return=t,e.return=t,f.sibling=e,t.child=f,t.child.memoizedState=Jo(n),t.memoizedState=Go,e):Yo(t,g));if(d=e.memoizedState,d!==null&&(w=d.dehydrated,w!==null))return tm(e,t,g,i,w,d,n);if(f){f=i.fallback,g=t.mode,d=e.child,w=d.sibling;var S={mode:"hidden",children:i.children};return(g&1)===0&&t.child!==d?(i=t.child,i.childLanes=0,i.pendingProps=S,t.deletions=null):(i=Jr(d,S),i.subtreeFlags=d.subtreeFlags&14680064),w!==null?f=Jr(w,f):(f=pn(f,g,n,null),f.flags|=2),f.return=t,i.return=t,i.sibling=f,t.child=i,i=f,f=t.child,g=e.child.memoizedState,g=g===null?Jo(n):{baseLanes:g.baseLanes|n,cachePool:null,transitions:g.transitions},f.memoizedState=g,f.childLanes=e.childLanes&~n,t.memoizedState=Go,i}return f=e.child,e=f.sibling,i=Jr(f,{mode:"visible",children:i.children}),(t.mode&1)===0&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Yo(e,t){return t=ya({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function sa(e,t,n,i){return i!==null&&So(i),Un(t,e.child,null,n),e=Yo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function tm(e,t,n,i,d,f,g){if(n)return t.flags&256?(t.flags&=-257,i=Wo(Error(s(422))),sa(e,t,g,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(f=i.fallback,d=t.mode,i=ya({mode:"visible",children:i.children},d,0,null),f=pn(f,d,g,null),f.flags|=2,i.return=t,f.return=t,i.sibling=f,t.child=i,(t.mode&1)!==0&&Un(t,e.child,null,g),t.child.memoizedState=Jo(g),t.memoizedState=Go,f);if((t.mode&1)===0)return sa(e,t,g,null);if(d.data==="$!"){if(i=d.nextSibling&&d.nextSibling.dataset,i)var w=i.dgst;return i=w,f=Error(s(419)),i=Wo(f,i,void 0),sa(e,t,g,i)}if(w=(g&e.childLanes)!==0,Et||w){if(i=lt,i!==null){switch(g&-g){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(i.suspendedLanes|g))!==0?0:d,d!==0&&d!==f.retryLane&&(f.retryLane=d,wr(e,d),rr(i,e,d,-1))}return hl(),i=Wo(Error(s(421))),sa(e,t,g,i)}return d.data==="$?"?(t.flags|=128,t.child=e.child,t=mm.bind(null,e),d._reactRetry=t,null):(e=f.treeContext,Ut=Mr(d.nextSibling),Mt=t,We=!0,Xt=null,e!==null&&(Wt[Vt++]=vr,Wt[Vt++]=xr,Wt[Vt++]=an,vr=e.id,xr=e.overflow,an=t),t=Yo(t,i.children),t.flags|=4096,t)}function Wu(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Eo(e.return,t,n)}function Qo(e,t,n,i,d){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:d}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=i,f.tail=n,f.tailMode=d)}function Vu(e,t,n){var i=t.pendingProps,d=i.revealOrder,f=i.tail;if(xt(e,t,i.children,n),i=Ve.current,(i&2)!==0)i=i&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wu(e,n,t);else if(e.tag===19)Wu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Fe(Ve,i),(t.mode&1)===0)t.memoizedState=null;else switch(d){case"forwards":for(n=t.child,d=null;n!==null;)e=n.alternate,e!==null&&Qi(e)===null&&(d=n),n=n.sibling;n=d,n===null?(d=t.child,t.child=null):(d=n.sibling,n.sibling=null),Qo(t,!1,d,n,f);break;case"backwards":for(n=null,d=t.child,t.child=null;d!==null;){if(e=d.alternate,e!==null&&Qi(e)===null){t.child=d;break}e=d.sibling,d.sibling=n,n=d,d=e}Qo(t,!0,n,null,f);break;case"together":Qo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ia(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function _r(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),dn|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,n=Jr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Jr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function rm(e,t,n){switch(t.tag){case 3:zu(t),Mn();break;case 5:iu(t);break;case 1:Nt(t.type)&&zi(t);break;case 4:Po(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,d=t.memoizedProps.value;Fe(Ki,i._currentValue),i._currentValue=d;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(Fe(Ve,Ve.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?Hu(e,t,n):(Fe(Ve,Ve.current&1),e=_r(e,t,n),e!==null?e.sibling:null);Fe(Ve,Ve.current&1);break;case 19:if(i=(n&t.childLanes)!==0,(e.flags&128)!==0){if(i)return Vu(e,t,n);t.flags|=128}if(d=t.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Fe(Ve,Ve.current),i)break;return null;case 22:case 23:return t.lanes=0,Mu(e,t,n)}return _r(e,t,n)}var qu,Xo,Ku,Gu;qu=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Xo=function(){},Ku=function(e,t,n,i){var d=e.memoizedProps;if(d!==i){e=t.stateNode,cn(lr.current);var f=null;switch(n){case"input":d=le(e,d),i=le(e,i),f=[];break;case"select":d=Z({},d,{value:void 0}),i=Z({},i,{value:void 0}),f=[];break;case"textarea":d=ds(e,d),i=ds(e,i),f=[];break;default:typeof d.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=Mi)}Dt(n,i);var g;n=null;for(M in d)if(!i.hasOwnProperty(M)&&d.hasOwnProperty(M)&&d[M]!=null)if(M==="style"){var w=d[M];for(g in w)w.hasOwnProperty(g)&&(n||(n={}),n[g]="")}else M!=="dangerouslySetInnerHTML"&&M!=="children"&&M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&M!=="autoFocus"&&(o.hasOwnProperty(M)?f||(f=[]):(f=f||[]).push(M,null));for(M in i){var S=i[M];if(w=d!=null?d[M]:void 0,i.hasOwnProperty(M)&&S!==w&&(S!=null||w!=null))if(M==="style")if(w){for(g in w)!w.hasOwnProperty(g)||S&&S.hasOwnProperty(g)||(n||(n={}),n[g]="");for(g in S)S.hasOwnProperty(g)&&w[g]!==S[g]&&(n||(n={}),n[g]=S[g])}else n||(f||(f=[]),f.push(M,n)),n=S;else M==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,w=w?w.__html:void 0,S!=null&&w!==S&&(f=f||[]).push(M,S)):M==="children"?typeof S!="string"&&typeof S!="number"||(f=f||[]).push(M,""+S):M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&(o.hasOwnProperty(M)?(S!=null&&M==="onScroll"&&Be("scroll",e),f||w===S||(f=[])):(f=f||[]).push(M,S))}n&&(f=f||[]).push("style",n);var M=f;(t.updateQueue=M)&&(t.flags|=4)}},Gu=function(e,t,n,i){n!==i&&(t.flags|=4)};function Zs(e,t){if(!We)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function gt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var d=e.child;d!==null;)n|=d.lanes|d.childLanes,i|=d.subtreeFlags&14680064,i|=d.flags&14680064,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)n|=d.lanes|d.childLanes,i|=d.subtreeFlags,i|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function nm(e,t,n){var i=t.pendingProps;switch(wo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(t),null;case 1:return Nt(t.type)&&Fi(),gt(t),null;case 3:return i=t.stateNode,Bn(),He(jt),He(mt),Do(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Vi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Xt!==null&&(cl(Xt),Xt=null))),Xo(e,t),gt(t),null;case 5:Oo(t);var d=cn(Gs.current);if(n=t.type,e!==null&&t.stateNode!=null)Ku(e,t,n,i,d),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(s(166));return gt(t),null}if(e=cn(lr.current),Vi(t)){i=t.stateNode,n=t.type;var f=t.memoizedProps;switch(i[or]=t,i[Hs]=f,e=(t.mode&1)!==0,n){case"dialog":Be("cancel",i),Be("close",i);break;case"iframe":case"object":case"embed":Be("load",i);break;case"video":case"audio":for(d=0;d<Fs.length;d++)Be(Fs[d],i);break;case"source":Be("error",i);break;case"img":case"image":case"link":Be("error",i),Be("load",i);break;case"details":Be("toggle",i);break;case"input":ve(i,f),Be("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!f.multiple},Be("invalid",i);break;case"textarea":tn(i,f),Be("invalid",i)}Dt(n,f),d=null;for(var g in f)if(f.hasOwnProperty(g)){var w=f[g];g==="children"?typeof w=="string"?i.textContent!==w&&(f.suppressHydrationWarning!==!0&&$i(i.textContent,w,e),d=["children",w]):typeof w=="number"&&i.textContent!==""+w&&(f.suppressHydrationWarning!==!0&&$i(i.textContent,w,e),d=["children",""+w]):o.hasOwnProperty(g)&&w!=null&&g==="onScroll"&&Be("scroll",i)}switch(n){case"input":F(i),Qe(i,f,!0);break;case"textarea":F(i),fs(i);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(i.onclick=Mi)}i=d,t.updateQueue=i,i!==null&&(t.flags|=4)}else{g=d.nodeType===9?d:d.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=gi(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=g.createElement(n,{is:i.is}):(e=g.createElement(n),n==="select"&&(g=e,i.multiple?g.multiple=!0:i.size&&(g.size=i.size))):e=g.createElementNS(e,n),e[or]=t,e[Hs]=i,qu(e,t,!1,!1),t.stateNode=e;e:{switch(g=ps(n,i),n){case"dialog":Be("cancel",e),Be("close",e),d=i;break;case"iframe":case"object":case"embed":Be("load",e),d=i;break;case"video":case"audio":for(d=0;d<Fs.length;d++)Be(Fs[d],e);d=i;break;case"source":Be("error",e),d=i;break;case"img":case"image":case"link":Be("error",e),Be("load",e),d=i;break;case"details":Be("toggle",e),d=i;break;case"input":ve(e,i),d=le(e,i),Be("invalid",e);break;case"option":d=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},d=Z({},i,{value:void 0}),Be("invalid",e);break;case"textarea":tn(e,i),d=ds(e,i),Be("invalid",e);break;default:d=i}Dt(n,d),w=d;for(f in w)if(w.hasOwnProperty(f)){var S=w[f];f==="style"?Pr(e,S):f==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,S!=null&&yi(e,S)):f==="children"?typeof S=="string"?(n!=="textarea"||S!=="")&&Cr(e,S):typeof S=="number"&&Cr(e,""+S):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(o.hasOwnProperty(f)?S!=null&&f==="onScroll"&&Be("scroll",e):S!=null&&D(e,f,S,g))}switch(n){case"input":F(e),Qe(e,i,!1);break;case"textarea":F(e),fs(e);break;case"option":i.value!=null&&e.setAttribute("value",""+Ne(i.value));break;case"select":e.multiple=!!i.multiple,f=i.value,f!=null?Nr(e,!!i.multiple,f,!1):i.defaultValue!=null&&Nr(e,!!i.multiple,i.defaultValue,!0);break;default:typeof d.onClick=="function"&&(e.onclick=Mi)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return gt(t),null;case 6:if(e&&t.stateNode!=null)Gu(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(s(166));if(n=cn(Gs.current),cn(lr.current),Vi(t)){if(i=t.stateNode,n=t.memoizedProps,i[or]=t,(f=i.nodeValue!==n)&&(e=Mt,e!==null))switch(e.tag){case 3:$i(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&$i(i.nodeValue,n,(e.mode&1)!==0)}f&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[or]=t,t.stateNode=i}return gt(t),null;case 13:if(He(Ve),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(We&&Ut!==null&&(t.mode&1)!==0&&(t.flags&128)===0)Qc(),Mn(),t.flags|=98560,f=!1;else if(f=Vi(t),i!==null&&i.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[or]=t}else Mn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;gt(t),f=!1}else Xt!==null&&(cl(Xt),Xt=null),f=!0;if(!f)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ve.current&1)!==0?st===0&&(st=3):hl())),t.updateQueue!==null&&(t.flags|=4),gt(t),null);case 4:return Bn(),Xo(e,t),e===null&&zs(t.stateNode.containerInfo),gt(t),null;case 10:return No(t.type._context),gt(t),null;case 17:return Nt(t.type)&&Fi(),gt(t),null;case 19:if(He(Ve),f=t.memoizedState,f===null)return gt(t),null;if(i=(t.flags&128)!==0,g=f.rendering,g===null)if(i)Zs(f,!1);else{if(st!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(g=Qi(e),g!==null){for(t.flags|=128,Zs(f,!1),i=g.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)f=n,e=i,f.flags&=14680066,g=f.alternate,g===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,e=g.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Fe(Ve,Ve.current&1|2),t.child}e=e.sibling}f.tail!==null&&we()>qn&&(t.flags|=128,i=!0,Zs(f,!1),t.lanes=4194304)}else{if(!i)if(e=Qi(g),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Zs(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!We)return gt(t),null}else 2*we()-f.renderingStartTime>qn&&n!==1073741824&&(t.flags|=128,i=!0,Zs(f,!1),t.lanes=4194304);f.isBackwards?(g.sibling=t.child,t.child=g):(n=f.last,n!==null?n.sibling=g:t.child=g,f.last=g)}return f.tail!==null?(t=f.tail,f.rendering=t,f.tail=t.sibling,f.renderingStartTime=we(),t.sibling=null,n=Ve.current,Fe(Ve,i?n&1|2:n&1),t):(gt(t),null);case 22:case 23:return dl(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&(t.mode&1)!==0?(Ft&1073741824)!==0&&(gt(t),t.subtreeFlags&6&&(t.flags|=8192)):gt(t),null;case 24:return null;case 25:return null}throw Error(s(156,t.tag))}function sm(e,t){switch(wo(t),t.tag){case 1:return Nt(t.type)&&Fi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Bn(),He(jt),He(mt),Do(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Oo(t),null;case 13:if(He(Ve),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));Mn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return He(Ve),null;case 4:return Bn(),null;case 10:return No(t.type._context),null;case 22:case 23:return dl(),null;case 24:return null;default:return null}}var aa=!1,yt=!1,im=typeof WeakSet=="function"?WeakSet:Set,re=null;function Wn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Ke(e,t,i)}else n.current=null}function Zo(e,t,n){try{n()}catch(i){Ke(e,t,i)}}var Ju=!1;function am(e,t){if(uo=Ni,e=Ec(),ro(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var d=i.anchorOffset,f=i.focusNode;i=i.focusOffset;try{n.nodeType,f.nodeType}catch{n=null;break e}var g=0,w=-1,S=-1,M=0,V=0,G=e,H=null;t:for(;;){for(var te;G!==n||d!==0&&G.nodeType!==3||(w=g+d),G!==f||i!==0&&G.nodeType!==3||(S=g+i),G.nodeType===3&&(g+=G.nodeValue.length),(te=G.firstChild)!==null;)H=G,G=te;for(;;){if(G===e)break t;if(H===n&&++M===d&&(w=g),H===f&&++V===i&&(S=g),(te=G.nextSibling)!==null)break;G=H,H=G.parentNode}G=te}n=w===-1||S===-1?null:{start:w,end:S}}else n=null}n=n||{start:0,end:0}}else n=null;for(ho={focusedElem:e,selectionRange:n},Ni=!1,re=t;re!==null;)if(t=re,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,re=e;else for(;re!==null;){t=re;try{var se=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(se!==null){var ie=se.memoizedProps,Je=se.memoizedState,O=t.stateNode,E=O.getSnapshotBeforeUpdate(t.elementType===t.type?ie:Zt(t.type,ie),Je);O.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var I=t.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(J){Ke(t,t.return,J)}if(e=t.sibling,e!==null){e.return=t.return,re=e;break}re=t.return}return se=Ju,Ju=!1,se}function ei(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var d=i=i.next;do{if((d.tag&e)===e){var f=d.destroy;d.destroy=void 0,f!==void 0&&Zo(t,n,f)}d=d.next}while(d!==i)}}function oa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function el(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Yu(e){var t=e.alternate;t!==null&&(e.alternate=null,Yu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[or],delete t[Hs],delete t[go],delete t[Bf],delete t[Hf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Qu(e){return e.tag===5||e.tag===3||e.tag===4}function Xu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Qu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function tl(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Mi));else if(i!==4&&(e=e.child,e!==null))for(tl(e,t,n),e=e.sibling;e!==null;)tl(e,t,n),e=e.sibling}function rl(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(rl(e,t,n),e=e.sibling;e!==null;)rl(e,t,n),e=e.sibling}var ht=null,er=!1;function Wr(e,t,n){for(n=n.child;n!==null;)Zu(e,t,n),n=n.sibling}function Zu(e,t,n){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(Or,n)}catch{}switch(n.tag){case 5:yt||Wn(n,t);case 6:var i=ht,d=er;ht=null,Wr(e,t,n),ht=i,er=d,ht!==null&&(er?(e=ht,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ht.removeChild(n.stateNode));break;case 18:ht!==null&&(er?(e=ht,n=n.stateNode,e.nodeType===8?po(e.parentNode,n):e.nodeType===1&&po(e,n),As(e)):po(ht,n.stateNode));break;case 4:i=ht,d=er,ht=n.stateNode.containerInfo,er=!0,Wr(e,t,n),ht=i,er=d;break;case 0:case 11:case 14:case 15:if(!yt&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){d=i=i.next;do{var f=d,g=f.destroy;f=f.tag,g!==void 0&&((f&2)!==0||(f&4)!==0)&&Zo(n,t,g),d=d.next}while(d!==i)}Wr(e,t,n);break;case 1:if(!yt&&(Wn(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(w){Ke(n,t,w)}Wr(e,t,n);break;case 21:Wr(e,t,n);break;case 22:n.mode&1?(yt=(i=yt)||n.memoizedState!==null,Wr(e,t,n),yt=i):Wr(e,t,n);break;default:Wr(e,t,n)}}function ed(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new im),t.forEach(function(i){var d=pm.bind(null,e,i);n.has(i)||(n.add(i),i.then(d,d))})}}function tr(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var d=n[i];try{var f=e,g=t,w=g;e:for(;w!==null;){switch(w.tag){case 5:ht=w.stateNode,er=!1;break e;case 3:ht=w.stateNode.containerInfo,er=!0;break e;case 4:ht=w.stateNode.containerInfo,er=!0;break e}w=w.return}if(ht===null)throw Error(s(160));Zu(f,g,d),ht=null,er=!1;var S=d.alternate;S!==null&&(S.return=null),d.return=null}catch(M){Ke(d,t,M)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)td(t,e),t=t.sibling}function td(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(tr(t,e),ur(e),i&4){try{ei(3,e,e.return),oa(3,e)}catch(ie){Ke(e,e.return,ie)}try{ei(5,e,e.return)}catch(ie){Ke(e,e.return,ie)}}break;case 1:tr(t,e),ur(e),i&512&&n!==null&&Wn(n,n.return);break;case 5:if(tr(t,e),ur(e),i&512&&n!==null&&Wn(n,n.return),e.flags&32){var d=e.stateNode;try{Cr(d,"")}catch(ie){Ke(e,e.return,ie)}}if(i&4&&(d=e.stateNode,d!=null)){var f=e.memoizedProps,g=n!==null?n.memoizedProps:f,w=e.type,S=e.updateQueue;if(e.updateQueue=null,S!==null)try{w==="input"&&f.type==="radio"&&f.name!=null&&Ye(d,f),ps(w,g);var M=ps(w,f);for(g=0;g<S.length;g+=2){var V=S[g],G=S[g+1];V==="style"?Pr(d,G):V==="dangerouslySetInnerHTML"?yi(d,G):V==="children"?Cr(d,G):D(d,V,G,M)}switch(w){case"input":Yt(d,f);break;case"textarea":hs(d,f);break;case"select":var H=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!f.multiple;var te=f.value;te!=null?Nr(d,!!f.multiple,te,!1):H!==!!f.multiple&&(f.defaultValue!=null?Nr(d,!!f.multiple,f.defaultValue,!0):Nr(d,!!f.multiple,f.multiple?[]:"",!1))}d[Hs]=f}catch(ie){Ke(e,e.return,ie)}}break;case 6:if(tr(t,e),ur(e),i&4){if(e.stateNode===null)throw Error(s(162));d=e.stateNode,f=e.memoizedProps;try{d.nodeValue=f}catch(ie){Ke(e,e.return,ie)}}break;case 3:if(tr(t,e),ur(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{As(t.containerInfo)}catch(ie){Ke(e,e.return,ie)}break;case 4:tr(t,e),ur(e);break;case 13:tr(t,e),ur(e),d=e.child,d.flags&8192&&(f=d.memoizedState!==null,d.stateNode.isHidden=f,!f||d.alternate!==null&&d.alternate.memoizedState!==null||(il=we())),i&4&&ed(e);break;case 22:if(V=n!==null&&n.memoizedState!==null,e.mode&1?(yt=(M=yt)||V,tr(t,e),yt=M):tr(t,e),ur(e),i&8192){if(M=e.memoizedState!==null,(e.stateNode.isHidden=M)&&!V&&(e.mode&1)!==0)for(re=e,V=e.child;V!==null;){for(G=re=V;re!==null;){switch(H=re,te=H.child,H.tag){case 0:case 11:case 14:case 15:ei(4,H,H.return);break;case 1:Wn(H,H.return);var se=H.stateNode;if(typeof se.componentWillUnmount=="function"){i=H,n=H.return;try{t=i,se.props=t.memoizedProps,se.state=t.memoizedState,se.componentWillUnmount()}catch(ie){Ke(i,n,ie)}}break;case 5:Wn(H,H.return);break;case 22:if(H.memoizedState!==null){sd(G);continue}}te!==null?(te.return=H,re=te):sd(G)}V=V.sibling}e:for(V=null,G=e;;){if(G.tag===5){if(V===null){V=G;try{d=G.stateNode,M?(f=d.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(w=G.stateNode,S=G.memoizedProps.style,g=S!=null&&S.hasOwnProperty("display")?S.display:null,w.style.display=Tr("display",g))}catch(ie){Ke(e,e.return,ie)}}}else if(G.tag===6){if(V===null)try{G.stateNode.nodeValue=M?"":G.memoizedProps}catch(ie){Ke(e,e.return,ie)}}else if((G.tag!==22&&G.tag!==23||G.memoizedState===null||G===e)&&G.child!==null){G.child.return=G,G=G.child;continue}if(G===e)break e;for(;G.sibling===null;){if(G.return===null||G.return===e)break e;V===G&&(V=null),G=G.return}V===G&&(V=null),G.sibling.return=G.return,G=G.sibling}}break;case 19:tr(t,e),ur(e),i&4&&ed(e);break;case 21:break;default:tr(t,e),ur(e)}}function ur(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Qu(n)){var i=n;break e}n=n.return}throw Error(s(160))}switch(i.tag){case 5:var d=i.stateNode;i.flags&32&&(Cr(d,""),i.flags&=-33);var f=Xu(e);rl(e,f,d);break;case 3:case 4:var g=i.stateNode.containerInfo,w=Xu(e);tl(e,w,g);break;default:throw Error(s(161))}}catch(S){Ke(e,e.return,S)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function om(e,t,n){re=e,rd(e)}function rd(e,t,n){for(var i=(e.mode&1)!==0;re!==null;){var d=re,f=d.child;if(d.tag===22&&i){var g=d.memoizedState!==null||aa;if(!g){var w=d.alternate,S=w!==null&&w.memoizedState!==null||yt;w=aa;var M=yt;if(aa=g,(yt=S)&&!M)for(re=d;re!==null;)g=re,S=g.child,g.tag===22&&g.memoizedState!==null?id(d):S!==null?(S.return=g,re=S):id(d);for(;f!==null;)re=f,rd(f),f=f.sibling;re=d,aa=w,yt=M}nd(e)}else(d.subtreeFlags&8772)!==0&&f!==null?(f.return=d,re=f):nd(e)}}function nd(e){for(;re!==null;){var t=re;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:yt||oa(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!yt)if(n===null)i.componentDidMount();else{var d=t.elementType===t.type?n.memoizedProps:Zt(t.type,n.memoizedProps);i.componentDidUpdate(d,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var f=t.updateQueue;f!==null&&su(t,f,i);break;case 3:var g=t.updateQueue;if(g!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}su(t,g,n)}break;case 5:var w=t.stateNode;if(n===null&&t.flags&4){n=w;var S=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":S.autoFocus&&n.focus();break;case"img":S.src&&(n.src=S.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var M=t.alternate;if(M!==null){var V=M.memoizedState;if(V!==null){var G=V.dehydrated;G!==null&&As(G)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}yt||t.flags&512&&el(t)}catch(H){Ke(t,t.return,H)}}if(t===e){re=null;break}if(n=t.sibling,n!==null){n.return=t.return,re=n;break}re=t.return}}function sd(e){for(;re!==null;){var t=re;if(t===e){re=null;break}var n=t.sibling;if(n!==null){n.return=t.return,re=n;break}re=t.return}}function id(e){for(;re!==null;){var t=re;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{oa(4,t)}catch(S){Ke(t,n,S)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var d=t.return;try{i.componentDidMount()}catch(S){Ke(t,d,S)}}var f=t.return;try{el(t)}catch(S){Ke(t,f,S)}break;case 5:var g=t.return;try{el(t)}catch(S){Ke(t,g,S)}}}catch(S){Ke(t,t.return,S)}if(t===e){re=null;break}var w=t.sibling;if(w!==null){w.return=t.return,re=w;break}re=t.return}}var lm=Math.ceil,la=U.ReactCurrentDispatcher,nl=U.ReactCurrentOwner,Gt=U.ReactCurrentBatchConfig,Pe=0,lt=null,Ze=null,ft=0,Ft=0,Vn=Ur(0),st=0,ti=null,dn=0,ca=0,sl=0,ri=null,Ct=null,il=0,qn=1/0,Sr=null,ua=!1,al=null,Vr=null,da=!1,qr=null,ha=0,ni=0,ol=null,fa=-1,ma=0;function wt(){return(Pe&6)!==0?we():fa!==-1?fa:fa=we()}function Kr(e){return(e.mode&1)===0?1:(Pe&2)!==0&&ft!==0?ft&-ft:Vf.transition!==null?(ma===0&&(ma=Xl()),ma):(e=Ie,e!==0||(e=window.event,e=e===void 0?16:oc(e.type)),e)}function rr(e,t,n,i){if(50<ni)throw ni=0,ol=null,Error(s(185));Es(e,n,i),((Pe&2)===0||e!==lt)&&(e===lt&&((Pe&2)===0&&(ca|=n),st===4&&Gr(e,ft)),Tt(e,i),n===1&&Pe===0&&(t.mode&1)===0&&(qn=we()+500,Bi&&zr()))}function Tt(e,t){var n=e.callbackNode;Wh(e,t);var i=Si(e,e===lt?ft:0);if(i===0)n!==null&&js(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&js(n),t===1)e.tag===0?Wf(od.bind(null,e)):qc(od.bind(null,e)),Ff(function(){(Pe&6)===0&&zr()}),n=null;else{switch(Zl(i)){case 1:n=St;break;case 4:n=vt;break;case 16:n=ar;break;case 536870912:n=Bt;break;default:n=ar}n=pd(n,ad.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ad(e,t){if(fa=-1,ma=0,(Pe&6)!==0)throw Error(s(327));var n=e.callbackNode;if(Kn()&&e.callbackNode!==n)return null;var i=Si(e,e===lt?ft:0);if(i===0)return null;if((i&30)!==0||(i&e.expiredLanes)!==0||t)t=pa(e,i);else{t=i;var d=Pe;Pe|=2;var f=cd();(lt!==e||ft!==t)&&(Sr=null,qn=we()+500,fn(e,t));do try{dm();break}catch(w){ld(e,w)}while(!0);jo(),la.current=f,Pe=d,Ze!==null?t=0:(lt=null,ft=0,t=st)}if(t!==0){if(t===2&&(d=Fa(e),d!==0&&(i=d,t=ll(e,d))),t===1)throw n=ti,fn(e,0),Gr(e,i),Tt(e,we()),n;if(t===6)Gr(e,i);else{if(d=e.current.alternate,(i&30)===0&&!cm(d)&&(t=pa(e,i),t===2&&(f=Fa(e),f!==0&&(i=f,t=ll(e,f))),t===1))throw n=ti,fn(e,0),Gr(e,i),Tt(e,we()),n;switch(e.finishedWork=d,e.finishedLanes=i,t){case 0:case 1:throw Error(s(345));case 2:mn(e,Ct,Sr);break;case 3:if(Gr(e,i),(i&130023424)===i&&(t=il+500-we(),10<t)){if(Si(e,0)!==0)break;if(d=e.suspendedLanes,(d&i)!==i){wt(),e.pingedLanes|=e.suspendedLanes&d;break}e.timeoutHandle=mo(mn.bind(null,e,Ct,Sr),t);break}mn(e,Ct,Sr);break;case 4:if(Gr(e,i),(i&4194240)===i)break;for(t=e.eventTimes,d=-1;0<i;){var g=31-Lt(i);f=1<<g,g=t[g],g>d&&(d=g),i&=~f}if(i=d,i=we()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*lm(i/1960))-i,10<i){e.timeoutHandle=mo(mn.bind(null,e,Ct,Sr),i);break}mn(e,Ct,Sr);break;case 5:mn(e,Ct,Sr);break;default:throw Error(s(329))}}}return Tt(e,we()),e.callbackNode===n?ad.bind(null,e):null}function ll(e,t){var n=ri;return e.current.memoizedState.isDehydrated&&(fn(e,t).flags|=256),e=pa(e,t),e!==2&&(t=Ct,Ct=n,t!==null&&cl(t)),e}function cl(e){Ct===null?Ct=e:Ct.push.apply(Ct,e)}function cm(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var d=n[i],f=d.getSnapshot;d=d.value;try{if(!Qt(f(),d))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Gr(e,t){for(t&=~sl,t&=~ca,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Lt(t),i=1<<n;e[n]=-1,t&=~i}}function od(e){if((Pe&6)!==0)throw Error(s(327));Kn();var t=Si(e,0);if((t&1)===0)return Tt(e,we()),null;var n=pa(e,t);if(e.tag!==0&&n===2){var i=Fa(e);i!==0&&(t=i,n=ll(e,i))}if(n===1)throw n=ti,fn(e,0),Gr(e,t),Tt(e,we()),n;if(n===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,mn(e,Ct,Sr),Tt(e,we()),null}function ul(e,t){var n=Pe;Pe|=1;try{return e(t)}finally{Pe=n,Pe===0&&(qn=we()+500,Bi&&zr())}}function hn(e){qr!==null&&qr.tag===0&&(Pe&6)===0&&Kn();var t=Pe;Pe|=1;var n=Gt.transition,i=Ie;try{if(Gt.transition=null,Ie=1,e)return e()}finally{Ie=i,Gt.transition=n,Pe=t,(Pe&6)===0&&zr()}}function dl(){Ft=Vn.current,He(Vn)}function fn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Uf(n)),Ze!==null)for(n=Ze.return;n!==null;){var i=n;switch(wo(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Fi();break;case 3:Bn(),He(jt),He(mt),Do();break;case 5:Oo(i);break;case 4:Bn();break;case 13:He(Ve);break;case 19:He(Ve);break;case 10:No(i.type._context);break;case 22:case 23:dl()}n=n.return}if(lt=e,Ze=e=Jr(e.current,null),ft=Ft=t,st=0,ti=null,sl=ca=dn=0,Ct=ri=null,ln!==null){for(t=0;t<ln.length;t++)if(n=ln[t],i=n.interleaved,i!==null){n.interleaved=null;var d=i.next,f=n.pending;if(f!==null){var g=f.next;f.next=d,i.next=g}n.pending=i}ln=null}return e}function ld(e,t){do{var n=Ze;try{if(jo(),Xi.current=ra,Zi){for(var i=qe.memoizedState;i!==null;){var d=i.queue;d!==null&&(d.pending=null),i=i.next}Zi=!1}if(un=0,ot=nt=qe=null,Js=!1,Ys=0,nl.current=null,n===null||n.return===null){st=1,ti=t,Ze=null;break}e:{var f=e,g=n.return,w=n,S=t;if(t=ft,w.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){var M=S,V=w,G=V.tag;if((V.mode&1)===0&&(G===0||G===11||G===15)){var H=V.alternate;H?(V.updateQueue=H.updateQueue,V.memoizedState=H.memoizedState,V.lanes=H.lanes):(V.updateQueue=null,V.memoizedState=null)}var te=Du(g);if(te!==null){te.flags&=-257,Ru(te,g,w,f,t),te.mode&1&&Au(f,M,t),t=te,S=M;var se=t.updateQueue;if(se===null){var ie=new Set;ie.add(S),t.updateQueue=ie}else se.add(S);break e}else{if((t&1)===0){Au(f,M,t),hl();break e}S=Error(s(426))}}else if(We&&w.mode&1){var Je=Du(g);if(Je!==null){(Je.flags&65536)===0&&(Je.flags|=256),Ru(Je,g,w,f,t),So(Hn(S,w));break e}}f=S=Hn(S,w),st!==4&&(st=2),ri===null?ri=[f]:ri.push(f),f=g;do{switch(f.tag){case 3:f.flags|=65536,t&=-t,f.lanes|=t;var O=Pu(f,S,t);nu(f,O);break e;case 1:w=S;var E=f.type,I=f.stateNode;if((f.flags&128)===0&&(typeof E.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Vr===null||!Vr.has(I)))){f.flags|=65536,t&=-t,f.lanes|=t;var J=Ou(f,w,t);nu(f,J);break e}}f=f.return}while(f!==null)}dd(n)}catch(ae){t=ae,Ze===n&&n!==null&&(Ze=n=n.return);continue}break}while(!0)}function cd(){var e=la.current;return la.current=ra,e===null?ra:e}function hl(){(st===0||st===3||st===2)&&(st=4),lt===null||(dn&268435455)===0&&(ca&268435455)===0||Gr(lt,ft)}function pa(e,t){var n=Pe;Pe|=2;var i=cd();(lt!==e||ft!==t)&&(Sr=null,fn(e,t));do try{um();break}catch(d){ld(e,d)}while(!0);if(jo(),Pe=n,la.current=i,Ze!==null)throw Error(s(261));return lt=null,ft=0,st}function um(){for(;Ze!==null;)ud(Ze)}function dm(){for(;Ze!==null&&!wi();)ud(Ze)}function ud(e){var t=md(e.alternate,e,Ft);e.memoizedProps=e.pendingProps,t===null?dd(e):Ze=t,nl.current=null}function dd(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=nm(n,t,Ft),n!==null){Ze=n;return}}else{if(n=sm(n,t),n!==null){n.flags&=32767,Ze=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{st=6,Ze=null;return}}if(t=t.sibling,t!==null){Ze=t;return}Ze=t=e}while(t!==null);st===0&&(st=5)}function mn(e,t,n){var i=Ie,d=Gt.transition;try{Gt.transition=null,Ie=1,hm(e,t,n,i)}finally{Gt.transition=d,Ie=i}return null}function hm(e,t,n,i){do Kn();while(qr!==null);if((Pe&6)!==0)throw Error(s(327));n=e.finishedWork;var d=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var f=n.lanes|n.childLanes;if(Vh(e,f),e===lt&&(Ze=lt=null,ft=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||da||(da=!0,pd(ar,function(){return Kn(),null})),f=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||f){f=Gt.transition,Gt.transition=null;var g=Ie;Ie=1;var w=Pe;Pe|=4,nl.current=null,am(e,n),td(n,e),Af(ho),Ni=!!uo,ho=uo=null,e.current=n,om(n),ee(),Pe=w,Ie=g,Gt.transition=f}else e.current=n;if(da&&(da=!1,qr=e,ha=d),f=e.pendingLanes,f===0&&(Vr=null),Ma(n.stateNode),Tt(e,we()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)d=t[n],i(d.value,{componentStack:d.stack,digest:d.digest});if(ua)throw ua=!1,e=al,al=null,e;return(ha&1)!==0&&e.tag!==0&&Kn(),f=e.pendingLanes,(f&1)!==0?e===ol?ni++:(ni=0,ol=e):ni=0,zr(),null}function Kn(){if(qr!==null){var e=Zl(ha),t=Gt.transition,n=Ie;try{if(Gt.transition=null,Ie=16>e?16:e,qr===null)var i=!1;else{if(e=qr,qr=null,ha=0,(Pe&6)!==0)throw Error(s(331));var d=Pe;for(Pe|=4,re=e.current;re!==null;){var f=re,g=f.child;if((re.flags&16)!==0){var w=f.deletions;if(w!==null){for(var S=0;S<w.length;S++){var M=w[S];for(re=M;re!==null;){var V=re;switch(V.tag){case 0:case 11:case 15:ei(8,V,f)}var G=V.child;if(G!==null)G.return=V,re=G;else for(;re!==null;){V=re;var H=V.sibling,te=V.return;if(Yu(V),V===M){re=null;break}if(H!==null){H.return=te,re=H;break}re=te}}}var se=f.alternate;if(se!==null){var ie=se.child;if(ie!==null){se.child=null;do{var Je=ie.sibling;ie.sibling=null,ie=Je}while(ie!==null)}}re=f}}if((f.subtreeFlags&2064)!==0&&g!==null)g.return=f,re=g;else e:for(;re!==null;){if(f=re,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:ei(9,f,f.return)}var O=f.sibling;if(O!==null){O.return=f.return,re=O;break e}re=f.return}}var E=e.current;for(re=E;re!==null;){g=re;var I=g.child;if((g.subtreeFlags&2064)!==0&&I!==null)I.return=g,re=I;else e:for(g=E;re!==null;){if(w=re,(w.flags&2048)!==0)try{switch(w.tag){case 0:case 11:case 15:oa(9,w)}}catch(ae){Ke(w,w.return,ae)}if(w===g){re=null;break e}var J=w.sibling;if(J!==null){J.return=w.return,re=J;break e}re=w.return}}if(Pe=d,zr(),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(Or,e)}catch{}i=!0}return i}finally{Ie=n,Gt.transition=t}}return!1}function hd(e,t,n){t=Hn(n,t),t=Pu(e,t,1),e=Hr(e,t,1),t=wt(),e!==null&&(Es(e,1,t),Tt(e,t))}function Ke(e,t,n){if(e.tag===3)hd(e,e,n);else for(;t!==null;){if(t.tag===3){hd(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Vr===null||!Vr.has(i))){e=Hn(n,e),e=Ou(t,e,1),t=Hr(t,e,1),e=wt(),t!==null&&(Es(t,1,e),Tt(t,e));break}}t=t.return}}function fm(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=wt(),e.pingedLanes|=e.suspendedLanes&n,lt===e&&(ft&n)===n&&(st===4||st===3&&(ft&130023424)===ft&&500>we()-il?fn(e,0):sl|=n),Tt(e,t)}function fd(e,t){t===0&&((e.mode&1)===0?t=1:(t=_i,_i<<=1,(_i&130023424)===0&&(_i=4194304)));var n=wt();e=wr(e,t),e!==null&&(Es(e,t,n),Tt(e,n))}function mm(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),fd(e,n)}function pm(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,d=e.memoizedState;d!==null&&(n=d.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(s(314))}i!==null&&i.delete(t),fd(e,n)}var md;md=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||jt.current)Et=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return Et=!1,rm(e,t,n);Et=(e.flags&131072)!==0}else Et=!1,We&&(t.flags&1048576)!==0&&Kc(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;ia(e,t),e=t.pendingProps;var d=In(t,mt.current);zn(t,n),d=Lo(null,t,i,e,d,n);var f=$o();return t.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Nt(i)?(f=!0,zi(t)):f=!1,t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,To(t),d.updater=na,t.stateNode=d,d._reactInternals=t,Ho(t,i,e,n),t=Ko(null,t,i,!0,f,n)):(t.tag=0,We&&f&&xo(t),xt(null,t,d,n),t=t.child),t;case 16:i=t.elementType;e:{switch(ia(e,t),e=t.pendingProps,d=i._init,i=d(i._payload),t.type=i,d=t.tag=ym(i),e=Zt(i,e),d){case 0:t=qo(null,t,i,e,n);break e;case 1:t=Fu(null,t,i,e,n);break e;case 11:t=Iu(null,t,i,e,n);break e;case 14:t=Lu(null,t,i,Zt(i.type,e),n);break e}throw Error(s(306,i,""))}return t;case 0:return i=t.type,d=t.pendingProps,d=t.elementType===i?d:Zt(i,d),qo(e,t,i,d,n);case 1:return i=t.type,d=t.pendingProps,d=t.elementType===i?d:Zt(i,d),Fu(e,t,i,d,n);case 3:e:{if(zu(t),e===null)throw Error(s(387));i=t.pendingProps,f=t.memoizedState,d=f.element,ru(e,t),Yi(t,i,null,n);var g=t.memoizedState;if(i=g.element,f.isDehydrated)if(f={element:i,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){d=Hn(Error(s(423)),t),t=Bu(e,t,i,n,d);break e}else if(i!==d){d=Hn(Error(s(424)),t),t=Bu(e,t,i,n,d);break e}else for(Ut=Mr(t.stateNode.containerInfo.firstChild),Mt=t,We=!0,Xt=null,n=eu(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Mn(),i===d){t=_r(e,t,n);break e}xt(e,t,i,n)}t=t.child}return t;case 5:return iu(t),e===null&&_o(t),i=t.type,d=t.pendingProps,f=e!==null?e.memoizedProps:null,g=d.children,fo(i,d)?g=null:f!==null&&fo(i,f)&&(t.flags|=32),Uu(e,t),xt(e,t,g,n),t.child;case 6:return e===null&&_o(t),null;case 13:return Hu(e,t,n);case 4:return Po(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Un(t,null,i,n):xt(e,t,i,n),t.child;case 11:return i=t.type,d=t.pendingProps,d=t.elementType===i?d:Zt(i,d),Iu(e,t,i,d,n);case 7:return xt(e,t,t.pendingProps,n),t.child;case 8:return xt(e,t,t.pendingProps.children,n),t.child;case 12:return xt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,d=t.pendingProps,f=t.memoizedProps,g=d.value,Fe(Ki,i._currentValue),i._currentValue=g,f!==null)if(Qt(f.value,g)){if(f.children===d.children&&!jt.current){t=_r(e,t,n);break e}}else for(f=t.child,f!==null&&(f.return=t);f!==null;){var w=f.dependencies;if(w!==null){g=f.child;for(var S=w.firstContext;S!==null;){if(S.context===i){if(f.tag===1){S=br(-1,n&-n),S.tag=2;var M=f.updateQueue;if(M!==null){M=M.shared;var V=M.pending;V===null?S.next=S:(S.next=V.next,V.next=S),M.pending=S}}f.lanes|=n,S=f.alternate,S!==null&&(S.lanes|=n),Eo(f.return,n,t),w.lanes|=n;break}S=S.next}}else if(f.tag===10)g=f.type===t.type?null:f.child;else if(f.tag===18){if(g=f.return,g===null)throw Error(s(341));g.lanes|=n,w=g.alternate,w!==null&&(w.lanes|=n),Eo(g,n,t),g=f.sibling}else g=f.child;if(g!==null)g.return=f;else for(g=f;g!==null;){if(g===t){g=null;break}if(f=g.sibling,f!==null){f.return=g.return,g=f;break}g=g.return}f=g}xt(e,t,d.children,n),t=t.child}return t;case 9:return d=t.type,i=t.pendingProps.children,zn(t,n),d=qt(d),i=i(d),t.flags|=1,xt(e,t,i,n),t.child;case 14:return i=t.type,d=Zt(i,t.pendingProps),d=Zt(i.type,d),Lu(e,t,i,d,n);case 15:return $u(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,d=t.pendingProps,d=t.elementType===i?d:Zt(i,d),ia(e,t),t.tag=1,Nt(i)?(e=!0,zi(t)):e=!1,zn(t,n),Cu(t,i,d),Ho(t,i,d,n),Ko(null,t,i,!0,e,n);case 19:return Vu(e,t,n);case 22:return Mu(e,t,n)}throw Error(s(156,t.tag))};function pd(e,t){return ks(e,t)}function gm(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jt(e,t,n,i){return new gm(e,t,n,i)}function fl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ym(e){if(typeof e=="function")return fl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===at)return 11;if(e===Ge)return 14}return 2}function Jr(e,t){var n=e.alternate;return n===null?(n=Jt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ga(e,t,n,i,d,f){var g=2;if(i=e,typeof e=="function")fl(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case ne:return pn(n.children,d,f,t);case be:g=8,d|=8;break;case _e:return e=Jt(12,n,t,d|2),e.elementType=_e,e.lanes=f,e;case Me:return e=Jt(13,n,t,d),e.elementType=Me,e.lanes=f,e;case Le:return e=Jt(19,n,t,d),e.elementType=Le,e.lanes=f,e;case Ee:return ya(n,d,f,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case je:g=10;break e;case ge:g=9;break e;case at:g=11;break e;case Ge:g=14;break e;case Ce:g=16,i=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return t=Jt(g,n,t,d),t.elementType=e,t.type=i,t.lanes=f,t}function pn(e,t,n,i){return e=Jt(7,e,i,t),e.lanes=n,e}function ya(e,t,n,i){return e=Jt(22,e,i,t),e.elementType=Ee,e.lanes=n,e.stateNode={isHidden:!1},e}function ml(e,t,n){return e=Jt(6,e,null,t),e.lanes=n,e}function pl(e,t,n){return t=Jt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function vm(e,t,n,i,d){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=za(0),this.expirationTimes=za(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=za(0),this.identifierPrefix=i,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function gl(e,t,n,i,d,f,g,w,S){return e=new vm(e,t,n,w,S),t===1?(t=1,f===!0&&(t|=8)):t=0,f=Jt(3,null,null,t),e.current=f,f.stateNode=e,f.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},To(f),e}function xm(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:K,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function gd(e){if(!e)return Fr;e=e._reactInternals;e:{if(rt(e)!==e||e.tag!==1)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Nt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(s(171))}if(e.tag===1){var n=e.type;if(Nt(n))return Wc(e,n,t)}return t}function yd(e,t,n,i,d,f,g,w,S){return e=gl(n,i,!0,e,d,f,g,w,S),e.context=gd(null),n=e.current,i=wt(),d=Kr(n),f=br(i,d),f.callback=t??null,Hr(n,f,d),e.current.lanes=d,Es(e,d,i),Tt(e,i),e}function va(e,t,n,i){var d=t.current,f=wt(),g=Kr(d);return n=gd(n),t.context===null?t.context=n:t.pendingContext=n,t=br(f,g),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=Hr(d,t,g),e!==null&&(rr(e,d,g,f),Ji(e,d,g)),g}function xa(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function vd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function yl(e,t){vd(e,t),(e=e.alternate)&&vd(e,t)}function wm(){return null}var xd=typeof reportError=="function"?reportError:function(e){console.error(e)};function vl(e){this._internalRoot=e}wa.prototype.render=vl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));va(e,t,null,null)},wa.prototype.unmount=vl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;hn(function(){va(null,e,null,null)}),t[gr]=null}};function wa(e){this._internalRoot=e}wa.prototype.unstable_scheduleHydration=function(e){if(e){var t=rc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ir.length&&t!==0&&t<Ir[n].priority;n++);Ir.splice(n,0,e),n===0&&ic(e)}};function xl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ba(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function wd(){}function bm(e,t,n,i,d){if(d){if(typeof i=="function"){var f=i;i=function(){var M=xa(g);f.call(M)}}var g=yd(t,i,e,0,null,!1,!1,"",wd);return e._reactRootContainer=g,e[gr]=g.current,zs(e.nodeType===8?e.parentNode:e),hn(),g}for(;d=e.lastChild;)e.removeChild(d);if(typeof i=="function"){var w=i;i=function(){var M=xa(S);w.call(M)}}var S=gl(e,0,!1,null,null,!1,!1,"",wd);return e._reactRootContainer=S,e[gr]=S.current,zs(e.nodeType===8?e.parentNode:e),hn(function(){va(t,S,n,i)}),S}function _a(e,t,n,i,d){var f=n._reactRootContainer;if(f){var g=f;if(typeof d=="function"){var w=d;d=function(){var S=xa(g);w.call(S)}}va(t,g,e,d)}else g=bm(n,t,e,d,i);return xa(g)}ec=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ns(t.pendingLanes);n!==0&&(Ba(t,n|1),Tt(t,we()),(Pe&6)===0&&(qn=we()+500,zr()))}break;case 13:hn(function(){var i=wr(e,1);if(i!==null){var d=wt();rr(i,e,1,d)}}),yl(e,1)}},Ha=function(e){if(e.tag===13){var t=wr(e,134217728);if(t!==null){var n=wt();rr(t,e,134217728,n)}yl(e,134217728)}},tc=function(e){if(e.tag===13){var t=Kr(e),n=wr(e,t);if(n!==null){var i=wt();rr(n,e,t,i)}yl(e,t)}},rc=function(){return Ie},nc=function(e,t){var n=Ie;try{return Ie=e,t()}finally{Ie=n}},Re=function(e,t,n){switch(t){case"input":if(Yt(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var d=Ui(i);if(!d)throw Error(s(90));X(i),Yt(i,d)}}}break;case"textarea":hs(e,n);break;case"select":t=n.value,t!=null&&Nr(e,!!n.multiple,t,!1)}},bs=ul,_s=hn;var _m={usingClientEntryPoint:!1,Events:[Ws,Dn,Ui,xs,ws,ul]},si={findFiberByHostInstance:nn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Sm={bundleType:si.bundleType,version:si.version,rendererPackageName:si.rendererPackageName,rendererConfig:si.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:U.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ss(e),e===null?null:e.stateNode},findFiberByHostInstance:si.findFiberByHostInstance||wm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sa.isDisabled&&Sa.supportsFiber)try{Or=Sa.inject(Sm),Ht=Sa}catch{}}return Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_m,Ot.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xl(t))throw Error(s(200));return xm(e,t,null,n)},Ot.createRoot=function(e,t){if(!xl(e))throw Error(s(299));var n=!1,i="",d=xd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),t=gl(e,1,!1,null,null,n,!1,i,d),e[gr]=t.current,zs(e.nodeType===8?e.parentNode:e),new vl(t)},Ot.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=Ss(t),e=e===null?null:e.stateNode,e},Ot.flushSync=function(e){return hn(e)},Ot.hydrate=function(e,t,n){if(!ba(t))throw Error(s(200));return _a(null,e,t,!0,n)},Ot.hydrateRoot=function(e,t,n){if(!xl(e))throw Error(s(405));var i=n!=null&&n.hydratedSources||null,d=!1,f="",g=xd;if(n!=null&&(n.unstable_strictMode===!0&&(d=!0),n.identifierPrefix!==void 0&&(f=n.identifierPrefix),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),t=yd(t,null,e,1,n??null,d,!1,f,g),e[gr]=t.current,zs(e),i)for(e=0;e<i.length;e++)n=i[e],d=n._getVersion,d=d(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,d]:t.mutableSourceEagerHydrationData.push(n,d);return new wa(t)},Ot.render=function(e,t,n){if(!ba(t))throw Error(s(200));return _a(null,e,t,!1,n)},Ot.unmountComponentAtNode=function(e){if(!ba(e))throw Error(s(40));return e._reactRootContainer?(hn(function(){_a(null,null,e,!1,function(){e._reactRootContainer=null,e[gr]=null})}),!0):!1},Ot.unstable_batchedUpdates=ul,Ot.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!ba(n))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return _a(e,t,n,!1,i)},Ot.version="18.3.1-next-f1338f8080-20240426",Ot}var th;function uy(){if(th)return Pl.exports;th=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(r){console.error(r)}}return l(),Pl.exports=cy(),Pl.exports}var rh;function dy(){if(rh)return Ca;rh=1;var l=uy();return Ca.createRoot=l.createRoot,Ca.hydrateRoot=l.hydrateRoot,Ca}var hy=dy(),B=Kl();const fy=fh(B);function Dl(l){try{return new Date(l).toLocaleDateString(navigator.language||"en-US",{day:"numeric",month:"short",year:"numeric"})}catch{return new Date(l).toDateString()}}function $h(l,r){const s=new Date(l),a=new Date(r||l);if(s.toDateString()===a.toDateString())return Dl(s);if(s.getFullYear()===a.getFullYear()&&s.getMonth()===a.getMonth()){const o=s.toLocaleDateString(navigator.language||"en-US",{day:"numeric"}),c=s.toLocaleDateString(navigator.language||"en-US",{month:"short",year:"numeric"}),h=a.toLocaleDateString(navigator.language||"en-US",{day:"numeric"});return`${o}–${h} ${c}`}if(s.getFullYear()===a.getFullYear()){const o=s.toLocaleDateString(navigator.language||"en-US",{day:"numeric",month:"short"}),c=a.toLocaleDateString(navigator.language||"en-US",{day:"numeric",month:"short",year:"numeric"});return`${o} – ${c}`}return`${Dl(s)} – ${Dl(a)}`}function my(l,r){l=l.toLowerCase(),r=r.toLowerCase();const s=l.length,a=r.length;if(s===0)return a;if(a===0)return s;const o=Array.from({length:s+1},()=>new Array(a+1).fill(0));for(let c=0;c<=s;c++)o[c][0]=c;for(let c=0;c<=a;c++)o[0][c]=c;for(let c=1;c<=s;c++)for(let h=1;h<=a;h++){const m=l[c-1]===r[h-1]?0:1;o[c][h]=Math.min(o[c-1][h]+1,o[c][h-1]+1,o[c-1][h-1]+m)}return o[s][a]}function py(l,r){if(!l||!r)return 0;if(l=l.toLowerCase().trim(),r=r.toLowerCase().trim(),l===r)return 1;if(l.includes(r)||r.includes(l))return .9;const s=my(l,r),a=Math.max(l.length,r.length),o=(a-s)/a;return a<=6&&s<=2?Math.max(.7,o):a<=10&&s<=3?Math.max(.6,o):o}function gy(l){return l.map(r=>({college:r.college,event:r.eventName,city:r.location,start:nh(r.dates),end:nh(r.dates,!0),type:r.type,comp:r.competition,id:r.id,createdAt:r.createdAt||0,subEvents:r.events||[]}))}function nh(l,r=!1){const s=l.match(/(\d{1,2})(?:st|nd|rd|th)?\s+to\s+(\d{1,2})(?:st|nd|rd|th)?\s+(\w+)\s+(\d{2})/);if(s){const[,o,c,h,m]=s,p=parseInt(m)+2e3,y=sh(h),v=parseInt(r?c:o);return`${p}-${y.toString().padStart(2,"0")}-${v.toString().padStart(2,"0")}`}const a=l.match(/(\d{1,2})(?:st|nd|rd|th)?\s+(\w+)\s+(\d{2})/);if(a){const[,o,c,h]=a,m=parseInt(h)+2e3,p=sh(c);return`${m}-${p.toString().padStart(2,"0")}-${parseInt(o).toString().padStart(2,"0")}`}return"2025-01-01"}function sh(l){return{jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12}[l.toLowerCase()]||1}const Mh="grid grid-cols-[1fr_124px] items-start gap-3",yy=({children:l})=>u.jsx("div",{className:"w-full max-w-[360px] h-[100dvh] mx-auto bg-white border rounded-2xl shadow-sm flex flex-col overflow-hidden",children:l});function vy({navigate:l,userProfile:r}){const s=r.name||"User";return u.jsx("div",{className:"h-14 bg-neutral-100/80 border-b backdrop-blur flex items-center px-4 justify-end shrink-0",children:u.jsx("button",{className:"px-3 py-1.5 border rounded-lg bg-white hover:bg-neutral-50 transition-transform duration-75 active:scale-95","aria-label":`${s} Menu`,onClick:()=>l("org_dashboard"),children:s})})}function xy({query:l,setQuery:r}){return u.jsx("div",{className:"shrink-0 bg-white border-b",children:u.jsx("div",{className:"px-4 py-2",children:u.jsxs("div",{className:"h-10 w-full rounded-xl border bg-white flex items-center gap-2 px-2 text-neutral-700",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-neutral-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-4.35-4.35M10 18a8 8 0 100-16 8 8 0 000 16z"})}),u.jsx("input",{value:l,onChange:s=>r(s.target.value),placeholder:"Search: College / Event / City / Type or date",className:"flex-1 outline-none placeholder:text-neutral-400","aria-label":"Search events"}),l&&u.jsx("button",{onClick:()=>r(""),className:"px-2 py-1 border rounded-md hover:bg-neutral-50",title:"Clear search",children:"Clear"})]})})})}function wy(){return u.jsx("div",{className:"shrink-0 border-b border-t bg-white",children:u.jsx("div",{className:"w-full max-w-full mx-auto px-3 py-3",children:u.jsxs("div",{className:Mh,children:[u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"leading-5",children:"College Name"}),u.jsx("div",{className:"leading-5",children:"Event Name"}),u.jsx("div",{className:"leading-5 text-neutral-700",children:"City, Locality"})]}),u.jsxs("div",{className:"text-right leading-5",children:[u.jsx("div",{children:"Event Dates"}),u.jsx("div",{children:"Event Type"}),u.jsx("div",{children:"Competition Type"})]})]})})})}function by(){return u.jsxs("div",{className:"text-center py-10 px-6",children:[u.jsx("div",{className:"text-neutral-700",children:"No events found"}),u.jsx("div",{className:"text-neutral-400 mt-1",children:"Refine your search by another city, college, type, or date"})]})}function _y({data:l,onClick:r}){const s=$h(l.start,l.end);return u.jsx("div",{className:"w-full max-w-full mx-auto block text-left px-3 py-3 rounded-xl border shadow-sm bg-white cursor-pointer transition-transform duration-75 active:scale-95",onClick:r,children:u.jsxs("div",{className:Mh,children:[u.jsxs("div",{className:"min-w-0",children:[u.jsx("div",{className:"leading-5",children:l.college}),u.jsx("div",{className:"leading-5 whitespace-pre-line",children:l.event}),u.jsx("div",{className:"leading-5 text-neutral-700",children:l.city})]}),u.jsxs("div",{className:"text-right leading-5 whitespace-pre-line",children:[u.jsx("div",{children:s}),u.jsx("div",{children:l.type}),l.comp&&u.jsx("div",{children:l.comp})]})]})})}function Sy({query:l,navigate:r,events:s}){let o=gy(s).map((A,k)=>({...A,key:`event-${k}`}));const c=new Date;c.setHours(0,0,0,0);const h=new Date(c);h.setDate(h.getDate()-7);const p=o.filter(A=>{const k=new Date(A.end);return k.setHours(23,59,59,999),k>=h}).map(A=>{const k=new Date(A.start),P=new Date(A.end);k.setHours(0,0,0,0),P.setHours(23,59,59,999);let T,L;return c>=k&&c<=P?(T="current",L=k.getTime()):c<k?(T="upcoming",L=k.getTime()):(T="past",L=-P.getTime()),{...A,category:T,sortKey:L}}),y=p.filter(A=>A.category==="current").sort((A,k)=>A.sortKey!==k.sortKey?A.sortKey-k.sortKey:(A.createdAt||0)-(k.createdAt||0)),v=p.filter(A=>A.category==="upcoming").sort((A,k)=>A.sortKey!==k.sortKey?A.sortKey-k.sortKey:(A.createdAt||0)-(k.createdAt||0)),_=p.filter(A=>A.category==="past").sort((A,k)=>A.sortKey!==k.sortKey?A.sortKey-k.sortKey:(A.createdAt||0)-(k.createdAt||0));o=[...y,...v,..._];const b=B.useMemo(()=>{const A=(l||"").trim();if(!A)return o;const k=A.split(/\s+/).filter(Boolean);return o.filter(P=>{const T=[P.college,P.event,P.city,P.type,P.comp,...(P.subEvents||[]).map(L=>`${L.name||""} ${L.type||""}`),$h(P.start,P.end)].join(" ").toLowerCase();return k.every(L=>{const D=L.toLowerCase();return T.includes(D)?!0:T.split(/\s+/).filter(Boolean).some(q=>{if(q===D||q.includes(D)||D.includes(q))return!0;if(D.length>=3&&q.length>=3){const K=py(D,q),ne=D.length<=4?.7:.6;return K>=ne}return!1})})})},[o,l]),R=A=>{["pandu","kaiso","maker","aitran","saman","sund"].includes(A)?r(`detail_${A}`,A):r("event_detail",A)};return u.jsx("div",{className:"pb-6",children:u.jsx("div",{className:"mt-2 space-y-2",children:b.length===0?u.jsx(by,{}):b.map(A=>u.jsx(_y,{data:A,onClick:()=>R(A.id)},A.key))})})}function Ta({navigate:l,events:r,userProfile:s}){const[a,o]=B.useState("");return u.jsxs(yy,{children:[u.jsx(vy,{navigate:l,userProfile:s}),u.jsx(xy,{query:a,setQuery:o}),u.jsx(wy,{}),u.jsx("div",{className:"flex-1 overflow-y-auto overscroll-y-contain scrollbar-hide inertial-scroll-y",children:u.jsx(Sy,{query:a,navigate:l,events:r})})]})}function ky({navigate:l,event:r,onRegister:s,registeredEvents:a,setCurrentLiveStream:o,selectedSubEvent:c,userProfile:h}){const m=()=>{alert("Final results will be displayed, only if events team decide to to release it here, on event day.")},p=T=>{const L=`sub-event-${T+1}`,D=localStorage.getItem(`zhevents_live_stream_${L}`);if(D)try{if(JSON.parse(D).activated){o&&o(L,r.eventName),l("liveStream");return}}catch(U){console.error("Error parsing stream info:",U)}alert("Live feed on event day, if the event is streamed live here.")},y=T=>T.replace(/(\d+)(?:st|nd|rd|th)?\s+to\s+(\d+)(?:st|nd|rd|th)?/,"$1–$2"),v=T=>{if(T.includes("–")){const[L,D]=T.split("–");return L.trim()===D.trim()?`${L.trim()} max`:`${T} max`}return T==="1"?T:`${T} max`},_=T=>T&&T.replace(/(\d+)(am|pm)/gi,"$1 $2"),b=T=>T==="TBD"?T:T.replace(/(\d+)(am|pm)/gi,"$1 $2").replace(/\(or until slots are available\)/gi,"or until slots are available"),R=T=>{if(r.subEventsDetail&&r.subEventsDetail[T]){const L=r.subEventsDetail[T];if(L.timeLimitNotApplicable)return"N.A.";const D=parseInt(L.performanceDurationMin||"0"),U=parseInt(L.performanceDurationMax||"0");let q="";return D>0&&(D===1?q+="1 hr":q+=`${D} hrs`),U>0&&(q&&(q+=" "),U===1?q+="1 min":q+=`${U} mins`),D===0&&U===0?"00 hrs 00 mins":q}return"00 hrs 00 mins"},A=T=>{const L=`${r.id}:${T}`;return a.includes(L)},k=T=>{var U;const L=(U=r.events)==null?void 0:U[T],D=(L==null?void 0:L.deadline)||r.deadline;if(!D||D==="TBD")return!1;try{const q=new Date;let K;if(D.includes("at")){const ne=D.split("at"),be=ne[0].trim(),je=ne[1].trim().match(/(\d+):(\d+)\s*(am|pm)/i);if(je){const[,ge,at,Me]=je;let Le=parseInt(ge);Me.toLowerCase()==="pm"&&Le!==12?Le+=12:Me.toLowerCase()==="am"&&Le===12&&(Le=0),K=new Date(be),K.setHours(Le,parseInt(at),0,0)}else K=new Date(be),K.setHours(23,59,59,999)}else K=new Date(D),K.setHours(23,59,59,999);return q>K}catch(q){return console.warn("Could not parse deadline:",D,q),!1}},P=T=>{var D;if(A(T))return;if(k(T)){alert("We regret to inform you that the registration deadline has passed. Request you to check with the event team for OTSE");return}const L=h?{name:h.name||"Unknown",college:((D=h.profileData)==null?void 0:D.collegeName)||"Unknown College",phone:h.phone||"0000000000",email:h.email||"unknown@example.com"}:void 0;s(r.id,T,L)};return u.jsxs("div",{className:"w-full min-h-screen bg-white p-4",children:[u.jsx("div",{className:"mb-6",children:u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-sm text-black",children:r.collegeName||r.college}),u.jsx("p",{className:"text-sm text-black",children:"Presents"}),u.jsx("h1",{className:"text-xl font-extrabold text-black",children:r.eventName}),(r.collegeAddress||r.collegeLocality||r.city||r.pinCode)&&u.jsx("p",{className:"text-sm text-black",children:[r.collegeAddress,r.collegeLocality,r.city,r.pinCode].filter(Boolean).join(", ")}),!r.collegeAddress&&!r.collegeLocality&&!r.city&&!r.pinCode&&r.address&&u.jsx("p",{className:"text-sm text-black",children:r.address}),u.jsxs("p",{className:"text-sm text-black",children:[r.competition,u.jsx("span",{className:"font-bold",children:"."})," ",y(r.dates)]})]})}),r.events&&r.events.length>0&&u.jsx("div",{className:"mb-6",children:r.events.map((T,L)=>c!=null&&L!==c?null:u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-start mb-2",children:[u.jsxs("div",{className:"text-sm text-black",children:[u.jsx("strong",{children:T.name}),u.jsx("br",{}),"Event Type: ",T.type,u.jsx("br",{}),"Competition: ",T.competition,u.jsx("br",{}),"Group/Single: ",T.groupType,u.jsx("br",{}),"Date: ",T.date,u.jsx("br",{}),"Time: ",_(T.time),u.jsx("br",{}),"Performance Duration: ",R(L),u.jsx("br",{}),"Participants: ",v(T.participants)]}),u.jsx("button",{onClick:()=>p(L),className:"px-2 py-1 bg-gray-200 border border-gray-400 rounded text-sm text-black ml-4 shrink-0 hover:bg-gray-300 transition-colors",children:"Live"})]}),u.jsx("div",{className:"text-sm text-black mb-6",children:T.rules&&T.rules.length>0?u.jsxs(u.Fragment,{children:[u.jsx("strong",{children:"Rules:"}),u.jsx("ol",{className:"list-decimal list-inside",children:T.rules.map((D,U)=>u.jsx("li",{children:D},U))})]}):u.jsxs("div",{children:[u.jsx("strong",{children:"Rules:"})," No rules specified."]})}),u.jsxs("div",{className:"text-sm text-black mb-6",children:["Contact Person: ",(()=>{const D=T.contact||r.contact||"TBD";return D==="TBD"?"TBD":D.split("•")[0].trim()||D})(),u.jsx("br",{}),"Contact No.: ",(()=>{const D=T.contact||r.contact||"TBD";if(D==="TBD")return"TBD";const U=D.split("•");if(U.length>1){const K=U[1].trim().match(/\d{10}/);return K?K[0]:"TBD"}return"TBD"})(),u.jsx("br",{}),"Entry Fees: ",T.entryFees||r.entryFees||"TBD",u.jsx("br",{}),"Registration Deadline: ",b(T.deadline||r.deadline||"TBD"),u.jsx("br",{}),"OTSE: ",T.otse||r.otse||"TBD"]}),u.jsxs("div",{className:"flex gap-4 mb-6",children:[u.jsx("button",{onClick:()=>P(L),disabled:A(L),className:`flex-1 h-10 ${A(L)?"bg-gray-200 border border-gray-400 text-black":"bg-gray-200 border border-gray-400 text-black hover:bg-gray-300"} rounded-lg font-semibold text-sm transition-colors flex justify-center items-center`,children:A(L)?"Registered ✓":"Register"}),u.jsx("button",{onClick:m,className:"flex-1 h-10 bg-gray-200 border border-gray-400 rounded-lg font-semibold text-sm text-black hover:bg-gray-300 transition-colors flex justify-center items-center",children:"Results"})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("p",{className:"text-xs text-black mb-4",children:"Event details are subject to change. Please check here periodically for updates."}),u.jsx("div",{className:"border-t border-gray-300 pt-4"})]})]},L))}),r.organizingCommittee&&r.organizingCommittee.length>1&&u.jsxs("div",{className:"mb-6",children:[u.jsx("p",{className:"text-xs font-bold text-black text-right mb-1",children:"Event Team"}),r.organizingCommittee.map((T,L)=>u.jsxs("p",{className:"text-xs text-black text-right",children:[T.name,". ",T.designation||"Not specified",". ",T.phone]},L))]}),u.jsx("button",{onClick:()=>l("home"),className:"mt-6 px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg text-sm font-semibold text-black hover:bg-gray-200 transition-colors",children:"← Back to Home"})]})}function jy({navigate:l}){const[r,s]=B.useState({fullName:"",collegeName:"",eventName:"",phone:"",email:""}),[a,o]=B.useState({phone:!1}),c=(m,p)=>{if(m==="phone"){const v=p.replace(/[^0-9]/g,"").slice(0,10);s(_=>({..._,[m]:v})),a.phone&&o(_=>({..._,phone:!1}))}else s(y=>({...y,[m]:p}))},h=()=>{if(r.phone.length<10){o(m=>({...m,phone:!0}));return}alert("Registration submitted successfully!"),l("home")};return u.jsxs("div",{className:"w-full min-h-screen bg-white p-4",children:[u.jsx("h1",{className:"text-lg font-bold text-black mb-6",children:"Register (Participation)"}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"w-full h-11 bg-gray-100 border border-gray-300 rounded-lg px-3 flex items-center",children:u.jsx("input",{type:"text",placeholder:"Full Name",value:r.fullName,onChange:m=>c("fullName",m.target.value),className:"w-full bg-transparent text-sm text-black outline-none"})}),u.jsx("div",{className:"w-full h-11 bg-gray-100 border border-gray-300 rounded-lg px-3 flex items-center",children:u.jsx("input",{type:"text",placeholder:"College Name",value:r.collegeName,onChange:m=>c("collegeName",m.target.value),className:"w-full bg-transparent text-sm text-black outline-none"})}),u.jsx("div",{className:"w-full h-11 bg-gray-100 border border-gray-300 rounded-lg px-3 flex items-center",children:u.jsx("input",{type:"text",placeholder:"Event Name",value:r.eventName,onChange:m=>c("eventName",m.target.value),className:"w-full bg-transparent text-sm text-black outline-none"})}),u.jsx("div",{className:`w-full h-11 bg-gray-100 border rounded-lg px-3 flex items-center ${a.phone?"border-red-500 bg-red-50":"border-gray-300"}`,children:u.jsx("input",{type:"tel",placeholder:"Mobile Number",value:r.phone,onChange:m=>c("phone",m.target.value),className:"w-full bg-transparent text-sm text-black outline-none placeholder-black",maxLength:10})}),a.phone&&u.jsx("p",{className:"text-red-500 text-xs mt-1",children:"Mobile number must be exactly 10 digits"}),u.jsx("div",{className:"w-full h-11 bg-gray-100 border border-gray-300 rounded-lg px-3 flex items-center",children:u.jsx("input",{type:"email",placeholder:"E‑mail id (confirmation will be sent)",value:r.email,onChange:m=>c("email",m.target.value),className:"w-full bg-transparent text-sm text-black outline-none"})}),u.jsx("button",{onClick:h,className:"w-full h-11 bg-gray-200 border border-gray-400 rounded-lg font-semibold text-sm text-black hover:bg-gray-300 transition-colors",children:"Submit Registration"})]}),u.jsx("button",{onClick:()=>l("home"),className:"mt-6 px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg text-sm font-semibold text-black hover:bg-gray-200 transition-colors",children:"← Back"})]})}const Ny=[{position:"1st Prize",name:"Arjun Patel",college:"Pandurang College",phone:"9876543210",email:"arjun@example.com"},{position:"2nd Prize",name:"Priya Sharma",college:"Sindhu College",phone:"9876543211",email:"priya@example.com"},{position:"3rd Prize",name:"Rahul Kumar",college:"ABV College",phone:"9876543212",email:"rahul@example.com"}];function Ey({navigate:l}){return u.jsxs("div",{className:"w-full min-h-screen bg-white p-4",children:[u.jsx("h1",{className:"text-lg font-bold text-black mb-6",children:"Results"}),u.jsx("div",{className:"space-y-2",children:Ny.map((r,s)=>u.jsxs("p",{className:"text-sm text-black",children:[r.position," — ",r.name," • ",r.college," • ",r.phone," • ",r.email]},s))}),u.jsx("button",{onClick:()=>l("home"),className:"mt-6 px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg text-sm font-semibold text-black hover:bg-gray-200 transition-colors",children:"← Back"})]})}function Cy({navigate:l}){return u.jsxs("div",{className:"w-full min-h-screen bg-white p-4",children:[u.jsx("h1",{className:"text-lg font-bold text-black mb-6",children:"Dashboard"}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("button",{onClick:()=>l("my_org"),className:"w-full h-12 bg-gray-100 border border-gray-300 rounded-lg flex items-center px-4 text-sm font-semibold text-black hover:bg-gray-200 transition-colors",children:"My Organised Events"}),u.jsx("button",{onClick:()=>l("add_event",void 0,void 0,!0),className:"w-full h-12 bg-gray-100 border border-gray-300 rounded-lg flex items-center px-4 text-sm font-semibold text-black hover:bg-gray-200 transition-colors",children:"Add New Event"}),u.jsx("button",{onClick:()=>l("my_part"),className:"w-full h-12 bg-gray-100 border border-gray-300 rounded-lg flex items-center px-4 text-sm font-semibold text-black hover:bg-gray-200 transition-colors",children:"My Participating Events"}),u.jsx("button",{onClick:()=>l("profile"),className:"w-full h-12 bg-gray-100 border border-gray-300 rounded-lg flex items-center px-4 text-sm font-semibold text-black hover:bg-gray-200 transition-colors",children:"Account / Profile"})]}),u.jsx("button",{onClick:()=>l("home"),className:"mt-6 px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg text-sm font-semibold text-black hover:bg-gray-200 transition-colors",children:"← Back to Home"})]})}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ty=l=>l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Py=l=>l.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,s,a)=>a?a.toUpperCase():s.toLowerCase()),ih=l=>{const r=Py(l);return r.charAt(0).toUpperCase()+r.slice(1)},Uh=(...l)=>l.filter((r,s,a)=>!!r&&r.trim()!==""&&a.indexOf(r)===s).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Oy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=B.forwardRef(({color:l="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:h,...m},p)=>B.createElement("svg",{ref:p,...Oy,width:r,height:r,stroke:l,strokeWidth:a?Number(s)*24/Number(r):s,className:Uh("lucide",o),...m},[...h.map(([y,v])=>B.createElement(y,v)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=(l,r)=>{const s=B.forwardRef(({className:a,...o},c)=>B.createElement(Ay,{ref:c,iconNode:r,className:Uh(`lucide-${Ty(ih(l))}`,`lucide-${l}`,a),...o}));return s.displayName=ih(l),s};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ra=At("arrow-left",Dy);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ah=At("calendar",Ry);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],ql=At("camera",Iy);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],oh=At("chevron-down",Ly);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],lh=At("chevron-up",$y);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Uy=At("file-text",My);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],zy=At("mail",Fy);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],Hy=At("message-circle",By);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=[["path",{d:"M5 12h14",key:"1ays0h"}]],ch=At("minus",Wy);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],oi=At("plus",Vy);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Fh=At("trash-2",qy);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Gy=At("users",Ky);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Yy=At("wifi-off",Jy);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],uh=At("wifi",Qy);function Xy({isOpen:l,onClose:r,subEventId:s,subEventName:a,subEventStartDate:o}){const[c,h]=B.useState({first:"",second:"",third:""});if(!l)return null;const m=()=>{if(!o)return!1;const v=new Date,_=new Date(o);return v.setHours(0,0,0,0),_.setHours(0,0,0,0),v>=_},p=(v,_)=>{if(!m()){alert(`Results can only be entered on or after the event start date (${new Date(o||"").toLocaleDateString()}).`);return}h(b=>({...b,[v]:_}))},y=()=>{if(!m()){alert(`Results can only be entered on or after the event start date (${new Date(o||"").toLocaleDateString()}).`);return}alert("Results saved successfully!"),r()};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg p-4 max-w-sm mx-4 shadow-lg",children:[u.jsx("div",{className:"mb-3",children:u.jsxs("h3",{className:"text-lg font-semibold text-black mb-2",children:["Results - ",a]})}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-sm text-black",children:"1st Place:"}),u.jsx("input",{type:"text",value:c.first,onChange:v=>p("first",v.target.value),className:"w-full h-5 px-1 bg-gray-50 border border-gray-300 rounded text-sm text-black leading-none mt-0.5",placeholder:"Enter winner name"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm text-black",children:"2nd Place:"}),u.jsx("input",{type:"text",value:c.second,onChange:v=>p("second",v.target.value),className:"w-full h-5 px-1 bg-gray-50 border border-gray-300 rounded text-sm text-black leading-none mt-0.5",placeholder:"Enter runner-up name"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-sm text-black",children:"3rd Place:"}),u.jsx("input",{type:"text",value:c.third,onChange:v=>p("third",v.target.value),className:"w-full h-5 px-1 bg-gray-50 border border-gray-300 rounded text-sm text-black leading-none mt-0.5",placeholder:"Enter third place name"})]})]}),u.jsxs("div",{className:"flex gap-2 justify-end mt-4",children:[u.jsx("button",{onClick:r,className:"px-4 py-2 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors",children:"Cancel"}),u.jsx("button",{onClick:y,className:"px-4 py-2 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Save Results"})]})]})})}function Zy({isOpen:l,onClose:r,memberIndex:s,onOTPSent:a}){const[o,c]=B.useState("sending"),[h,m]=B.useState("");if(B.useEffect(()=>{l&&(c("sending"),setTimeout(()=>{c("enter-otp")},1e3))},[l]),!l)return null;const p=()=>{h==="123456"?(a(),r(),alert("OTP verified successfully!")):alert("Invalid OTP. Please try again.")};return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsx("div",{className:"bg-white rounded-lg p-4 max-w-sm mx-4 shadow-lg",children:o==="sending"?u.jsxs("div",{className:"text-center",children:[u.jsx("h3",{className:"text-lg font-semibold text-black mb-2",children:"Sending OTP"}),u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"To confirm Phone Number, a OTP is sent on registered mobile number"}),u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})]}):u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-black mb-2",children:"Enter OTP"}),u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Please enter the OTP sent to your mobile number"}),u.jsx("input",{type:"text",value:h,onChange:y=>m(y.target.value),className:"w-full h-8 px-2 bg-gray-50 border border-gray-300 rounded text-sm text-black mb-4",placeholder:"Enter OTP",maxLength:6}),u.jsxs("div",{className:"flex gap-2 justify-end",children:[u.jsx("button",{onClick:r,className:"px-4 py-2 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors",children:"Cancel"}),u.jsx("button",{onClick:p,className:"px-4 py-2 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Save"})]})]})})})}function e0({navigate:l,addEvent:r,editingEvent:s,isNewFromDashboard:a,userProfile:o}){var pr,vs,xs,ws,bs,_s,Sn;const c={collegeName:((pr=o.profileData)==null?void 0:pr.collegeName)||"",address:((vs=o.profileData)==null?void 0:vs.collegeAddress)||"",locality:((xs=o.profileData)==null?void 0:xs.collegeLocality)||"",city:((ws=o.profileData)==null?void 0:ws.city)||"",pinCode:((bs=o.profileData)==null?void 0:bs.pincode)||""},[h,m]=B.useState({collegeName:c.collegeName,mainEventName:"",address:c.address,locality:c.locality,city:c.city,pinCode:c.pinCode,competitionType:"",startDate:"",endDate:"",isSingleDate:!1}),[p,y]=B.useState([{id:"sub-event-1",eventType:"",groupSingle:"",minParticipants:"1",maxParticipants:"1",startDate:"",endDate:"",isSingleDate:!1,timeHour:"10",timeMinute:"00",timeAmPm:"am",rules:[""],entryFees:"",registrationDeadlineDate:"",registrationDeadlineHour:"11",registrationDeadlineMinute:"59",registrationDeadlineAmPm:"pm",otse:"",performanceDurationMin:"",performanceDurationMax:"",timeLimitNotApplicable:!1,activateLiveFeed:!1,isActive:!0}]),[v,_]=B.useState([{name:o.name,designation:"",phone:o.phone,email:o.email,otpSent:!1,otpVerified:!1,otp:"",isFirstMember:!0}]),[b,R]=B.useState({}),[A,k]=B.useState({}),[P,T]=B.useState({}),[L,D]=B.useState({}),[U,q]=B.useState(new Set),[K,ne]=B.useState({eventId:"",show:!1}),[be,_e]=B.useState({memberIndex:-1,show:!1}),[je,ge]=B.useState({subEventId:"",ruleIndex:-1,show:!1}),[at,Me]=B.useState({}),[Le,Ge]=B.useState({}),[Ce,Ee]=B.useState({}),[Y,oe]=B.useState({isOpen:!1}),[Z,C]=B.useState({isOpen:!1,memberIndex:-1}),[z,fe]=B.useState({}),ye=B.useRef(null),ce=B.useRef(null),Se=["Dancing","Singing","Acting","Treasure Hunt","Debate","Personality Contest"],Te=["Inter-collegiate","Intra-collegiate","Inter-school","Intra-school","Online","Others"],Ne=["Free","₹10","₹20","₹30","₹40","₹50","₹60","₹70","₹80","₹90","₹100","₹150","₹200","₹250","₹300","₹350","₹400","₹450","₹500"],Ae=x=>{const j=b[x]||"";return Se.filter($=>$.toLowerCase().includes(j.toLowerCase()))},De="zhevents_add_event_form";B.useEffect(()=>{if(s){console.log("editingEvent in AddEvent:",s),console.log("editingEvent.dates:",s.dates);let x="",j="";if(s.dates.includes(" to ")){const $=s.dates.split(" to "),N=$[0].trim(),Q=$[1].trim(),xe=Q.match(/(\d+\w*)\s+(.+)/);if(xe){const Ue=xe[2];x=`${N} ${Ue}`,j=Q}else x=s.dates,j=s.dates}else x=s.dates,j=s.dates;if(console.log("startDateStr:",x),console.log("endDateStr:",j),m({collegeName:s.college,mainEventName:s.eventName,address:s.collegeAddress||c.address,locality:s.collegeLocality||c.locality,city:s.city||c.city,pinCode:s.pinCode||c.pinCode,competitionType:s.competition,startDate:vi(x),endDate:vi(j),isSingleDate:!s.dates.includes(" to ")}),s.organizingCommittee&&s.organizingCommittee.length>0&&_(s.organizingCommittee.map(($,N)=>({name:$.name||(N===0?o.name:""),designation:$.designation||"",phone:$.phone||(N===0?o.phone:""),email:$.email||(N===0?o.email:""),otpSent:$.otpSent||!1,otpVerified:$.otpVerified||N===0,otp:"",isFirstMember:N===0}))),s.subEventsDetail&&s.subEventsDetail.length>0){const $=s.subEventsDetail.map((N,Q)=>({...N,isActive:Q===0?!0:N.isActive}));y($)}else if(s.events&&s.events.length>0){const $=s.events.map((N,Q)=>{var xe,Ue,dt,Xe,Rt,bt,_t,rt;return{id:`sub-event-${Q+1}`,eventType:N.type||"",groupSingle:N.groupType||"",minParticipants:((xe=N.participants)==null?void 0:xe.split("–")[0])||"0",maxParticipants:((Ue=N.participants)==null?void 0:Ue.split("–")[1])||N.participants||"0",startDate:N.date||"",endDate:N.date||"",isSingleDate:!0,timeHour:((dt=N.time)==null?void 0:dt.split(":")[0])||"10",timeMinute:((bt=(Rt=(Xe=N.time)==null?void 0:Xe.split(":")[1])==null?void 0:Rt.split("am")[0])==null?void 0:bt.split("pm")[0])||"00",timeAmPm:(_t=N.time)!=null&&_t.includes("pm")?"pm":"am",rules:N.rules||[""],entryFees:N.entryFees||"Free",registrationDeadlineDate:((rt=N.deadline)==null?void 0:rt.split(" at ")[0])||"",registrationDeadlineHour:"11",registrationDeadlineMinute:"59",registrationDeadlineAmPm:"pm",otse:N.otse||"",performanceDurationMin:"",performanceDurationMax:"",timeLimitNotApplicable:!1,activateLiveFeed:!1,isActive:!0}});y($)}return}},[s]),B.useEffect(()=>{if(s)return;if(a){m(j=>({...j,mainEventName:"",competitionType:"",startDate:"",endDate:"",isSingleDate:!1})),y([{id:"sub-event-1",eventType:"",groupSingle:"",minParticipants:"0",maxParticipants:"0",startDate:"",endDate:"",isSingleDate:!1,timeHour:"10",timeMinute:"00",timeAmPm:"am",rules:[""],entryFees:"",registrationDeadlineDate:"",registrationDeadlineHour:"11",registrationDeadlineMinute:"59",registrationDeadlineAmPm:"pm",otse:"",performanceDurationMin:"",performanceDurationMax:"",timeLimitNotApplicable:!1,activateLiveFeed:!1,isActive:!0}]),_([{name:o.name,designation:"",phone:o.phone,email:o.email,otpSent:!1,otpVerified:!1,otp:"",isFirstMember:!0}]),R({}),k({}),T({}),D({}),q(new Set),ne({eventId:"",show:!1}),_e({memberIndex:-1,show:!1}),ge({subEventId:"",ruleIndex:-1,show:!1}),Me({}),Ge({}),Ee({}),localStorage.removeItem(De);return}const x=localStorage.getItem(De);if(x)try{const j=JSON.parse(x);if(j.eventData&&m($=>({...$,...j.eventData,isSingleDate:j.eventData.isSingleDate??!1})),j.subEvents&&Array.isArray(j.subEvents)){const $=j.subEvents.map((N,Q)=>({...N,isActive:Q===0?!0:N.isActive}));y($)}j.organizingCommittee&&_(j.organizingCommittee)}catch(j){console.error("Failed to load saved form data:",j)}},[a,s,o.name,o.phone,o.email]),B.useEffect(()=>{!s&&!a&&(m({collegeName:c.collegeName,mainEventName:"",address:c.address,locality:c.locality,city:c.city,pinCode:c.pinCode,competitionType:"",startDate:"",endDate:"",isSingleDate:!1}),y([{id:"sub-event-1",eventType:"",groupSingle:"",minParticipants:"1",maxParticipants:"1",startDate:"",endDate:"",isSingleDate:!1,timeHour:"10",timeMinute:"00",timeAmPm:"am",rules:[""],entryFees:"",registrationDeadlineDate:"",registrationDeadlineHour:"11",registrationDeadlineMinute:"59",registrationDeadlineAmPm:"pm",otse:"",performanceDurationMin:"",performanceDurationMax:"",timeLimitNotApplicable:!1,activateLiveFeed:!1,isActive:!0}]),_([{name:o.name,designation:"",phone:o.phone,email:o.email,otpSent:!1,otpVerified:!1,otp:"",isFirstMember:!0}]),R({}),k({}),T({}),D({}),q(new Set),ne({eventId:"",show:!1}),_e({memberIndex:-1,show:!1}),ge({subEventId:"",ruleIndex:-1,show:!1}),Me({}),Ge({}),Ee({}),localStorage.removeItem(De))},[s]),B.useEffect(()=>{if(s)return;if(h.mainEventName.trim()||p.some(j=>j.eventType.trim()||j.groupSingle.trim()||j.startDate.trim())){const j={eventData:h,subEvents:p,organizingCommittee:v,timestamp:Date.now()};localStorage.setItem(De,JSON.stringify(j))}},[h,p,v,s]),B.useEffect(()=>{const x=j=>{const $=document.querySelectorAll(".event-type-dropdown");Array.from($).every(Q=>!Q.contains(j.target))&&k({}),ce.current&&!ce.current.contains(j.target)&&D({})};return document.addEventListener("mousedown",x),()=>{document.removeEventListener("mousedown",x)}},[]),B.useEffect(()=>()=>{Object.values(z).forEach(x=>{x.getTracks().forEach(j=>j.stop())})},[z]);const F=async x=>{try{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){alert("Camera access is not supported in this browser or environment.");return}try{if((await navigator.permissions.query({name:"camera"})).state==="denied"){alert(`Camera permission is blocked. Please:

1. Click the camera/lock icon in your browser's address bar
2. Select "Allow" for camera access
3. Refresh the page and try again

Note: Camera access requires HTTPS or localhost.`);return}}catch{console.log("Permission API not supported, proceeding with camera request")}if(!(await navigator.mediaDevices.enumerateDevices()).some(Q=>Q.kind==="videoinput")){alert("No camera found on this device. Please connect a camera and try again.");return}const N=await Promise.race([navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},facingMode:"user"},audio:!0}),new Promise((Q,xe)=>setTimeout(()=>xe(new Error("Camera request timeout")),1e4))]);fe(Q=>({...Q,[x]:N})),W(x,"activateLiveFeed",!0),localStorage.setItem(`zhevents_live_stream_${x}`,JSON.stringify({eventId:x,activated:!0,timestamp:Date.now()})),console.log(`Live feed activated for sub-event: ${x}`),alert("✅ Live feed activated! Camera access granted successfully.")}catch(j){if(console.error("Error accessing camera:",j),j instanceof Error)switch(j.name){case"NotAllowedError":alert(`🚫 Camera Permission Denied

To enable camera access:

📱 On Mobile:
• Tap the camera icon in your browser
• Select "Allow" for camera access
• Refresh the page

💻 On Desktop:
• Click the camera icon in address bar
• Select "Allow" for camera
• Refresh the page

⚠️ Note: Camera requires HTTPS or localhost`);break;case"NotFoundError":alert(`📷 No Camera Found

Please check:
• Camera is connected properly
• No other app is using the camera
• Camera drivers are installed
• Try reconnecting your camera`);break;case"NotReadableError":alert(`⚠️ Camera In Use

The camera is already being used by another application.

Please:
• Close other apps using the camera
• Close other browser tabs with camera access
• Restart your browser and try again`);break;case"OverconstrainedError":alert(`⚙️ Camera Settings Issue

Your camera doesn't support the required settings.

Trying with basic settings...`);try{const $=await navigator.mediaDevices.getUserMedia({video:!0,audio:!1});fe(N=>({...N,[x]:$})),W(x,"activateLiveFeed",!0),alert("✅ Live feed activated with basic settings!");return}catch{alert("❌ Unable to access camera even with basic settings. Please check your camera configuration.")}break;case"SecurityError":alert(`🔒 Security Error

Camera access is blocked for security reasons.

• Make sure you're using HTTPS or localhost
• Check if camera access is allowed in browser settings
• Try using a different browser`);break;default:j.message==="Camera request timeout"?alert(`⏱️ Camera Request Timeout

The camera request took too long.

Please:
• Check your camera connection
• Close other camera applications
• Try again in a few moments`):alert(`❌ Camera Error: ${j.message}

Troubleshooting:
• Refresh the page and try again
• Check camera permissions in browser settings
• Ensure no other app is using the camera
• Try using a different browser`)}else alert(`❌ Camera Access Failed

Please ensure:

✅ Camera permissions are granted
✅ No other app is using the camera
✅ You're using HTTPS or localhost
✅ Your browser supports camera access
✅ Camera is properly connected

Try refreshing the page and allowing camera access when prompted.`);W(x,"activateLiveFeed",!1)}},X=x=>{const j=z[x];j&&(j.getTracks().forEach($=>$.stop()),fe($=>{const N={...$};return delete N[x],N})),W(x,"activateLiveFeed",!1),localStorage.removeItem(`zhevents_live_stream_${x}`),console.log(`Live feed deactivated for sub-event: ${x}`),alert("Live feed deactivated.")},W=(x,j,$)=>{y(N=>N.map(Q=>Q.id===x?{...Q,[j]:$}:Q))},le=x=>{if(!(!x.registrationDeadlineDate||!x.startDate||!x.registrationDeadlineHour||!x.registrationDeadlineMinute||!x.registrationDeadlineAmPm||!x.timeHour||!x.timeMinute||!x.timeAmPm)){try{const j=new Date(x.registrationDeadlineDate),$=new Date(x.startDate),N=parseInt(x.registrationDeadlineHour),Q=x.registrationDeadlineAmPm==="pm"&&N!==12?N+12:x.registrationDeadlineAmPm==="am"&&N===12?0:N;j.setHours(Q,parseInt(x.registrationDeadlineMinute),0,0);const xe=parseInt(x.timeHour),Ue=x.timeAmPm==="pm"&&xe!==12?xe+12:x.timeAmPm==="am"&&xe===12?0:xe;if($.setHours(Ue,parseInt(x.timeMinute),0,0),j>$){const dt=p.findIndex(rt=>rt.id===x.id)+1,Xe=x.eventType||`Sub Event-${dt}`,Rt=j.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})+" at "+j.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),bt=$.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})+" at "+$.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0});return confirm(`Registration Deadline Alert

Registration deadline is AFTER the event start time.
• OK: Keep current deadline
• Cancel: Reset deadline`)?!0:(W(x.id,"registrationDeadlineDate",""),W(x.id,"registrationDeadlineHour","11"),W(x.id,"registrationDeadlineMinute","59"),W(x.id,"registrationDeadlineAmPm","pm"),!1)}}catch(j){console.error("Error checking registration deadline:",j)}return!0}},ve=(x,j)=>{const $=[];for(let N=x;N<=j;N++)$.push(N.toString());return $},Ye=(x,j)=>{const $=[];for(let N=Math.max(x,1);N<=j;N++)$.push(N.toString());return $},Yt=x=>{x&&y(j=>j.map($=>$.id===x&&$.rules.length<5?{...$,rules:[...$.rules,""]}:$))},Qe=(x,j)=>{y($=>$.map(N=>N.id===x&&N.rules.length>1?{...N,rules:N.rules.filter((Q,xe)=>xe!==j)}:N)),ge({subEventId:"",ruleIndex:-1,show:!1})},jr=(x,j,$)=>{$.length<=250&&y(N=>N.map(Q=>Q.id===x?{...Q,rules:Q.rules.map((xe,Ue)=>Ue===j?$:xe)}:Q))},fr=(x,j)=>{j&&(W(j,"eventType",x),R($=>({...$,[j]:x})),k($=>({...$,[j]:!1})))},Nr=()=>{if(v.filter($=>!$.isFirstMember).some($=>!$.otpVerified)){alert("Please verify OTP for all existing committee members before adding a new member.");return}_($=>[...$,{name:"",designation:"",phone:"",email:"",otpSent:!1,otpVerified:!1,otp:"",isFirstMember:!1}])},ds=x=>{if(v.length>1&&!v[x].isFirstMember){const j=v.filter(($,N)=>N!==x);_(j)}},tn=(x,j,$)=>{const N=[...v];if(j==="phone"&&!N[x].isFirstMember){const xe=$.replace(/[^0-9]/g,"").slice(0,10);N[x]={...N[x],[j]:xe}}else j==="email"&&!N[x].isFirstMember?N[x]={...N[x],[j]:$}:N[x]={...N[x],[j]:$};_(N)},hs=x=>{var j,$;if(x==="sub-event-1"&&((j=p.find(Q=>Q.id===x))==null?void 0:j.isActive)){alert("The first sub-event cannot be deactivated. It must remain active.");return}W(x,"isActive",!(($=p.find(N=>N.id===x))!=null&&$.isActive))},fs=x=>{q(j=>{const $=new Set(j);return $.has(x)?$.delete(x):$.add(x),$})},gi=x=>{const j=v[x];if(!j.name||!j.designation||!j.phone||!j.email){alert("Please fill all mandatory fields first");return}if(!j.isFirstMember&&j.phone.length!==10){alert("Please enter a valid phone number");return}if(!j.isFirstMember&&!j.email.includes("@")){alert("Please enter a valid email address");return}C({isOpen:!0,memberIndex:x})},ms=()=>{const x=[...v];x[Z.memberIndex]={...x[Z.memberIndex],otpSent:!0,otpVerified:!0},_(x)},Er=()=>{const x={id:`sub-event-${p.length+1}`,eventType:"",groupSingle:"",minParticipants:a?"0":"1",maxParticipants:a?"0":"1",startDate:"",endDate:"",isSingleDate:!1,timeHour:"10",timeMinute:"00",timeAmPm:"am",rules:[""],entryFees:"",registrationDeadlineDate:"",registrationDeadlineHour:"11",registrationDeadlineMinute:"59",registrationDeadlineAmPm:"pm",otse:"",performanceDurationMin:"",performanceDurationMax:"",timeLimitNotApplicable:!1,activateLiveFeed:!1,isActive:!0};y(j=>[...j,x])},yi=x=>{ne({eventId:x,show:!0})},Cr=()=>{ne({eventId:"",show:!1})},rn=()=>{const x=K.eventId;y(j=>j.filter($=>$.id!==x)),q(j=>{const $=new Set(j);return $.delete(x),$}),Cr()},vi=x=>{if(console.log("parseEventDate called with:",x),!x)return"";const j=x.replace(/(\d+)(st|nd|rd|th)/gi,"$1");console.log("After removing ordinals:",j);const $=/\b(\d{1,2})\s+(\w+)\s+(\d{2,4})\b/,N=j.match($);if(N){const[,Q,xe,Ue]=N,dt=Ue.length===2?parseInt(Ue)<=79?`20${Ue}`:`19${Ue}`:Ue,Rt={jan:"01",january:"01",feb:"02",february:"02",mar:"03",march:"03",apr:"04",april:"04",may:"05",jun:"06",june:"06",jul:"07",july:"07",aug:"08",august:"08",sep:"09",september:"09",sept:"09",oct:"10",october:"10",nov:"11",november:"11",dec:"12",december:"12"}[xe.toLowerCase()];if(Rt){const bt=Q.padStart(2,"0"),_t=`${dt}-${Rt}-${bt}`;console.log("Constructed ISO date:",_t);const rt=new Date(_t);if(!isNaN(rt.getTime()))return console.log("Successfully parsed date:",rt),_t}}return console.log("Date parsing failed, returning empty string"),""},Tr=x=>{if(!x)return"";const j=new Date(x);if(isNaN(j.getTime()))return"";const $=j.getDate().toString().padStart(2,"0"),N=(j.getMonth()+1).toString().padStart(2,"0"),Q=j.getFullYear().toString();return`${$}-${N}-${Q}`},Pr=()=>new Date().toISOString().split("T")[0],La=()=>{var N,Q,xe,Ue,dt,Xe,Rt,bt,_t;const x={collegeName:(N=h.collegeName)==null?void 0:N.trim(),mainEventName:(Q=h.mainEventName)==null?void 0:Q.trim(),address:(xe=h.address)==null?void 0:xe.trim(),locality:(Ue=h.locality)==null?void 0:Ue.trim(),city:(dt=h.city)==null?void 0:dt.trim(),pinCode:(Xe=h.pinCode)==null?void 0:Xe.trim(),competitionType:(Rt=h.competitionType)==null?void 0:Rt.trim(),startDate:(bt=h.startDate)==null?void 0:bt.trim(),endDate:(_t=h.endDate)==null?void 0:_t.trim()},j=[],$={};return x.collegeName||(j.push("College Name"),$.collegeName=!0),x.mainEventName||(j.push("Main Event"),$.mainEventName=!0),x.address||(j.push("Address"),$.address=!0),x.locality||(j.push("Location"),$.locality=!0),x.city||(j.push("City"),$.city=!0),x.pinCode||(j.push("Pin Code"),$.pinCode=!0),x.competitionType||(j.push("Comp. Type"),$.competitionType=!0),x.startDate||(j.push("Main Event Start Date"),$.startDate=!0),x.endDate||(j.push("Main Event End Date"),$.endDate=!0),Ee($),{isValid:j.length===0,missingFields:j}},Dt=x=>{Ee(j=>{if(j[x]){const $={...j};return delete $[x],$}return j})},ps=x=>{var Q;const j=p.find(xe=>xe.id===x);if(!j)return{isValid:!1,missingFields:[],errors:{}};const $=[],N={};if(j.eventType.trim()||($.push("Event Type"),N.eventType=!0),j.groupSingle.trim()||($.push("Group/Single"),N.groupSingle=!0),(!j.minParticipants||!j.maxParticipants||parseInt(j.minParticipants)===0||parseInt(j.maxParticipants)===0)&&($.push("Number of Participants"),N.participants=!0),(!j.startDate.trim()||!j.isSingleDate&&!j.endDate.trim())&&($.push("Event Dates"),N.eventDates=!0),(!j.timeHour.trim()||!((Q=j.timeMinute)!=null&&Q.trim())||!j.timeAmPm.trim())&&($.push("Event Time"),N.time=!0),j.entryFees.trim()||($.push("Entry Fees"),N.entryFees=!0),(!j.registrationDeadlineDate.trim()||!j.registrationDeadlineHour.trim()||!j.registrationDeadlineMinute.trim()||!j.registrationDeadlineAmPm.trim())&&($.push("Registration Deadline"),N.regDeadline=!0),j.otse.trim()||($.push("On the Spot Entry (OTSE)"),N.otse=!0),!j.timeLimitNotApplicable&&(!j.performanceDurationMin.trim()||j.performanceDurationMin==="0")&&(!j.performanceDurationMax.trim()||j.performanceDurationMax==="0")&&($.push("Time Limit"),N.duration=!0),j.registrationDeadlineDate.trim()&&j.startDate.trim()){const xe=new Date(j.registrationDeadlineDate),Ue=j.isSingleDate?new Date(j.startDate):new Date(j.endDate||j.startDate);xe.setHours(parseInt(j.registrationDeadlineHour)+(j.registrationDeadlineAmPm==="pm"&&j.registrationDeadlineHour!=="12"?12:0),parseInt(j.registrationDeadlineMinute),0,0),Ue.setHours(23,59,59,999),xe>Ue&&($.push("Registration Deadline cannot be beyond the event end date"),N.regDeadline=!0)}return Ge(xe=>({...xe,[x]:N})),{isValid:$.length===0,missingFields:$,errors:N}},gs=x=>{const j=p.find($=>$.id===x);j&&(j.activateLiveFeed?X(x):F(x))},ys=()=>{var ks,js,wi;const x=La();if(!x.isValid){alert(`Please complete all mandatory main form fields first:

${x.missingFields.join(`
`)}`);return}if(p.filter(ee=>ee.isActive?ps(ee.id).isValid:!1).length===0){alert("Please complete at least one sub-event with all mandatory fields before saving.");return}const $=[];for(const ee of p)if(ee.isActive&&ee.registrationDeadlineDate.trim()&&ee.startDate.trim()){const we=new Date(ee.registrationDeadlineDate),It=ee.isSingleDate?new Date(ee.startDate):new Date(ee.endDate||ee.startDate);if(we.setHours(parseInt(ee.registrationDeadlineHour)+(ee.registrationDeadlineAmPm==="pm"&&ee.registrationDeadlineHour!=="12"?12:0),parseInt(ee.registrationDeadlineMinute),0,0),It.setHours(23,59,59,999),we>It){const St=p.findIndex(vt=>vt.id===ee.id)+1;$.push(`Sub Event ${St}: Registration deadline (${we.toLocaleDateString()}) is beyond event end date (${It.toLocaleDateString()})`)}}if($.length>0){alert(`Please fix the following registration deadline issues:\\n\\n${$.join("\\n\\n")}`);return}if(v.filter(ee=>{var we;return!((we=ee.designation)!=null&&we.trim())}).length>0){alert("Please fill in the Department field for all organizing committee members before saving.");return}if(v.filter(ee=>!ee.isFirstMember&&ee.email&&!ee.email.includes("@")).length>0){alert("Please enter valid email addresses with @ symbol for all organizing committee members before saving.");return}if(v.filter(ee=>!ee.isFirstMember&&ee.phone&&ee.phone.length!==10).length>0){alert("Please enter a valid phone number for all organizing committee members before saving.");return}if(v.filter(ee=>!ee.isFirstMember&&!ee.otpVerified).length>0){alert("Please verify OTP for all organizing committee members (except the first member) before saving.");return}const dt=p,Xe=p.filter(ee=>ee.isActive),Rt=(ee,we)=>{if(!ee)return"";const It=new Date(ee),St=we?new Date(we):It;if(isNaN(It.getTime())||we&&isNaN(St.getTime()))return ee;const vt=It.getDate(),ar=St.getDate(),kt=It.toLocaleDateString("en-US",{month:"short"}),Bt=It.getFullYear().toString().slice(-2);return vt===ar?`${vt}${bt(vt)} ${kt} ${Bt}`:`${vt}${bt(vt)} to ${ar}${bt(ar)} ${kt} ${Bt}`},bt=ee=>{if(ee>3&&ee<21)return"th";switch(ee%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},_t=h.mainEventName.toLowerCase().replace(/[^a-z0-9]/g,"").slice(0,10)||"event"+Date.now(),rt=dt.map(ee=>ee.eventType).filter(ee=>ee),kn=rt.reduce((ee,we)=>(ee[we]=(ee[we]||0)+1,ee),{}),xi=rt.length>0?Object.keys(kn).reduce((ee,we)=>kn[ee]>kn[we]?ee:we,"Mixed"):"Mixed",$a=Xe.map((ee,we)=>{const It=(St,vt,ar)=>{if(!St)return"";const kt=new Date(St),Bt=vt?new Date(vt):kt;if(isNaN(kt.getTime()))return St;if(vt&&isNaN(Bt.getTime()))return kt.toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric"});const Or=kt.toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric"});if(ar||!vt||kt.toDateString()===Bt.toDateString())return Or;const Ht=Bt.toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric"});if(kt.getMonth()===Bt.getMonth()&&kt.getFullYear()===Bt.getFullYear()){const Ma=kt.getDate(),Lt=Bt.getDate(),Ua=kt.toLocaleDateString("en-US",{month:"short",year:"numeric"});return`${Ma} to ${Lt} ${Ua}`}return`${Or} to ${Ht}`};return{name:`Event ${we+1}`,type:ee.eventType,competition:h.competitionType,groupType:ee.groupSingle,date:It(ee.startDate,ee.endDate,ee.isSingleDate),time:`${ee.timeHour}:${ee.timeMinute}${ee.timeAmPm}`,participants:ee.groupSingle==="Single"?"1":`${ee.minParticipants}–${ee.maxParticipants}`,rules:ee.rules.filter(St=>St.trim()!==""),contact:v[0]?`${v[0].name} • ${v[0].phone}`:"Contact info not available",entryFees:ee.entryFees,deadline:ee.registrationDeadlineDate?`${new Date(ee.registrationDeadlineDate).toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric"})} at ${ee.registrationDeadlineHour}:${ee.registrationDeadlineMinute}${ee.registrationDeadlineAmPm} (or until slots are available)`:"TBD",otse:ee.otse||"No"}}),Ss={id:_t,college:h.collegeName,eventName:h.mainEventName,location:`${h.city}, ${h.locality}`,dates:Rt(h.startDate,h.endDate),type:rt.length>1?"Mixed":xi,competition:h.competitionType,color:"bg-blue-200",address:h.address,contact:v[0]?`${v[0].name} • ${v[0].phone}`:"Contact info not available",entryFees:((ks=Xe[0])==null?void 0:ks.entryFees)||"TBD",deadline:(js=Xe[0])!=null&&js.registrationDeadlineDate?`${new Date(Xe[0].registrationDeadlineDate).toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric"})} at ${Xe[0].registrationDeadlineHour}:${Xe[0].registrationDeadlineMinute}${Xe[0].registrationDeadlineAmPm} (or until slots are available)`:"TBD",otse:((wi=Xe[0])==null?void 0:wi.otse)||"No",events:$a,collegeName:h.collegeName,collegeAddress:h.address,collegeLocality:h.locality,city:h.city,pinCode:h.pinCode,subEventsDetail:dt,organizingCommittee:v},jn=!!s;r(Ss,jn),localStorage.removeItem("zhevents_add_event_form"),alert(jn?"Event updated successfully!":`Event added successfully!

You can now continue adding more sub-events to this main event. Each sub-event will be automatically linked to your main event.`),jn||l("add_event",void 0,Ss,!1)},Re=(x,j)=>j?x.replace("border-gray-300","border-red-300").replace("bg-gray-50","bg-red-50").replace("bg-white","bg-red-50"):x,mr=(x,j)=>{const $=Le[x.id]||{};return u.jsxs("div",{className:"space-y-0.5",children:[u.jsxs("div",{className:"grid grid-cols-[85px_1fr] items-center",children:[u.jsx("label",{className:"text-sm text-black",children:"Category:"}),u.jsxs("div",{className:"relative event-type-dropdown",ref:ye,children:[u.jsx("input",{type:"text",value:x.eventType||"",onChange:N=>{W(x.id,"eventType",N.target.value),R(Q=>({...Q,[x.id]:N.target.value})),k(Q=>({...Q,[x.id]:!0}))},onFocus:()=>k(N=>({...N,[x.id]:!0})),className:Re("w-full h-6 px-1 bg-transparent border border-gray-300 rounded text-sm text-black leading-normal",$.eventType),placeholder:"Type or select event type"}),A[x.id]&&Ae(x.id).length>0&&u.jsx("div",{className:"absolute top-full left-0 w-full bg-white border border-gray-300 rounded mt-0.5 max-h-24 overflow-y-auto scrollbar-hide z-10",children:Ae(x.id).map(N=>u.jsx("div",{onClick:Q=>{Q.preventDefault(),Q.stopPropagation(),fr(N,x.id)},className:"px-1 py-0.5 text-sm text-black hover:bg-gray-100 cursor-pointer",children:N},N))})]})]}),u.jsxs("div",{className:"grid grid-cols-[85px_1fr] items-center",children:[u.jsx("label",{className:"text-sm text-black",children:"Group/Single:"}),u.jsxs("select",{value:x.groupSingle||"",onChange:N=>{W(x.id,"groupSingle",N.target.value),N.target.value==="Single"?(W(x.id,"minParticipants","1"),W(x.id,"maxParticipants","1")):N.target.value==="Group"&&(parseInt(x.minParticipants)||1)<2&&(W(x.id,"minParticipants","2"),W(x.id,"maxParticipants","2"))},className:Re("h-6 px-1 bg-transparent border border-gray-300 rounded text-sm text-black leading-normal",$.groupSingle),children:[u.jsx("option",{value:"",disabled:!0,hidden:!0}),u.jsx("option",{value:"Group",children:"Group"}),u.jsx("option",{value:"Single",children:"Single"})]})]}),u.jsxs("div",{className:"grid grid-cols-[85px_1fr] items-center mt-0.5",children:[u.jsx("label",{className:"text-sm text-black",children:"Participants:"}),u.jsx("div",{className:"flex gap-1 items-center",children:x.groupSingle==="Single"?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"h-6 px-1 border border-gray-300 rounded text-sm text-black leading-none w-7 flex items-center justify-center",children:"1"}),u.jsx("span",{className:"text-xs ml-1",children:"Min"})]}):u.jsxs(u.Fragment,{children:[u.jsx("select",{value:x.minParticipants||"0",onChange:N=>{const Q=parseInt(N.target.value),xe=parseInt(x.maxParticipants)||0;W(x.id,"minParticipants",N.target.value),xe<Q&&W(x.id,"maxParticipants",N.target.value)},className:Re("h-6 px-1 bg-transparent border border-gray-300 rounded text-sm text-black leading-none w-7 scrollbar-hide",$.participants),children:Ye(x.groupSingle==="Group"?2:1,20).map(N=>u.jsx("option",{value:N,children:N},N))}),u.jsx("span",{className:"text-xs ml-1",children:"Min"}),u.jsx("span",{className:"text-xs mx-1",children:"to"}),u.jsx("select",{value:x.maxParticipants||"0",onChange:N=>W(x.id,"maxParticipants",N.target.value),className:Re("h-6 px-1 bg-transparent border border-gray-300 rounded text-sm text-black leading-none w-7 scrollbar-hide",$.participants),children:Ye(parseInt(x.minParticipants)||1,20).map(N=>u.jsx("option",{value:N,children:N},N))}),u.jsx("span",{className:"text-xs ml-1",children:"Max"})]})})]}),u.jsxs("div",{className:"grid grid-cols-[85px_1fr] items-center",children:[u.jsx("label",{className:"text-sm text-black",children:"Sub Event Dt.:"}),u.jsxs("div",{className:"flex gap-1 items-center max-w-full",children:[u.jsx("input",{type:"date",value:x.startDate||"",onChange:N=>{const Q=N.target.value;W(x.id,"startDate",Q),Q&&W(x.id,"endDate",Q),setTimeout(()=>{const xe={...x,startDate:Q,endDate:Q};le(xe)},100)},min:Pr(),className:Re("h-6 px-1 bg-transparent border border-gray-300 rounded text-black w-28",$.eventDates),style:{colorScheme:"light"},"data-date":Tr(x.startDate)}),u.jsx("span",{className:"text-xs flex-shrink-0",children:"to"}),u.jsx("input",{type:"date",value:x.endDate||"",onChange:N=>{W(x.id,"endDate",N.target.value),setTimeout(()=>{const Q={...x,endDate:N.target.value};le(Q)},100)},min:x.startDate||Pr(),className:Re("h-6 px-1 bg-transparent border border-gray-300 rounded text-black w-28",$.eventDates),style:{colorScheme:"light"},"data-date":Tr(x.endDate)})]})]}),u.jsxs("div",{className:"grid grid-cols-[85px_1fr] items-center",children:[u.jsx("label",{className:"text-sm text-black",children:"Time:"}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx("select",{value:x.timeHour,onChange:N=>{W(x.id,"timeHour",N.target.value),setTimeout(()=>{const Q={...x,timeHour:N.target.value};le(Q)},100)},className:Re("h-6 px-1 bg-transparent border border-gray-300 rounded text-sm text-black leading-none w-7",$.time),children:ve(1,12).map(N=>u.jsx("option",{value:N,children:N.toString().padStart(2,"0")},N))}),u.jsx("span",{className:"text-xs self-center",children:":"}),u.jsx("select",{value:x.timeMinute||"00",onChange:N=>{W(x.id,"timeMinute",N.target.value),setTimeout(()=>{const Q={...x,timeMinute:N.target.value};le(Q)},100)},className:Re("h-6 px-1 bg-transparent border border-gray-300 rounded text-sm text-black leading-none w-7 scrollbar-hide",$.time),children:ve(0,59).map(N=>u.jsx("option",{value:N.toString().padStart(2,"0"),children:N.toString().padStart(2,"0")},N))}),u.jsxs("select",{value:x.timeAmPm,onChange:N=>{W(x.id,"timeAmPm",N.target.value),setTimeout(()=>{const Q={...x,timeAmPm:N.target.value};le(Q)},100)},className:Re("h-6 px-1 bg-transparent border border-gray-300 rounded text-sm text-black leading-none self-center",$.time),children:[u.jsx("option",{value:"am",children:"am"}),u.jsx("option",{value:"pm",children:"pm"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-[85px_1fr] items-center",children:[u.jsx("label",{className:"text-sm text-black",children:"Perform Dur.:"}),u.jsxs("div",{className:"flex gap-1 items-center",children:[u.jsx("select",{value:x.performanceDurationMin,onChange:N=>{W(x.id,"performanceDurationMin",N.target.value),N.target.value!=="0"&&x.timeLimitNotApplicable&&W(x.id,"timeLimitNotApplicable",!1)},className:Re("h-6 px-1 bg-transparent border border-gray-300 rounded text-sm text-black leading-none w-7",$.duration),disabled:x.timeLimitNotApplicable,children:ve(0,12).map(N=>u.jsx("option",{value:N,children:N.toString().padStart(2,"0")},N))}),u.jsx("span",{className:"text-xs text-[12px]",children:"hrs"}),u.jsx("select",{value:x.performanceDurationMax,onChange:N=>{W(x.id,"performanceDurationMax",N.target.value),N.target.value!=="0"&&x.timeLimitNotApplicable&&W(x.id,"timeLimitNotApplicable",!1)},className:Re("h-6 px-1 bg-transparent border border-gray-300 rounded text-sm text-black leading-normal w-7 scrollbar-hide",$.duration),disabled:x.timeLimitNotApplicable,children:ve(0,59).map(N=>u.jsx("option",{value:N,children:N.toString().padStart(2,"0")},N))}),u.jsx("span",{className:"text-xs text-[12px]",children:"mins"}),u.jsxs("label",{className:"flex items-center gap-1 ml-1",children:[u.jsx("input",{type:"checkbox",checked:x.timeLimitNotApplicable,onChange:N=>{W(x.id,"timeLimitNotApplicable",N.target.checked),N.target.checked&&(W(x.id,"performanceDurationMin","0"),W(x.id,"performanceDurationMax","0"))},className:"h-3 w-3 appearance-none border border-gray-300 rounded-none bg-white checked:bg-gray-300 checked:border-gray-400 relative checked:after:content-['✓'] checked:after:text-black checked:after:text-xs checked:after:absolute checked:after:inset-0 checked:after:flex checked:after:items-center checked:after:justify-center checked:after:leading-none"}),u.jsx("span",{className:"text-xs text-black text-[12px]",children:"N.A."})]})]})]}),u.jsxs("div",{className:"grid grid-cols-[85px_1fr] items-start",children:[u.jsx("label",{className:"text-sm text-black",children:"Rules:"}),u.jsx("div",{className:"space-y-0.5",children:x.rules.map((N,Q)=>u.jsxs("div",{className:"flex gap-1 items-center",children:[u.jsx("input",{type:"text",value:N,onChange:xe=>jr(x.id,Q,xe.target.value),className:"flex-1 h-6 px-1 bg-transparent border border-gray-300 rounded text-sm text-black leading-normal",placeholder:"Upto 250 characters",maxLength:250}),x.rules.length>1&&u.jsx("button",{onClick:()=>ge({subEventId:x.id,ruleIndex:Q,show:!0}),className:"h-5 w-5 bg-gray-100 border border-gray-300 rounded text-xs text-gray-700 hover:bg-gray-200 flex items-center justify-center",children:u.jsx(ch,{size:10})}),Q===x.rules.length-1&&x.rules.length<5&&u.jsx("button",{onClick:()=>Yt(x.id),className:"h-5 w-5 bg-gray-100 border border-gray-300 rounded text-xs text-gray-700 hover:bg-gray-200 flex items-center justify-center",children:u.jsx(oi,{size:10})})]},Q))})]}),u.jsxs("div",{className:"grid grid-cols-[85px_1fr] items-center",children:[u.jsx("label",{className:"text-sm text-black",children:"Entry Fees:"}),u.jsxs("select",{value:x.entryFees||"",onChange:N=>W(x.id,"entryFees",N.target.value),className:Re("h-6 px-1 bg-transparent border border-gray-300 rounded text-sm text-black leading-normal",$.entryFees),children:[u.jsx("option",{value:"",disabled:!0,hidden:!0}),Ne.map(N=>u.jsx("option",{value:N,children:N},N))]})]}),u.jsxs("div",{className:"grid grid-cols-[85px_1fr] items-center",children:[u.jsx("label",{className:"text-sm text-black",children:"Reg. Deadline:"}),u.jsxs("div",{className:"flex gap-1 items-center justify-between",children:[u.jsxs("div",{className:"flex gap-1 items-center",children:[u.jsx("input",{type:"date",value:x.registrationDeadlineDate,onChange:N=>{W(x.id,"registrationDeadlineDate",N.target.value),setTimeout(()=>{const Q={...x,registrationDeadlineDate:N.target.value};le(Q)},100)},min:Pr(),max:x.isSingleDate?x.startDate:x.endDate||x.startDate,className:Re("h-6 px-1 bg-transparent border border-gray-300 rounded text-black w-28",$.regDeadline),style:{colorScheme:"light"},"data-date":Tr(x.registrationDeadlineDate)}),u.jsx("div",{className:"w-1"}),u.jsx("select",{value:x.registrationDeadlineHour,onChange:N=>{W(x.id,"registrationDeadlineHour",N.target.value),setTimeout(()=>{const Q={...x,registrationDeadlineHour:N.target.value};le(Q)},100)},className:Re("h-6 px-1 bg-transparent border border-gray-300 rounded text-sm text-black leading-none w-7",$.regDeadline),children:ve(1,12).map(N=>u.jsx("option",{value:N,children:N.toString().padStart(2,"0")},N))}),u.jsx("span",{className:"text-xs",children:":"}),u.jsx("select",{value:x.registrationDeadlineMinute,onChange:N=>{W(x.id,"registrationDeadlineMinute",N.target.value),setTimeout(()=>{const Q={...x,registrationDeadlineMinute:N.target.value};le(Q)},100)},className:Re("h-6 px-1 bg-transparent border border-gray-300 rounded text-sm text-black leading-none w-7 scrollbar-hide",$.regDeadline),children:ve(0,59).map(N=>u.jsx("option",{value:N,children:N.toString().padStart(2,"0")},N))})]}),u.jsxs("select",{value:x.registrationDeadlineAmPm,onChange:N=>{W(x.id,"registrationDeadlineAmPm",N.target.value),setTimeout(()=>{const Q={...x,registrationDeadlineAmPm:N.target.value};le(Q)},100)},className:Re("h-6 px-1 bg-transparent border border-gray-300 rounded text-sm text-black leading-tight w-8",$.regDeadline),children:[u.jsx("option",{value:"am",children:"am"}),u.jsx("option",{value:"pm",children:"pm"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-[85px_1fr] items-center",children:[u.jsx("label",{className:"text-sm text-black",children:"OTSE:"}),u.jsxs("select",{value:x.otse,onChange:N=>W(x.id,"otse",N.target.value),className:Re("h-6 px-1 bg-transparent border border-gray-300 rounded text-sm text-black leading-normal",$.otse),children:[u.jsx("option",{value:"",disabled:!0,hidden:!0}),u.jsx("option",{value:"",disabled:!0,children:"On The Spot Entry"}),u.jsx("option",{value:"Yes",children:"Yes"}),u.jsx("option",{value:"No",children:"No"})]})]}),u.jsxs("div",{className:"grid grid-cols-[85px_1fr] items-center",children:[u.jsx("label",{className:"text-sm text-black",children:"Live Feed:"}),u.jsx("div",{className:"h-6 px-1 bg-transparent border border-gray-300 rounded text-sm text-black leading-none flex items-center justify-end",children:u.jsxs("button",{onClick:()=>gs(x.id),className:`flex items-center gap-0.5 px-1 rounded text-xs transition-colors ${x.activateLiveFeed?"bg-green-500 text-white hover:bg-green-600":"bg-transparent text-gray-600 hover:bg-gray-100"}`,children:[u.jsx(ql,{size:10}),x.activateLiveFeed?"Live":"Activate"]})})]}),u.jsxs("div",{className:"flex items-center justify-between mt-1",children:[u.jsx("button",{onClick:()=>{window.confirm("Are you sure you want to delete this sub-event?")&&yi(x.id)},className:"text-gray-500 hover:text-gray-700 p-1 rounded hover:bg-gray-50 transition-colors ml-1",title:"Delete Event",children:u.jsx(Fh,{size:12})}),u.jsx("button",{onClick:()=>oe({isOpen:!0,subEventId:x.id,subEventName:x.eventType||`Sub Event-${j+1}`}),className:"flex items-center gap-1 h-6 px-3 bg-white border border-gray-300 rounded text-xs text-gray-700 hover:bg-gray-50 transition-colors",children:"Results"})]})]})};return u.jsxs("div",{className:"w-full min-h-screen bg-white p-4",children:[u.jsx("h1",{className:"text-lg font-bold text-black mb-3",children:"Add Main Event"}),u.jsxs("div",{className:"space-y-0.5",children:[u.jsxs("div",{className:"grid grid-cols-[85px_1fr] items-center",children:[u.jsx("label",{className:"text-sm text-black",children:"College Name:"}),u.jsx("input",{type:"text",value:h.collegeName||"",onChange:x=>{m(j=>({...j,collegeName:x.target.value})),x.target.value.trim()&&Dt("collegeName")},className:Re("h-6 px-1 bg-transparent border border-gray-300 rounded text-sm text-black leading-normal",Ce.collegeName),placeholder:"College name will be auto-populated"})]}),u.jsxs("div",{className:"grid grid-cols-[85px_1fr] items-center",children:[u.jsx("label",{className:"text-sm text-black",children:"Main Event:"}),u.jsx("input",{type:"text",value:h.mainEventName||"",onChange:x=>{m(j=>({...j,mainEventName:x.target.value})),x.target.value.trim()&&Dt("mainEventName")},className:Re("h-6 px-1 bg-transparent border border-gray-300 rounded text-sm text-black leading-normal",Ce.mainEventName),placeholder:"Enter Event Name"})]}),u.jsxs("div",{className:"grid grid-cols-[85px_1fr] items-center",children:[u.jsx("label",{className:"text-sm text-black",children:"Address:"}),u.jsx("input",{type:"text",value:h.address||"",onChange:x=>{m(j=>({...j,address:x.target.value})),x.target.value.trim()&&Dt("address")},className:Re("h-6 px-1 bg-transparent border border-gray-300 rounded text-sm text-black leading-normal",Ce.address),placeholder:"Address will be auto-populated"})]}),u.jsxs("div",{className:"grid grid-cols-[85px_1fr] items-center",children:[u.jsx("label",{className:"text-sm text-black",children:"Location:"}),u.jsx("input",{type:"text",value:h.locality||"",onChange:x=>{m(j=>({...j,locality:x.target.value})),x.target.value.trim()&&Dt("locality")},className:Re("h-6 px-1 bg-transparent border border-gray-300 rounded text-sm text-black leading-normal",Ce.locality),placeholder:"Location will be auto-populated"})]}),u.jsxs("div",{className:"grid grid-cols-[85px_1fr] items-center",children:[u.jsx("label",{className:"text-sm text-black",children:"City:"}),u.jsx("input",{type:"text",value:h.city||"",onChange:x=>{m(j=>({...j,city:x.target.value})),x.target.value.trim()&&Dt("city")},className:Re("h-6 px-1 bg-transparent border border-gray-300 rounded text-sm text-black leading-normal",Ce.city),placeholder:"Enter city"})]}),u.jsxs("div",{className:"grid grid-cols-[85px_1fr] items-center",children:[u.jsx("label",{className:"text-sm text-black",children:"Pin Code:"}),u.jsx("input",{type:"text",value:h.pinCode||"",onChange:x=>{m(j=>({...j,pinCode:x.target.value})),x.target.value.trim()&&Dt("pinCode")},className:Re("h-6 px-1 bg-transparent border border-gray-300 rounded text-sm text-black leading-normal",Ce.pinCode),placeholder:"Enter pin code"})]}),u.jsxs("div",{className:"grid grid-cols-[85px_1fr] items-center",children:[u.jsx("label",{className:"text-sm text-black",children:"Comp. Type:"}),u.jsxs("select",{value:h.competitionType||"",onChange:x=>{m(j=>({...j,competitionType:x.target.value})),x.target.value.trim()&&Dt("competitionType")},className:Re("h-6 px-1 bg-transparent border border-gray-300 rounded text-sm text-black leading-normal",Ce.competitionType),children:[u.jsx("option",{value:"",disabled:!0,hidden:!0}),Te.map(x=>u.jsx("option",{value:x,children:x},x))]})]}),u.jsxs("div",{className:"grid grid-cols-[85px_1fr] items-center",children:[u.jsx("label",{className:"text-sm text-black",children:"Event Dt.:"}),u.jsxs("div",{className:"flex gap-1 items-center",children:[u.jsx("input",{type:"date",value:h.startDate||"",onChange:x=>{const j=x.target.value;m($=>{const N={...$,startDate:j};return j&&(N.endDate=j),N}),x.target.value.trim()&&Dt("startDate")},min:Pr(),className:Re("h-6 px-1 bg-transparent border border-gray-300 rounded text-black flex-1",Ce.startDate),style:{colorScheme:"light"},"data-date":Tr(h.startDate)}),u.jsx("span",{className:"text-xs flex-shrink-0",children:"to"}),u.jsx("input",{type:"date",value:h.endDate||"",onChange:x=>{m(j=>({...j,endDate:x.target.value})),x.target.value.trim()&&Dt("endDate")},min:h.startDate||Pr(),className:Re("h-6 px-1 bg-transparent border border-gray-300 rounded text-black flex-1",Ce.endDate),style:{colorScheme:"light"},"data-date":Tr(h.endDate)})]})]}),u.jsx("div",{className:"mt-2"}),p.length===0&&u.jsx("div",{className:"mt-1",children:u.jsxs("button",{onClick:()=>{Er()},className:"flex items-center gap-1 h-6 px-2 bg-gray-100 border border-gray-300 rounded text-xs text-gray-700 hover:bg-gray-200 transition-colors",children:[u.jsx(oi,{size:12}),"Add Sub Event 1"]})}),p.length>0&&u.jsxs("div",{className:"border border-gray-300 rounded p-1 mt-1",children:[u.jsxs("div",{className:"flex items-center justify-between mb-0.5",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(ah,{size:12}),u.jsx("span",{className:"text-sm font-semibold text-black",children:(_s=p[0])!=null&&_s.eventType?p[0].eventType:"Sub Event-1"})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("button",{onClick:()=>hs(p[0].id),className:`relative inline-flex h-4 w-8 items-center rounded-full transition-colors ${p[0].isActive?"bg-gray-400":"bg-gray-300"}`,children:u.jsx("span",{className:`inline-block h-3 w-3 transform rounded-full bg-white transition-transform ${p[0].isActive?"translate-x-4":"translate-x-0.5"}`})}),u.jsx("span",{className:"ml-1 text-xs text-gray-700",children:p[0].isActive?"Active":"Inactive"})]}),u.jsx("button",{onClick:()=>fs(p[0].id),className:"text-gray-500 hover:text-gray-700",children:U.has(p[0].id)?u.jsx(oh,{size:12}):u.jsx(lh,{size:12})})]})]}),!U.has(p[0].id)&&mr(p[0],0)]}),p.length===1&&u.jsx("div",{className:"mt-1",children:u.jsxs("button",{onClick:Er,className:"flex items-center gap-1 h-6 px-2 bg-gray-100 border border-gray-300 rounded text-xs text-gray-700 hover:bg-gray-200 transition-colors",children:[u.jsx(oi,{size:12}),"Add Sub Event-2"]})}),p.slice(1).map((x,j)=>u.jsxs("div",{children:[u.jsxs("div",{className:"border border-gray-300 rounded p-1 mt-1",children:[u.jsxs("div",{className:"flex items-center justify-between mb-0.5",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(ah,{size:12}),u.jsx("span",{className:"text-sm font-semibold text-black",children:x.eventType?x.eventType:`Sub Event-${j+2}`})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("button",{onClick:()=>hs(x.id),className:`relative inline-flex h-4 w-8 items-center rounded-full transition-colors ${x.isActive?"bg-gray-400":"bg-gray-300"}`,children:u.jsx("span",{className:`inline-block h-3 w-3 transform rounded-full bg-white transition-transform ${x.isActive?"translate-x-4":"translate-x-0.5"}`})}),u.jsx("span",{className:"ml-1 text-xs text-gray-700",children:x.isActive?"Active":"Inactive"})]}),u.jsx("button",{onClick:()=>fs(x.id),className:"text-gray-500 hover:text-gray-700",children:U.has(x.id)?u.jsx(oh,{size:12}):u.jsx(lh,{size:12})})]})]}),!U.has(x.id)&&mr(x,j+1)]}),!U.has(x.id)&&j===p.slice(1).length-1&&u.jsx("div",{className:"mt-1",children:u.jsxs("button",{onClick:Er,className:"flex items-center gap-1 h-6 px-2 bg-gray-100 border border-gray-300 rounded text-xs text-gray-700 hover:bg-gray-200 transition-colors",children:[u.jsx(oi,{size:12}),"Add Sub Event-",p.length+1]})})]},x.id)),u.jsxs("div",{className:"border border-gray-300 rounded px-0 py-1 mt-1",children:[u.jsxs("div",{className:"flex items-center gap-1 mb-0.5 px-0.5",children:[u.jsx(Gy,{size:12}),u.jsx("span",{className:"text-sm font-semibold text-black",children:"Organizing Committee"})]}),u.jsx("div",{className:"space-y-1 px-0.5",children:v.map((x,j)=>u.jsxs("div",{className:"space-y-0.5",children:[u.jsxs("div",{className:"space-y-0.5",children:[u.jsxs("div",{className:"grid grid-cols-[85px_1fr] items-center",children:[u.jsx("label",{className:"text-sm text-black",children:"Name:"}),u.jsx("input",{type:"text",value:x.isFirstMember?o.name:x.name||"",onChange:$=>tn(j,"name",$.target.value),className:"h-6 px-1 bg-transparent border border-gray-300 rounded text-sm text-black leading-normal",placeholder:x.isFirstMember?"":"Enter name",disabled:x.isFirstMember})]}),u.jsxs("div",{className:"grid grid-cols-[85px_1fr] items-center",children:[u.jsx("label",{className:"text-sm text-black",children:"Department:"}),u.jsxs("select",{value:x.designation||"",onChange:$=>tn(j,"designation",$.target.value),className:"h-6 px-1 bg-transparent border border-gray-300 rounded text-sm text-black leading-normal",required:!0,children:[u.jsx("option",{value:"",disabled:!0,hidden:!0}),u.jsx("option",{value:"Cultural",children:"Cultural"}),u.jsx("option",{value:"Events",children:"Events"}),u.jsx("option",{value:"Marketing",children:"Marketing"}),u.jsx("option",{value:"Finance",children:"Finance"}),u.jsx("option",{value:"Public Relations",children:"Public Relations"}),u.jsx("option",{value:"Sponsorship",children:"Sponsorship"}),u.jsx("option",{value:"Hospitality",children:"Hospitality"})]})]}),u.jsxs("div",{className:"grid grid-cols-[85px_1fr] items-center",children:[u.jsx("label",{className:"text-sm text-black",children:"Phone No.:"}),u.jsx("input",{type:"tel",value:x.isFirstMember?o.phone:x.phone||"",onChange:$=>tn(j,"phone",$.target.value),className:"h-6 px-1 bg-transparent border border-gray-300 rounded text-sm text-black leading-normal",placeholder:x.isFirstMember?"":"Enter phone number",disabled:x.isFirstMember})]}),u.jsxs("div",{className:"grid grid-cols-[85px_1fr] items-center",children:[u.jsx("label",{className:"text-sm text-black",children:"Email id:"}),u.jsx("input",{type:"email",value:x.isFirstMember?o.email:x.email||"",onChange:$=>tn(j,"email",$.target.value),className:"h-6 px-1 bg-transparent border border-gray-300 rounded text-sm text-black leading-normal",placeholder:x.isFirstMember?"":"Enter email address",disabled:x.isFirstMember})]})]}),!x.isFirstMember&&u.jsxs("div",{className:"flex gap-1 justify-between items-center",children:[u.jsx("button",{onClick:()=>gi(j),disabled:x.otpVerified,className:`h-6 px-2 rounded text-xs transition-colors ${x.otpVerified?"bg-green-100 border border-green-300 text-green-700":"bg-blue-100 border border-blue-300 text-blue-700 hover:bg-blue-200"}`,children:x.otpVerified?"✓ Verified":"Send OTP"}),v.length>=2&&!x.isFirstMember&&u.jsx("button",{onClick:()=>_e({memberIndex:j,show:!0}),className:"h-5 w-5 bg-gray-100 border border-gray-300 rounded text-xs text-gray-700 hover:bg-gray-200 flex items-center justify-center",children:u.jsx(ch,{size:10})})]}),j<v.length-1&&u.jsx("div",{className:"border-t border-gray-200 mt-1 pt-1"})]},j))}),u.jsx("div",{className:"mt-1 px-0.5",children:u.jsxs("button",{onClick:Nr,className:"flex items-center gap-1 h-6 px-2 bg-gray-100 border border-gray-300 rounded text-xs text-gray-700 hover:bg-gray-200 transition-colors",children:[u.jsx(oi,{size:12}),"Add Member"]})})]}),u.jsxs("div",{className:"mt-3 flex flex-col items-center gap-2",children:[u.jsx("button",{onClick:ys,className:"h-6 px-3 bg-blue-600 text-white rounded text-xs hover:bg-blue-700 transition-colors flex items-center justify-center self-end",children:"Save"}),u.jsx("button",{onClick:()=>l("home"),className:"mt-6 px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg text-sm font-semibold text-black hover:bg-gray-200 transition-colors self-start",children:"← Back to Home"})]})]}),K.show&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg p-4 max-w-sm mx-4 shadow-lg",children:[u.jsxs("div",{className:"mb-3",children:[u.jsx("h3",{className:"text-lg font-semibold text-black mb-2",children:"Delete Event"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this event? This action cannot be undone."})]}),u.jsxs("div",{className:"flex gap-2 justify-end",children:[u.jsx("button",{onClick:Cr,className:"px-4 py-2 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors",children:"No"}),u.jsx("button",{onClick:rn,className:"px-4 py-2 text-sm bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:"Yes"})]})]})}),je.show&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg p-4 max-w-sm mx-4 shadow-lg",children:[u.jsxs("div",{className:"mb-3",children:[u.jsx("h3",{className:"text-lg font-semibold text-black mb-2",children:"Delete Rule"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this rule? This action cannot be undone."})]}),u.jsxs("div",{className:"flex gap-2 justify-end",children:[u.jsx("button",{onClick:()=>ge({subEventId:"",ruleIndex:-1,show:!1}),className:"px-4 py-2 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors",children:"No"}),u.jsx("button",{onClick:()=>Qe(je.subEventId,je.ruleIndex),className:"px-4 py-2 text-sm bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:"Yes"})]})]})}),be.show&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg p-4 max-w-sm mx-4 shadow-lg",children:[u.jsxs("div",{className:"mb-3",children:[u.jsx("h3",{className:"text-lg font-semibold text-black mb-2",children:"Delete Member"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Are you sure you want to delete this member? This action cannot be undone."})]}),u.jsxs("div",{className:"flex gap-2 justify-end",children:[u.jsx("button",{onClick:()=>_e({memberIndex:-1,show:!1}),className:"px-4 py-2 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors",children:"No"}),u.jsx("button",{onClick:()=>{ds(be.memberIndex),_e({memberIndex:-1,show:!1})},className:"px-4 py-2 text-sm bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:"Yes"})]})]})}),u.jsx(Xy,{isOpen:Y.isOpen,onClose:()=>oe({isOpen:!1}),subEventId:Y.subEventId,subEventName:Y.subEventName,subEventStartDate:Y.subEventId?(Sn=p.find(x=>x.id===Y.subEventId))==null?void 0:Sn.startDate:void 0}),u.jsx(Zy,{isOpen:Z.isOpen,onClose:()=>C({isOpen:!1,memberIndex:-1}),memberIndex:Z.memberIndex,onOTPSent:ms})]})}const t0=l=>l.filter(r=>r.createdByUser||r.college.toLowerCase().includes("trinit")||r.college.toLowerCase().includes("xavier")).map(r=>({id:r.id,name:r.eventName,college:r.college,fullEvent:r}));function r0({navigate:l,events:r,deleteEvent:s}){const a=t0(r),[o,c]=B.useState({eventId:"",eventName:"",show:!1}),h=(y,v)=>{c({eventId:y,eventName:v,show:!0})},m=()=>{s(o.eventId),c({eventId:"",eventName:"",show:!1})},p=()=>{c({eventId:"",eventName:"",show:!1})};return u.jsxs("div",{className:"w-full min-h-screen bg-white p-4",children:[u.jsx("h1",{className:"text-base font-bold text-black mb-6",children:"My Organized Events"}),u.jsx("div",{className:"space-y-4",children:a.length===0?u.jsxs("div",{className:"text-center py-8",children:[u.jsx("p",{className:"text-gray-500",children:"No organized events found."}),u.jsx("button",{onClick:()=>l("add_event"),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create Your First Event"})]}):a.map(y=>u.jsx("div",{className:"w-full border border-gray-300 rounded-lg p-3",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"text-sm font-medium text-black mb-1",children:y.name}),u.jsx("div",{className:"text-xs text-gray-500 cursor-pointer hover:text-gray-700 transition-colors",onClick:()=>l("add_event",void 0,y.fullEvent),children:"Edit"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>l("participants",y.id),className:"px-3 py-1 bg-gray-200 border border-gray-400 rounded-lg text-sm font-semibold text-black transition-colors",children:"Participants"}),u.jsx("button",{onClick:v=>{v.stopPropagation(),h(y.id,y.name)},className:"p-1 text-gray-500 hover:text-gray-700 transition-colors",children:u.jsx(Fh,{size:12})})]})]})},y.id))}),o.show&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-sm w-full shadow-lg",children:[u.jsx("h3",{className:"text-lg font-bold text-black mb-4",children:"Delete Event"}),u.jsxs("p",{className:"text-sm text-gray-700 mb-4",children:['Deleting "',o.eventName,'" will also permanently remove all participants and linked sub-events. This action cannot be undone.']}),u.jsxs("div",{className:"flex gap-3 justify-end",children:[u.jsx("button",{onClick:p,className:"px-4 py-2 text-sm bg-gray-100 text-gray-700 rounded hover:bg-gray-200 transition-colors",children:"Cancel"}),u.jsx("button",{onClick:m,className:"px-4 py-2 text-sm bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:"Delete Event"})]})]})}),u.jsx("button",{onClick:()=>l("org_dashboard"),className:"mt-6 px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg text-sm font-semibold text-black hover:bg-gray-200 transition-colors",children:"← Back to Dashboard"})]})}function n0({navigate:l,event:r,profileEmail:s,emailSent:a,participantData:o,selectedEventId:c}){const h=(r==null?void 0:r.eventName)||"Event",m=()=>{const k={};return r!=null&&r.events&&(r.events.forEach((P,T)=>{k[T]=[]}),Object.entries(o).forEach(([P,T])=>{if(P.startsWith(c+":")){const L=parseInt(P.split(":")[1]);!isNaN(L)&&k[L]&&k[L].push({name:T.name,college:T.college,phone:T.phone,email:T.email,registrationDate:T.registrationDate})}})),k},p=()=>{const k=[];return Object.entries(o).forEach(([P,T])=>{if(P.includes(":")&&P.startsWith(c+":")){const L=parseInt(P.split(":")[1]);if(!isNaN(L)&&(r!=null&&r.events)&&r.events[L]){const D=r.events[L].name;k.push({name:T.name,college:T.college,phone:T.phone,email:T.email,subEventName:D,registrationDate:T.registrationDate})}}else P===c&&k.push({name:T.name,college:T.college,phone:T.phone,email:T.email,subEventName:"Full Event",registrationDate:T.registrationDate})}),k},y=m(),v=p(),_=v.length,b=(k,P)=>{const T=y[k]||[];if(T.length===0){alert("No participants registered for this sub-event yet.");return}const L=`Hello! Important update regarding ${P} from ${h}. `,D=encodeURIComponent(L);T.forEach((U,q)=>{const ne=`https://wa.me/${U.phone.replace(/[^\\d+]/g,"")}?text=${D}`;setTimeout(()=>{window.open(ne,"_blank")},q*500)}),alert(`Message will be sent to all ${T.length} participants of ${P}. WhatsApp chats will open automatically with your message pre-filled. Just click 'Send' in each chat!`)},R=(k,P)=>{const T=y[k]||[];if(T.length===0){alert("No participants registered for this sub-event yet.");return}if(!s){alert("Please set your email in Profile first!");return}const L=T.map(_e=>_e.email).join(";");let D="";r!=null&&r.organizingCommittee&&r.organizingCommittee.length>1&&(D=r.organizingCommittee.slice(1).filter(je=>je.email&&je.email.trim()!=="").map(je=>je.email).join(";"));const U=`${P} by ${(r==null?void 0:r.college)||"College"}`,q=`Dear Participant,\\\\n\\\\nI hope this email finds you well.\\\\n\\\\nI am writing to share an important update regarding ${P} from ${h}.\\\\n\\\\n\\\\n\\\\nBest regards,\\\\nEvent Organizer`;let K=`mailto:${s}?bcc=${L}&subject=${encodeURIComponent(U)}&body=${encodeURIComponent(q)}`;D&&(K+=`&cc=${D}`),window.open(K,"_blank");const ne=r!=null&&r.organizingCommittee?r.organizingCommittee.length-1:0,be=ne>0?` with ${ne} organizing committee members in CC`:"";alert(`Email client opened with your email (${s}) as sender${be} and all ${T.length} participants of ${P} in BCC for privacy. Participants won't see each other's email addresses.`)},A=(k,P)=>{const T=y[k]||[];if(T.length===0){alert(`No participants registered for ${P} yet.`);return}if(!s){alert("Please set your email in Profile first!");return}const L=["Name","College Name","Phone No.","Email id."],D=T.map(je=>[je.name,je.college,je.phone,je.email]),U=[L.join(","),...D.map(je=>je.map(ge=>`"${ge}"`).join(","))].join(`
`),q=new Blob(["\uFEFF"+U],{type:"text/csv;charset=utf-8;"}),K=document.createElement("a");if(K.download!==void 0){const je=URL.createObjectURL(q);K.setAttribute("href",je),K.setAttribute("download",`${h}_${P}_Participants_List.csv`),K.style.visibility="hidden",document.body.appendChild(K),K.click(),document.body.removeChild(K)}const ne=`${P} - Participant List (Excel Format)`,be=`Dear Organizer,

Please find the participant list for "${P}" from "${h}" attached as an Excel CSV file.

Sub-Event Details:
- Sub-Event Name: ${P}
- Main Event: ${h}
- College: ${(r==null?void 0:r.college)||"N/A"}
- Total Participants: ${T.length}

The file "${h}_${P}_Participants_List.csv" has been downloaded to your device. Please attach this file to share the participant list in Excel format.

File Contents:
- Participant Name
- College Name
- Phone Number
- Email Address

Best regards,
Avu Event Management System`,_e=`mailto:${s}?subject=${encodeURIComponent(ne)}&body=${encodeURIComponent(be)}`;window.open(_e,"_blank"),alert(`📧 Excel file "${h}_${P}_Participants_List.csv" has been downloaded!\\n\\nEmail client opened to send to ${s}. Please attach the downloaded file to complete sending the ${P} participant list in Excel format.`)};return u.jsxs("div",{className:"w-full min-h-screen bg-white p-4",children:[u.jsxs("h1",{className:"text-base font-bold text-black mb-3",children:["Registered Participants: ",_," — ",h]}),u.jsx("div",{className:"text-sm text-black mb-4",children:"Name • College Name • Phone No. • Email id"}),v.length===0?u.jsx("div",{className:"w-full bg-white border border-gray-300 rounded-lg p-4 mb-4",children:u.jsxs("div",{className:"text-center py-8",children:[u.jsx("p",{className:"text-sm text-gray-500",children:"No participants registered yet"}),u.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Participant details will appear here when users register for sub-events"})]})}):u.jsx(u.Fragment,{children:r!=null&&r.events&&r.events.length>0?u.jsx(u.Fragment,{children:r.events.map((k,P)=>{const T=y[P]||[];return u.jsxs("div",{className:"w-full bg-white border border-gray-300 rounded-lg p-4 mb-4",children:[u.jsxs("div",{className:"mb-3",children:[u.jsxs("h3",{className:"text-sm font-bold text-black",children:[k.name," (",k.type,") - ",T.length," Participant",T.length!==1?"s":""]}),u.jsxs("div",{className:"text-xs text-gray-600 mb-2",children:[k.competition," • ",k.groupType," • ",k.date," • ",k.time]})]}),u.jsx("div",{className:"space-y-2 mb-4",children:T.length===0?u.jsx("div",{className:"w-full bg-gray-50 border border-gray-200 rounded-lg p-3 text-center",children:u.jsx("p",{className:"text-xs text-gray-500",children:"No participants registered for this sub-event"})}):T.map((L,D)=>u.jsx("div",{className:"w-full min-h-12 bg-transparent border border-gray-300 rounded px-3 py-2 text-sm text-black",children:u.jsxs("div",{className:"flex",children:[u.jsxs("span",{className:"font-bold mr-2",children:[D+1,"."]}),u.jsxs("div",{className:"flex-1 leading-relaxed",children:[u.jsx("span",{className:"font-bold",children:L.name})," • ",L.college," • ",L.phone," • ",L.email]})]})},D))}),T.length>0&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex gap-2 mb-2",children:[u.jsxs("button",{onClick:()=>b(P,k.name),className:"flex-1 flex items-center justify-center gap-1 px-3 py-2 bg-gray-100 border border-gray-300 rounded-lg text-xs font-medium text-black hover:bg-gray-200 transition-colors",children:[u.jsx(Hy,{size:12}),"WhatsApp Participants"]}),u.jsxs("button",{onClick:()=>R(P,k.name),className:"flex-1 flex items-center justify-center gap-1 px-3 py-2 bg-gray-100 border border-gray-300 rounded-lg text-xs font-medium text-black hover:bg-gray-200 transition-colors",children:[u.jsx(zy,{size:12}),"Email - All Participants"]})]}),u.jsxs("button",{onClick:()=>A(P,k.name),className:"w-full flex items-center justify-center gap-1 px-3 py-2 bg-transparent border border-gray-300 text-black rounded-lg text-xs font-medium hover:bg-gray-100 transition-colors",children:[u.jsx(Uy,{size:12}),"Email Participant List to Organiser"]})]})]},P)})}):u.jsx("div",{className:"w-full bg-white border border-gray-300 rounded-lg p-4 mb-4",children:u.jsx("div",{className:"space-y-2",children:v.map((k,P)=>u.jsx("div",{className:"w-full min-h-12 bg-transparent border border-gray-300 rounded px-3 py-2 text-sm text-black",children:u.jsxs("div",{className:"flex",children:[u.jsxs("span",{className:"font-bold mr-2",children:[P+1,"."]}),u.jsxs("div",{className:"flex-1 leading-relaxed",children:[u.jsx("span",{className:"font-bold",children:k.name})," • ",k.college," • ",k.phone," • ",k.email," • ",k.subEventName]})]})},P))})})}),u.jsx("button",{onClick:()=>l("my_org"),className:"mt-6 px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg text-sm font-semibold text-black hover:bg-gray-200 transition-colors",children:"← Back to My Organised Events"})]})}function s0({navigate:l,events:r,registeredEvents:s,onWithdrawParticipation:a}){const c=(()=>{const b=[];return s.forEach(R=>{const A=R.split(":");if(A.length===2){const k=A[0],P=parseInt(A[1]),T=r.find(L=>L.id===k);T&&T.events&&T.events[P]&&b.push({eventId:k,subEventIndex:P,event:T,subEvent:T.events[P],registrationKey:R})}else{const k=r.find(P=>P.id===R);k&&b.push({eventId:R,subEventIndex:-1,event:k,subEvent:null,registrationKey:R})}}),b})(),h=(b,R,A=!1)=>{const k=A?"delete":"withdraw your participation from",P=R?`"${R}"`:"this event";confirm(`Are you sure you want to ${k} ${P}?`)&&a(b)},m=(b,R)=>{l("event_detail",b,void 0,void 0,R)},p=b=>{const R=b.split(", ");return R.length>1?R[1]:R[0]},y=b=>{if(b.includes("–")){const[R,A]=b.split("–");if(R.trim()===A.trim())return R.trim()}return b},v=b=>{try{const R=new Date,A=new Date(b);return R.setHours(0,0,0,0),A.setHours(23,59,59,999),R>A}catch{return!1}},_=b=>b.replace(/^Event\s+\d+$/i,"").trim();return u.jsxs("div",{className:"w-full min-h-screen bg-white p-4",children:[u.jsx("h1",{className:"text-base font-bold text-black mb-4",children:"My Participating Events"}),u.jsx("div",{className:"space-y-4",children:c.length===0?u.jsxs("div",{className:"w-full bg-gray-50 border border-gray-200 rounded-lg p-4 text-center",children:[u.jsx("p",{className:"text-sm text-gray-500",children:"No participating events found"}),u.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Register for events to see them here"})]}):c.map((b,R)=>u.jsx("div",{className:"w-full border border-gray-300 rounded-lg p-3",children:u.jsxs("div",{className:"flex justify-between",children:[u.jsxs("div",{className:"flex-1 cursor-pointer",onClick:()=>m(b.eventId,b.subEventIndex>=0?b.subEventIndex:void 0),children:[u.jsxs("div",{className:"text-sm text-black mb-1",children:[u.jsx("span",{className:"font-medium",children:b.event.eventName}),u.jsxs("span",{className:"text-gray-500 ml-1",children:["(",b.event.college,")"]})]}),b.subEvent?u.jsxs("div",{className:"text-sm text-black mb-1",children:[u.jsx("span",{className:"font-medium text-black",children:_(b.subEvent.name)||b.subEvent.type}),_(b.subEvent.name)&&u.jsxs("span",{className:"ml-1",children:["- ",b.subEvent.type]})]}):u.jsxs("div",{className:"text-sm text-black mb-1",children:[u.jsx("span",{className:"font-medium text-black",children:"Full Event"})," -",u.jsx("span",{className:"ml-1",children:b.event.type})]}),u.jsxs("div",{className:"text-xs text-gray-600 mb-1",children:[u.jsx("span",{children:p(b.event.location)})," •",u.jsx("span",{className:"ml-1",children:b.subEvent?b.subEvent.date:b.event.dates})]}),b.subEvent&&u.jsxs("div",{className:"text-xs text-gray-500",children:[b.subEvent.groupType," • ",b.subEvent.time," • Participants: ",y(b.subEvent.participants)]})]}),(()=>{const A=b.subEvent?b.subEvent.date:b.event.dates,k=v(A);return u.jsx("button",{onClick:()=>{var P;return h(b.registrationKey,((P=b.subEvent)==null?void 0:P.name)||b.event.eventName,k)},className:`px-2 py-1.5 border border-gray-300 rounded-lg text-xs transition-colors self-start leading-none min-w-[70px] ${k?"bg-white text-gray-600 hover:bg-gray-50":"bg-gray-100 text-red-600 hover:bg-gray-200"}`,children:u.jsx("div",{className:"text-center",children:k?u.jsx("div",{className:"text-[10px]",children:"Delete"}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"text-[10px]",children:"Withdraw"}),u.jsx("div",{className:"text-[10px]",children:"Participation"})]})})})})()]})},b.registrationKey))}),u.jsx("button",{onClick:()=>l("org_dashboard"),className:"mt-6 px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg text-sm font-semibold text-black hover:bg-gray-200 transition-colors",children:"← Back to Dashboard"})]})}class i0{constructor(){ii(this,"colleges",[]);ii(this,"searchIndex",new Map);ii(this,"isLoaded",!1);ii(this,"isLoading",!1);this.initializeService()}async initializeService(){if(!(this.isLoading||this.isLoaded)){this.isLoading=!0;try{await this.loadSampleData(),this.buildSearchIndex(),this.isLoaded=!0,console.log(`🎓 AISHE Service: Loaded ${this.colleges.length} colleges`)}catch(r){console.error("Error initializing AISHE service:",r)}finally{this.isLoading=!1}}}async loadSampleData(){const r=[{id:"aishe_001",name:"St. Xavier's College, Mumbai",state:"Maharashtra",district:"Mumbai",university:"University of Mumbai",type:"Affiliated",category:"Arts & Science"},{id:"aishe_002",name:"Jai Hind College, Mumbai",state:"Maharashtra",district:"Mumbai",university:"University of Mumbai",type:"Affiliated",category:"Arts & Science"},{id:"aishe_003",name:"H.R. College of Commerce and Economics, Mumbai",state:"Maharashtra",district:"Mumbai",university:"University of Mumbai",type:"Affiliated",category:"Commerce"},{id:"aishe_004",name:"Mithibai College, Mumbai",state:"Maharashtra",district:"Mumbai",university:"University of Mumbai",type:"Affiliated",category:"Arts & Science"},{id:"aishe_005",name:"K.C. College, Mumbai",state:"Maharashtra",district:"Mumbai",university:"University of Mumbai",type:"Affiliated",category:"Arts & Science"},{id:"aishe_006",name:"St. Stephen's College, Delhi",state:"Delhi",district:"New Delhi",university:"University of Delhi",type:"Affiliated",category:"Arts & Science"},{id:"aishe_007",name:"Hindu College, Delhi",state:"Delhi",district:"New Delhi",university:"University of Delhi",type:"Affiliated",category:"Arts & Science"},{id:"aishe_008",name:"Lady Shri Ram College for Women, Delhi",state:"Delhi",district:"New Delhi",university:"University of Delhi",type:"Affiliated",category:"Arts & Science"},{id:"aishe_009",name:"Shri Ram College of Commerce, Delhi",state:"Delhi",district:"New Delhi",university:"University of Delhi",type:"Affiliated",category:"Commerce"},{id:"aishe_010",name:"Miranda House, Delhi",state:"Delhi",district:"New Delhi",university:"University of Delhi",type:"Affiliated",category:"Arts & Science"},{id:"aishe_011",name:"Christ University, Bangalore",state:"Karnataka",district:"Bangalore Urban",university:"Christ University",type:"University",category:"Multi-disciplinary"},{id:"aishe_012",name:"St. Joseph's College, Bangalore",state:"Karnataka",district:"Bangalore Urban",university:"Bangalore University",type:"Affiliated",category:"Arts & Science"},{id:"aishe_013",name:"Mount Carmel College, Bangalore",state:"Karnataka",district:"Bangalore Urban",university:"Bangalore University",type:"Affiliated",category:"Arts & Science"},{id:"aishe_014",name:"Presidency College, Bangalore",state:"Karnataka",district:"Bangalore Urban",university:"Bangalore University",type:"Affiliated",category:"Arts & Science"},{id:"aishe_015",name:"Loyola College, Chennai",state:"Tamil Nadu",district:"Chennai",university:"University of Madras",type:"Affiliated",category:"Arts & Science"},{id:"aishe_016",name:"Stella Maris College, Chennai",state:"Tamil Nadu",district:"Chennai",university:"University of Madras",type:"Affiliated",category:"Arts & Science"},{id:"aishe_017",name:"Presidency College, Chennai",state:"Tamil Nadu",district:"Chennai",university:"University of Madras",type:"Affiliated",category:"Arts & Science"},{id:"aishe_018",name:"Indian Institute of Technology Bombay",state:"Maharashtra",district:"Mumbai",university:"IIT Bombay",type:"University",category:"Engineering & Technology"},{id:"aishe_019",name:"Indian Institute of Technology Delhi",state:"Delhi",district:"New Delhi",university:"IIT Delhi",type:"University",category:"Engineering & Technology"},{id:"aishe_020",name:"Indian Institute of Technology Madras",state:"Tamil Nadu",district:"Chennai",university:"IIT Madras",type:"University",category:"Engineering & Technology"},...Array.from({length:80},(s,a)=>({id:`aishe_${(21+a).toString().padStart(3,"0")}`,name:`Sample College ${a+1}, ${["Mumbai","Delhi","Bangalore","Chennai","Pune","Kolkata","Hyderabad"][a%7]}`,state:["Maharashtra","Delhi","Karnataka","Tamil Nadu","Maharashtra","West Bengal","Telangana"][a%7],district:["Mumbai","New Delhi","Bangalore Urban","Chennai","Pune","Kolkata","Hyderabad"][a%7],university:`University ${a+1}`,type:["Affiliated","Constituent","Autonomous"][a%3],category:["Arts & Science","Commerce","Engineering & Technology","Medical","Management"][a%5]}))];this.colleges=r}buildSearchIndex(){this.searchIndex.clear(),this.colleges.forEach(r=>{const s=r.name.toLowerCase();for(let a=1;a<=Math.min(s.length,5);a++){const o=s.substring(0,a);this.searchIndex.has(o)||this.searchIndex.set(o,[]),this.searchIndex.get(o).push(r)}})}async searchColleges(r,s=20){if(await this.ensureLoaded(),!r.trim())return this.colleges.slice(0,s).map(c=>c.name);const a=r.toLowerCase().trim();let o=[];return this.searchIndex.has(a)?o=this.searchIndex.get(a):o=this.colleges.filter(c=>c.name.toLowerCase().includes(a)),o.sort((c,h)=>{const m=c.name.toLowerCase(),p=h.name.toLowerCase();if(m===a)return-1;if(p===a)return 1;const y=m.startsWith(a),v=p.startsWith(a);return y&&!v?-1:v&&!y?1:c.name.localeCompare(h.name)}),o.slice(0,s).map(c=>c.name)}async getCollegesByState(r){return await this.ensureLoaded(),this.colleges.filter(s=>s.state.toLowerCase()===r.toLowerCase()).map(s=>s.name)}async getCollegesByType(r){return await this.ensureLoaded(),this.colleges.filter(s=>s.type.toLowerCase()===r.toLowerCase()).map(s=>s.name)}async getCollegeCount(){return await this.ensureLoaded(),this.colleges.length}async addCollege(r){if(await this.ensureLoaded(),this.colleges.some(a=>a.name.toLowerCase()===r.toLowerCase()))return!1;const s={id:`user_${Date.now()}`,name:r,state:"Unknown",district:"Unknown",university:"Unknown",type:"Other",category:"Unknown"};return this.colleges.push(s),this.buildSearchIndex(),!0}async loadFromAISHE(r){console.log("🔄 Loading AISHE data...");const s=r.map((a,o)=>({id:`aishe_${o}`,name:a.collegeName||a.name||"Unknown College",state:a.state||"Unknown",district:a.district||"Unknown",university:a.university||a.affiliatedTo||"Unknown",type:a.type||"Affiliated",category:a.category||"Unknown",establishmentYear:a.establishmentYear}));this.colleges=s,this.buildSearchIndex(),this.isLoaded=!0,console.log(`✅ Loaded ${this.colleges.length} colleges from AISHE data`)}async exportCollegeNames(){return await this.ensureLoaded(),this.colleges.map(r=>r.name)}async ensureLoaded(){for(!this.isLoaded&&!this.isLoading&&await this.initializeService();this.isLoading;)await new Promise(r=>setTimeout(r,50))}}const Rl=new i0,a0=({value:l,onChange:r,placeholder:s="Enter your college name",error:a})=>{const[o,c]=B.useState(!1),[h,m]=B.useState(""),[p,y]=B.useState([]),[v,_]=B.useState(!1),[b,R]=B.useState(0),A=B.useRef(null),k=B.useRef(null);B.useEffect(()=>{(async()=>{const q=await Rl.getCollegeCount();R(q)})()},[]),B.useEffect(()=>{const q=setTimeout(async()=>{if(h.length===0){y([]);return}_(!0);try{const K=await Rl.searchColleges(h,20);y(K)}catch(K){console.error("Error searching colleges:",K),y([])}finally{_(!1)}},150);return()=>clearTimeout(q)},[h]),B.useEffect(()=>{const U=q=>{A.current&&!A.current.contains(q.target)&&c(!1)};return document.addEventListener("mousedown",U),()=>document.removeEventListener("mousedown",U)},[]);const P=U=>{const q=U.target.value;r(q),m(q),c(!0)},T=()=>{m(l),c(!0)},L=async U=>{r(U),m(""),c(!1),p.includes(U)||await Rl.addCollege(U)},D=B.useMemo(()=>h.length>0&&!p.some(U=>U.toLowerCase()===h.toLowerCase()),[h,p]);return u.jsxs("div",{className:"relative",ref:A,children:[u.jsxs("div",{className:`w-full h-11 rounded-lg px-3 flex items-center ${a?"bg-transparent border border-red-300":"bg-transparent border border-gray-300"}`,children:[u.jsx("input",{ref:k,type:"text",placeholder:s,value:l,onChange:P,onFocus:T,className:"w-full bg-transparent text-sm text-black outline-none placeholder-black",style:{color:"black"}}),v&&u.jsx("div",{className:"ml-2 text-gray-500",children:u.jsx("div",{className:"w-4 h-4 border-2 border-gray-300 border-t-blue-500 rounded-full animate-spin"})})]}),o&&u.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-300 rounded-lg mt-1 shadow-lg z-50 max-h-64 overflow-hidden",children:u.jsx("div",{className:"max-h-60 overflow-y-auto",children:p.length>0?u.jsxs(u.Fragment,{children:[p.map((U,q)=>u.jsx("div",{className:"px-3 py-2 text-sm text-black hover:bg-blue-50 cursor-pointer border-b border-gray-100 last:border-b-0",onClick:()=>L(U),children:U},q)),D&&u.jsx("div",{className:"px-3 py-2 text-sm bg-blue-50 border-t border-blue-200",children:u.jsxs("div",{className:"text-blue-700 hover:text-blue-900 cursor-pointer flex items-center",onClick:()=>L(h),children:[u.jsx("span",{className:"mr-2",children:"✓"}),u.jsxs("span",{children:['Add "',h,'" (New College)']})]})})]}):h.length>0?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"px-3 py-2 text-sm text-gray-500 text-center",children:['No colleges found for "',h,'"']}),u.jsx("div",{className:"px-3 py-2 text-sm bg-blue-50 border-t border-blue-200",children:u.jsxs("div",{className:"text-blue-700 hover:text-blue-900 cursor-pointer flex items-center justify-center",onClick:()=>L(h),children:[u.jsx("span",{className:"mr-2",children:"✓"}),u.jsxs("span",{children:['Add "',h,'" (New College)']})]})})]}):u.jsx("div",{className:"px-3 py-2 text-sm text-gray-500 text-center",children:"Type to search colleges..."})})})]})};function o0({navigate:l,onEmailUpdate:r,onNameUpdate:s,onPhoneUpdate:a,onProfileDataUpdate:o,savedEmail:c,savedName:h,savedPhone:m,savedProfileData:p,isInitialSetup:y=!1,onSetupComplete:v,onSignOut:_}){const[b,R]=B.useState({name:h||"",phone:m||"",collegeName:(p==null?void 0:p.collegeName)||"",collegeAddress:(p==null?void 0:p.collegeAddress)||"",collegeLocality:(p==null?void 0:p.collegeLocality)||"",city:(p==null?void 0:p.city)||"",pincode:(p==null?void 0:p.pincode)||"",academicYear:(p==null?void 0:p.academicYear)||"",stream:(p==null?void 0:p.stream)||"",email:c||""}),[A,k]=B.useState({name:"",phone:"",collegeName:"",collegeAddress:"",collegeLocality:"",city:"",pincode:"",academicYear:"",stream:"",email:""}),[P,T]=B.useState(!1),[L,D]=B.useState(!1),[U,q]=B.useState(!1),[K,ne]=B.useState(""),[be,_e]=B.useState(""),[je,ge]=B.useState(""),[at,Me]=B.useState(!1),[Le,Ge]=B.useState(0),Ce=B.useRef(null),Ee=B.useRef(null),Y=["11th Std","12th Std","First Year","Second Year","Third Year","Fourth Year","Post Graduate","Admin. Department","Faculty"],oe=["Science","Commerce","Arts","Engineering","Media","Management","Hospitality","Architecture","Faculty"];B.useEffect(()=>{let F;return Le>0&&(F=setInterval(()=>{Ge(Le-1)},1e3)),()=>clearInterval(F)},[Le]);const Z=()=>{const F=Math.floor(1e5+Math.random()*9e5).toString();_e(F),console.log(`SMS sent to ${b.phone}: Your Zhevents OTP is ${F}`),alert(`OTP sent to ${b.phone}: ${F}
(This is a demo - in real app, you'd receive actual SMS)`),Ge(30)},C=(F,X)=>{switch(F){case"name":return X.trim()?X.trim().length<2?"Please enter a valid name":X.trim().indexOf(" ")===-1?"Please enter your full name (first and last name)":"":"Full name is required";case"phone":return X.trim()?/^\d+$/.test(X)?X.length!==10?"Please enter a valid 10-digit number":X.length===10&&/^(\d)\1{9}$/.test(X)?"Please enter a valid mobile number (cannot be all same digits)":"":"Only numbers are allowed":"Mobile number is required";case"collegeName":return X.trim()?"":"College name is required";case"collegeAddress":return X.trim()?"":"Address is required";case"collegeLocality":return X.trim()?"":"College locality is required";case"city":return X.trim()?"":"City is required";case"pincode":return X.trim()?/^\d{6}$/.test(X)?"":"Please enter a valid 6-digit pincode":"Pincode is required";case"academicYear":return X.trim()?"":"This field is required";case"stream":return X.trim()?"":"Please specify your stream or department";case"email":return X.trim()?X.includes("@")?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(X)?"":"Please enter a valid email (e.g., name@example.com)":"Email must contain @ symbol":"Email is required";default:return""}},z=(F,X)=>{if(F==="phone"){const W=X.replace(/[^0-9]/g,"");R(ve=>({...ve,[F]:W}));const le=C(F,W);k(ve=>({...ve,[F]:le}))}else if(F==="pincode"){const le=X.replace(/[^0-9]/g,"").slice(0,6);R(Ye=>({...Ye,[F]:le}));const ve=C(F,le);k(Ye=>({...Ye,[F]:ve}))}else if(F==="email"){R(le=>({...le,[F]:X}));const W=C(F,X);k(le=>({...le,[F]:W})),r&&r(X)}else{R(le=>({...le,[F]:X}));const W=C(F,X);k(le=>({...le,[F]:W}))}},fe=F=>{z("academicYear",F),T(!1)},ye=F=>{z("stream",F),D(!1)},ce=()=>{let F;y?F=["name","collegeName","collegeAddress","collegeLocality","city","pincode","academicYear","stream"]:De?F=["name","collegeName","collegeAddress","collegeLocality","city","pincode","academicYear","stream"]:F=["name","phone","collegeName","collegeAddress","collegeLocality","city","pincode","academicYear","stream","email"];const X={};F.forEach(ve=>{X[ve]=C(ve,b[ve])}),k(ve=>({...ve,...X}));const W=b.name.trim();if(W&&W.indexOf(" ")===-1){alert(`Please enter your full name including both first and last name.

Example: "John Smith" instead of just "John"`);return}Object.values(X).some(ve=>ve!=="")||(y?Te():De?(Te(),alert("Profile updated successfully!")):(Z(),q(!0)))},Se=()=>{if(!K.trim()){ge("Please enter the OTP");return}if(K!==be){ge("Invalid OTP. Please check and try again.");return}ge(""),r&&r(b.email),alert("Phone number verified successfully! Account registered. You will receive participant lists automatically after registration deadlines."),l("org_dashboard")},Te=()=>{s&&s(b.name),r&&r(b.email),a&&a(b.phone),o&&o({collegeName:b.collegeName,collegeAddress:b.collegeAddress,collegeLocality:b.collegeLocality,city:b.city,pincode:b.pincode,academicYear:b.academicYear,stream:b.stream}),v&&v()},Ne=()=>{Le>0||(Me(!0),setTimeout(()=>{Z(),Me(!1),ne(""),ge("")},1e3))},Ae=()=>{q(!1),ne(""),ge(""),_e("")};if(B.useEffect(()=>{const F=X=>{Ce.current&&!Ce.current.contains(X.target)&&T(!1),Ee.current&&!Ee.current.contains(X.target)&&D(!1)};return document.addEventListener("mousedown",F),()=>{document.removeEventListener("mousedown",F)}},[]),U)return u.jsxs("div",{className:"w-full min-h-screen bg-white p-4",children:[u.jsx("h1",{className:"text-lg font-bold text-black mb-6",children:"Phone Verification"}),u.jsxs("div",{className:"mb-6",children:[u.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[u.jsxs("p",{className:"text-sm text-blue-800",children:["We've sent a 6-digit OTP to ",u.jsx("strong",{children:b.phone})]}),u.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Please enter the OTP below to verify your phone number"})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("div",{className:"w-full h-11 bg-gray-100 border border-gray-300 rounded-lg px-3 flex items-center",children:u.jsx("input",{type:"text",placeholder:"Enter 6-digit OTP",value:K,onChange:F=>{const X=F.target.value.replace(/\D/g,"");X.length<=6&&(ne(X),ge(""))},className:"w-full bg-transparent text-sm text-black outline-none placeholder-black text-center tracking-widest",style:{color:"black"},maxLength:6})}),je&&u.jsx("div",{className:"text-red-500 text-xs mt-1 px-3",children:je})]}),u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx("button",{onClick:Se,className:"px-8 py-2 bg-green-500 border border-green-600 rounded-lg font-semibold text-sm text-white hover:bg-green-600 transition-colors flex items-center justify-center",children:"Verify & Register"})}),u.jsx("div",{className:"text-center mb-6",children:Le>0?u.jsxs("p",{className:"text-sm text-gray-600",children:["Resend OTP in ",Le,"s"]}):u.jsx("button",{onClick:Ne,disabled:at,className:"text-sm text-blue-600 hover:text-blue-800 underline disabled:opacity-50",children:at?"Sending...":"Resend OTP"})})]}),u.jsx("button",{onClick:Ae,className:"px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg text-sm font-semibold text-black hover:bg-gray-200 transition-colors",children:"← Back to Registration"})]});const De=!y&&c&&h&&m;return u.jsxs("div",{className:"w-full min-h-screen bg-white p-4",children:[u.jsx("h1",{className:"text-lg font-bold text-black mb-6",children:y?"Complete Your Profile":De?"Account / Profile":"Account Registration"}),u.jsxs("div",{className:"space-y-4 mb-6",children:[u.jsx("div",{children:u.jsx("div",{className:`w-full h-11 rounded-lg px-3 flex items-center ${A.name?"bg-transparent border border-red-300":"bg-transparent border border-gray-300"}`,children:u.jsx("input",{type:"text",placeholder:"Full Name",value:b.name,onChange:F=>z("name",F.target.value),className:"w-full bg-transparent text-sm text-black outline-none placeholder-black",style:{color:"black"}})})}),!y&&!De&&u.jsx("div",{children:u.jsx("div",{className:`w-full h-11 rounded-lg px-3 flex items-center ${A.phone?"bg-transparent border border-red-300":"bg-transparent border border-gray-300"}`,children:u.jsx("input",{type:"tel",placeholder:"Mobile Number",value:b.phone,onChange:F=>z("phone",F.target.value),className:"w-full bg-transparent text-sm text-black outline-none placeholder-black",style:{color:"black"},maxLength:10})})}),u.jsx("div",{children:u.jsx(a0,{value:b.collegeName,onChange:F=>z("collegeName",F),placeholder:"College Name",error:A.collegeName})}),u.jsx("div",{children:u.jsx("div",{className:`w-full h-11 rounded-lg px-3 flex items-center ${A.collegeAddress?"bg-transparent border border-red-300":"bg-transparent border border-gray-300"}`,children:u.jsx("input",{type:"text",placeholder:"College Address",value:b.collegeAddress,onChange:F=>z("collegeAddress",F.target.value),className:"w-full bg-transparent text-sm text-black outline-none placeholder-black",style:{color:"black"}})})}),u.jsx("div",{children:u.jsx("div",{className:`w-full h-11 rounded-lg px-3 flex items-center ${A.collegeLocality?"bg-transparent border border-red-300":"bg-transparent border border-gray-300"}`,children:u.jsx("input",{type:"text",placeholder:"College Location/Area",value:b.collegeLocality,onChange:F=>z("collegeLocality",F.target.value),className:"w-full bg-transparent text-sm text-black outline-none placeholder-black",style:{color:"black"}})})}),u.jsx("div",{children:u.jsx("div",{className:`w-full h-11 rounded-lg px-3 flex items-center ${A.city?"bg-transparent border border-red-300":"bg-transparent border border-gray-300"}`,children:u.jsx("input",{type:"text",placeholder:"City of College",value:b.city,onChange:F=>z("city",F.target.value),className:"w-full bg-transparent text-sm text-black outline-none placeholder-black",style:{color:"black"}})})}),u.jsx("div",{children:u.jsx("div",{className:`w-full h-11 rounded-lg px-3 flex items-center ${A.pincode?"bg-transparent border border-red-300":"bg-transparent border border-gray-300"}`,children:u.jsx("input",{type:"text",placeholder:"Pincode",value:b.pincode,onChange:F=>z("pincode",F.target.value),className:"w-full bg-transparent text-sm text-black outline-none placeholder-black",style:{color:"black"},maxLength:6})})}),u.jsx("div",{children:u.jsxs("div",{className:"relative",ref:Ce,children:[u.jsx("div",{className:`w-full h-11 rounded-lg px-3 flex items-center cursor-pointer ${A.academicYear?"bg-transparent border border-red-300":"bg-transparent border border-gray-300"}`,onClick:()=>T(!P),children:u.jsx("span",{className:`text-sm ${b.academicYear?"text-black":"text-black opacity-70"}`,children:b.academicYear||"Academic year / Admi. Department"})}),P&&u.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-300 rounded-lg mt-1 shadow-lg z-10 max-h-80 overflow-hidden",children:Y.map((F,X)=>u.jsx("div",{className:"px-3 py-2 text-sm text-black hover:bg-gray-100 cursor-pointer",onClick:()=>fe(F),children:F},X))})]})}),u.jsx("div",{children:u.jsxs("div",{className:"relative",ref:Ee,children:[u.jsx("div",{className:`w-full h-11 rounded-lg px-3 flex items-center ${A.stream?"bg-transparent border border-red-300":"bg-transparent border border-gray-300"}`,children:u.jsx("input",{type:"text",placeholder:"Academic Stream",value:b.stream,onChange:F=>z("stream",F.target.value),onFocus:()=>D(!0),className:"w-full bg-transparent text-sm text-black outline-none placeholder-black",style:{color:"black"}})}),L&&u.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-300 rounded-lg mt-1 shadow-lg z-10 max-h-60 overflow-hidden",children:oe.map((F,X)=>u.jsx("div",{className:"px-3 py-2 text-sm text-black hover:bg-gray-100 cursor-pointer",onClick:()=>ye(F),children:F},X))})]})}),!y&&u.jsx("div",{children:u.jsx("div",{className:`w-full h-11 rounded-lg px-3 flex items-center ${A.email?"bg-transparent border border-red-300":"bg-transparent border border-gray-300"}`,children:u.jsx("input",{type:"email",placeholder:"Email-id",value:b.email,onChange:De?void 0:F=>z("email",F.target.value),readOnly:De,className:`w-full bg-transparent text-sm text-black outline-none placeholder-black ${De?"cursor-not-allowed opacity-75":""}`,style:{color:"black"}})})})]}),u.jsx("div",{className:"flex justify-center mb-6",children:u.jsx("button",{onClick:ce,className:`px-8 py-2 border rounded-lg font-semibold text-sm transition-colors flex items-center justify-center ${y?"bg-gray-200 text-black border-gray-300 hover:bg-gray-300":De?"bg-blue-100 border border-blue-300 text-blue-700 hover:bg-blue-200":"bg-blue-600 text-white border-blue-600 hover:bg-blue-700"}`,children:y?"Complete Setup":De?"Update Profile":"Submit"})}),u.jsxs("div",{className:"space-y-3",children:[!y&&u.jsx("button",{onClick:()=>l("org_dashboard"),className:"w-full px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg text-sm font-semibold text-black hover:bg-gray-200 transition-colors",children:"← Back to Dashboard"}),_&&u.jsx("div",{className:"flex justify-center",children:u.jsx("button",{onClick:_,className:"px-3 py-1 text-gray-600 hover:text-gray-800 transition-colors text-xs",children:"Sign Out"})})]})]})}function l0({eventId:l,eventName:r,navigate:s}){const[a,o]=B.useState("loading"),[c,h]=B.useState(null);B.useRef(null),B.useEffect(()=>{const y=()=>{try{const _=localStorage.getItem(`zhevents_live_stream_${l}`);if(_){const b=JSON.parse(_);h(b),b.activated?(o("live"),setTimeout(()=>{const R=localStorage.getItem(`zhevents_live_stream_${l}`);R?JSON.parse(R).activated?console.log("Stream is live"):o("ended"):o("offline")},2e3)):o("ended")}else o("offline")}catch(_){console.error("Error checking live stream:",_),o("offline")}};y();const v=setInterval(y,5e3);return()=>clearInterval(v)},[l]);const m=y=>new Date(y).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),p=y=>{const _=Date.now()-y,b=Math.floor(_/6e4),R=Math.floor(_%6e4/1e3);return b>0?`${b}m ${R}s ago`:`${R}s ago`};return u.jsxs("div",{className:"w-full min-h-screen bg-black text-white p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsx("button",{onClick:()=>s("eventDetail"),className:"p-2 rounded-full bg-gray-800 hover:bg-gray-700 transition-colors",children:u.jsx(Ra,{size:20,className:"text-white"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h1",{className:"text-lg font-semibold text-white truncate",children:r}),u.jsx("p",{className:"text-sm text-gray-400",children:"Live Stream"})]})]}),u.jsxs("div",{className:"max-w-md mx-auto",children:[a==="loading"&&u.jsxs("div",{className:"bg-gray-900 rounded-lg p-8 text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),u.jsx("p",{className:"text-gray-300",children:"Checking for live stream..."})]}),a==="live"&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-red-600 rounded-lg p-3 flex items-center gap-2",children:[u.jsx("div",{className:"w-3 h-3 bg-white rounded-full animate-pulse"}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(uh,{size:16}),u.jsx("span",{className:"font-semibold",children:"LIVE"})]}),u.jsxs("p",{className:"text-sm opacity-90",children:["Started ",c&&p(c.timestamp)]})]})]}),u.jsxs("div",{className:"bg-gray-900 rounded-lg aspect-video flex items-center justify-center relative overflow-hidden",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600 to-purple-600 opacity-20"}),u.jsxs("div",{className:"text-center z-10",children:[u.jsx(ql,{size:48,className:"mx-auto mb-4 text-gray-400"}),u.jsx("p",{className:"text-gray-300 mb-2",children:"Live Stream Active"}),u.jsx("p",{className:"text-sm text-gray-400",children:"🎥 Organizer is broadcasting live"})]}),u.jsxs("div",{className:"absolute top-4 left-4 bg-red-600 px-2 py-1 rounded text-sm font-semibold flex items-center gap-1",children:[u.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),"LIVE"]}),u.jsxs("div",{className:"absolute top-4 right-4 bg-black bg-opacity-50 px-2 py-1 rounded text-sm",children:["👁 ",Math.floor(Math.random()*50)+10," watching"]})]}),c&&u.jsxs("div",{className:"bg-gray-900 rounded-lg p-4",children:[u.jsx("h3",{className:"font-semibold mb-2",children:"Stream Information"}),u.jsxs("div",{className:"space-y-1 text-sm text-gray-300",children:[u.jsx("p",{children:"📡 Broadcaster: Event Organizer"}),u.jsxs("p",{children:["⏰ Started: ",m(c.timestamp)]}),u.jsxs("p",{children:["🎯 Event: ",r]})]})]}),u.jsxs("div",{className:"bg-gray-900 rounded-lg p-3 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(uh,{size:16,className:"text-green-400"}),u.jsx("span",{className:"text-sm",children:"Connection: Good"})]}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx("div",{className:"w-2 h-4 bg-green-400 rounded-sm"}),u.jsx("div",{className:"w-2 h-4 bg-green-400 rounded-sm"}),u.jsx("div",{className:"w-2 h-4 bg-green-400 rounded-sm"}),u.jsx("div",{className:"w-2 h-4 bg-yellow-400 rounded-sm"}),u.jsx("div",{className:"w-2 h-4 bg-gray-600 rounded-sm"})]})]})]}),a==="offline"&&u.jsxs("div",{className:"bg-gray-900 rounded-lg p-8 text-center",children:[u.jsx(Yy,{size:48,className:"mx-auto mb-4 text-gray-500"}),u.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Stream Offline"}),u.jsx("p",{className:"text-gray-400 mb-4",children:"The organizer hasn't started the live stream yet."}),u.jsxs("div",{className:"text-sm text-gray-500",children:[u.jsx("p",{children:"• Live streaming will begin when the organizer activates it"}),u.jsx("p",{children:"• Check back later or contact the organizer"})]})]}),a==="ended"&&u.jsxs("div",{className:"bg-gray-900 rounded-lg p-8 text-center",children:[u.jsx(ql,{size:48,className:"mx-auto mb-4 text-gray-500"}),u.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Stream Ended"}),u.jsx("p",{className:"text-gray-400 mb-4",children:"The live stream has ended."}),c&&u.jsxs("div",{className:"text-sm text-gray-500",children:[u.jsxs("p",{children:["Started: ",m(c.timestamp)]}),u.jsx("p",{children:"Broadcaster: Event Organizer"})]})]}),u.jsxs("div",{className:"mt-6 bg-gray-800 rounded-lg p-4",children:[u.jsx("h3",{className:"font-semibold mb-2 text-sm",children:"About Live Streaming"}),u.jsxs("div",{className:"text-xs text-gray-400 space-y-1",children:[u.jsx("p",{children:"• Live streams are broadcast by event organizers"}),u.jsx("p",{children:"• You'll see real-time footage when available"}),u.jsx("p",{children:"• Stream quality depends on organizer's connection"}),u.jsx("p",{children:"• Refresh if you experience connection issues"})]})]})]})]})}function dh({onSignInComplete:l}){const[r,s]=B.useState("choose"),[a,o]=B.useState(""),[c,h]=B.useState(""),[m,p]=B.useState({}),[y,v]=B.useState(!1),_=U=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(U),b=U=>/^[0-9]{10}$/.test(U),R=()=>{const U={};(!a||!_(a))&&(U.email="Please enter a valid email address"),(!c||!b(c))&&(U.phone="Please enter a valid 10-digit phone number"),p(U),Object.keys(U).length===0&&l(a,c,!1)},A=async()=>{v(!0);try{const U=await k();U?(o(U),s("google")):P()}catch{P()}finally{setTimeout(()=>v(!1),1e3)}},k=async()=>{try{const U=localStorage.getItem("zhevents_last_gmail");if(U&&U.includes("@gmail.com"))return U;const q=document.querySelectorAll('input[type="email"]');for(const ne of q){const be=ne.value;if(be&&be.includes("@gmail.com"))return be}const K=sessionStorage.getItem("userEmail");return K&&K.includes("@gmail.com")?K:null}catch{return null}},P=()=>{let U="";const q=localStorage.getItem("zhevents_last_gmail");if(q&&q.includes("@gmail.com"))U=q;else{const K=T(),ne=Date.now().toString().slice(-4);K.userAgent.includes("Android")?U=`android.user${ne}@gmail.com`:K.userAgent.includes("iPhone")||K.userAgent.includes("iPad")?U=`iphone.user${ne}@gmail.com`:U=`mobile.user${ne}@gmail.com`}localStorage.setItem("zhevents_last_gmail",U),o(U),s("google")},T=()=>({userAgent:typeof navigator<"u"?navigator.userAgent:"",platform:typeof navigator<"u"?navigator.platform:"",language:typeof navigator<"u"?navigator.language:"en",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone||"UTC"}),L=()=>{const U={};(!c||!b(c))&&(U.phone="Please enter a valid 10-digit phone number"),p(U),Object.keys(U).length===0&&l(a,c,!0)},D=U=>{const q=U.replace(/[^0-9]/g,"").slice(0,10);h(q),m.phone&&q.length===10&&p(K=>({...K,phone:void 0}))};return r==="choose"?u.jsx("div",{className:"min-h-screen bg-white flex flex-col",children:u.jsxs("div",{className:"flex-1 flex flex-col justify-center px-6 bg-gray-100",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("div",{className:"mb-6",children:u.jsx("img",{src:"/assets/zuvo-logo.png",alt:"Zuvo Logo",className:"mx-auto h-16 w-auto"})}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Welcome to Zuvo"}),u.jsx("p",{className:"text-gray-600",children:"Choose how you'd like to sign in"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("button",{onClick:A,disabled:y,className:`w-full flex items-center justify-center gap-3 bg-white border-2 border-gray-300 rounded-lg py-3 px-4 transition-colors ${y?"opacity-75 cursor-not-allowed":"hover:bg-gray-50"}`,children:y?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-7 h-7 rounded-full bg-blue-100 flex items-center justify-center",children:u.jsx("div",{className:"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"})}),u.jsx("span",{className:"text-gray-700 font-medium",children:"Detecting Gmail Account..."})]}):u.jsxs(u.Fragment,{children:[u.jsx("img",{src:"/assets/gmail-logo.png",alt:"Gmail",className:"w-5 h-5 object-contain"}),u.jsx("span",{className:"text-gray-700 font-medium",children:"Continue with Gmail"})]})}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"flex-1 h-px bg-gray-300"}),u.jsx("span",{className:"text-gray-500 text-sm",children:"OR"}),u.jsx("div",{className:"flex-1 h-px bg-gray-300"})]}),u.jsx("button",{onClick:()=>s("manual"),className:"w-full bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 rounded-lg py-3 px-4 font-medium transition-colors text-center",children:"Sign in with Email id and Phone Number"})]}),u.jsx("p",{className:"text-center text-gray-500 text-sm mt-8",children:"By signing in, you agree to our Terms of Service and Privacy Policy"})]})}):r==="manual"?u.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[u.jsxs("div",{className:"bg-white text-black p-4 flex items-center border-b border-gray-200",children:[u.jsx("button",{onClick:()=>s("choose"),className:"mr-3 p-1 hover:bg-gray-100 rounded-full transition-colors",children:u.jsx(Ra,{size:20})}),u.jsx("h1",{className:"text-xl font-semibold",children:"Sign In"})]}),u.jsxs("div",{className:"flex-1 px-6 py-8",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Enter Your Details"}),u.jsx("p",{className:"text-gray-600",children:"We'll send an OTP to verify your phone number"})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),u.jsx("div",{className:"flex gap-2",children:u.jsx("input",{type:"email",value:a,onChange:U=>{o(U.target.value),m.email&&_(U.target.value)&&p(q=>({...q,email:void 0}))},className:`flex-1 h-12 px-4 bg-white border ${m.email?"border-red-500":"border-gray-300"} rounded-lg text-base text-black placeholder-black`,placeholder:"Enter your email"})}),m.email&&u.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.email})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"tel",value:c,onChange:U=>D(U.target.value),className:`flex-1 h-12 px-4 bg-white border ${m.phone?"border-red-500":"border-gray-300"} rounded-lg text-base text-black placeholder-black`,placeholder:"Enter 10-digit phone number",maxLength:10}),u.jsx("button",{onClick:R,className:"px-4 py-2 bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 rounded-lg font-medium transition-colors text-sm",children:"Send OTP"})]}),m.phone&&u.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.phone})]})]})]})]}):r==="google"?u.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[u.jsxs("div",{className:"bg-white text-black p-4 flex items-center border-b border-gray-200",children:[u.jsx("button",{onClick:()=>s("choose"),className:"mr-3 p-1 hover:bg-gray-100 rounded-full transition-colors",children:u.jsx(Ra,{size:20})}),u.jsx("h1",{className:"text-xl font-semibold",children:"Complete Sign In"})]}),u.jsxs("div",{className:"flex-1 px-6 py-8",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Phone Number Required"}),u.jsx("p",{className:"text-gray-600",children:"We need your phone number to send important event updates"})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address (from Google)"}),u.jsx("div",{className:"w-full h-12 px-4 bg-white border border-gray-300 rounded-lg flex items-center text-base text-gray-600",children:a})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"tel",value:c,onChange:U=>D(U.target.value),className:`flex-1 h-12 px-4 bg-white border ${m.phone?"border-red-500":"border-gray-300"} rounded-lg text-base text-black placeholder-black`,placeholder:"Enter 10-digit phone number",maxLength:10}),u.jsx("button",{onClick:L,className:"px-4 py-2 bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 rounded-lg font-medium transition-colors text-sm",children:"Send OTP"})]}),m.phone&&u.jsx("p",{className:"text-red-500 text-sm mt-1",children:m.phone})]})]})]}):null}function c0({email:l,phone:r,onVerificationComplete:s,onBack:a}){const[o,c]=B.useState(""),[h,m]=B.useState(""),[p,y]=B.useState(!1),[v,_]=B.useState(0),[b,R]=B.useState(!1);B.useEffect(()=>{_(30);const L=setInterval(()=>{_(D=>D<=1?(clearInterval(L),0):D-1)},1e3);return()=>clearInterval(L)},[]);const A=L=>{const D=L.replace(/[^0-9]/g,"").slice(0,6);c(D),h&&D.length>0&&m("")},k=async()=>{if(o.length!==6){m("Please enter a 6-digit OTP");return}R(!0),m(""),await new Promise(L=>setTimeout(L,1500)),o==="123456"?s():m("Invalid OTP. Please try again."),R(!1)},P=async()=>{y(!0),m(""),await new Promise(D=>setTimeout(D,1e3)),y(!1),_(30);const L=setInterval(()=>{_(D=>D<=1?(clearInterval(L),0):D-1)},1e3);alert("OTP sent successfully!")},T=r.slice(0,2)+"XXXX"+r.slice(-2);return u.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[u.jsxs("div",{className:"text-black p-4 flex items-center",children:[u.jsx("button",{onClick:a,className:"mr-3 p-1 hover:bg-gray-100 rounded-full transition-colors",children:u.jsx(Ra,{size:20})}),u.jsx("h1",{className:"text-xl font-semibold",children:"OTP Verification"})]}),u.jsxs("div",{className:"flex-1 px-6 py-8",children:[u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h2",{className:"text-xl text-gray-900 mb-2",children:"Enter OTP"}),u.jsx("p",{className:"text-gray-600",children:"We've sent a 6-digit code to"}),u.jsxs("p",{className:"font-semibold text-gray-900",children:["+91 ",T]})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx("input",{type:"text",value:o,onChange:L=>A(L.target.value),className:`w-32 h-8 text-center bg-transparent border-0 tracking-[0.55em] placeholder-gray-400 outline-none focus:outline-none ${h?"text-red-500":"text-gray-900"}`,style:{fontFamily:"inherit"},placeholder:"------",maxLength:6,autoFocus:!0})}),h&&u.jsx("p",{className:"text-red-500 text-sm text-center mb-4",children:h}),u.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-6",children:u.jsxs("p",{className:"text-blue-800 text-sm text-center",children:[u.jsx("strong",{children:"Demo:"})," Use ",u.jsx("span",{className:"font-mono font-bold",children:"123456"})," as OTP"]})}),u.jsx("div",{className:"flex justify-center",children:u.jsx("button",{onClick:k,disabled:o.length!==6||b,className:`px-6 py-2 rounded-lg font-medium transition-colors text-sm ${o.length===6&&!b?"bg-white border border-gray-300 text-gray-700 hover:bg-gray-50":"bg-gray-200 text-gray-400 cursor-not-allowed border border-gray-300"}`,children:b?u.jsxs("div",{className:"flex items-center justify-center gap-2",children:[u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-700"}),"Verifying..."]}):"Verify OTP"})})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-gray-600 text-sm mb-3",children:"Didn't receive the code?"}),v>0?u.jsxs("p",{className:"text-gray-500 text-sm",children:["Resend OTP in ",v,"s"]}):u.jsx("button",{onClick:P,disabled:p,className:"text-blue-600 font-medium hover:text-blue-700 transition-colors disabled:opacity-50",children:p?"Sending...":"Resend OTP"})]})]})]})}const $e={USER_EVENTS:"zhevents_user_events",PROFILE_EMAIL:"zhevents_profile_email",PROFILE_NAME:"zhevents_profile_name",PROFILE_PHONE:"zhevents_profile_phone",PROFILE_DATA:"zhevents_profile_data",SENT_EMAILS:"zhevents_sent_emails",REGISTERED_EVENTS:"zhevents_registered_sub_events",PARTICIPANT_DATA:"zhevents_participant_data",AUTH_STATE:"zhevents_auth_state",USER_PROFILE_COMPLETE:"zhevents_user_profile_complete",USER_PROFILES:"zhevents_user_profiles"};function nr(l,r){try{return localStorage.setItem(l,JSON.stringify(r)),!0}catch(s){return console.error(`Error saving to localStorage (${l}):`,s),!1}}function dr(l,r){try{const s=localStorage.getItem(l);return s===null?r:JSON.parse(s)}catch(s){const a=localStorage.getItem(l);return a&&a!=="undefined"&&a!=="null"&&typeof r=="string"?a:(console.warn(`Error loading from localStorage (${l}):`,s),r)}}const hh=[{id:"pandu",college:"Pandurang College",eventName:"Pandu Fest",location:"Mumbai, Vile Parle",dates:"12th to 13th Dec 25",type:"Mixed",competition:"Intraâ€‘Collegiate",color:"bg-green-200",createdAt:17040636e5,address:"89th Road, Near Aar Centre, Vile Parle, Mumbai 400054",contact:"Akhat â€¢ 9834672322",entryFees:"Free",deadline:"11 Dec 2025 at 10:00 pm (or until slots are available)",otse:"Yes (Subject to availability)",events:[{name:"Event 1",type:"Dancing",competition:"Interâ€‘Collegiate",groupType:"Group",date:"12 Dec 2025",time:"10:00 am",participants:"6â€“8",rules:["Rule 1","Rule 2","Rule 3","Rule 4","Rule 5"],contact:"Akhat â€¢ 9834672322",entryFees:"Free",deadline:"11 Dec 2025 at 10:00 pm (or until slots are available)",otse:"Yes (Subject to availability)"},{name:"Event 2",type:"Singing",competition:"Interâ€‘Collegiate",groupType:"Solo",date:"13 Dec 2025",time:"2:00 pm",participants:"1",rules:["Rule A","Rule B","Rule C"],contact:"Akhat â€¢ 9834672322",entryFees:"â‚¹50",deadline:"10 Dec 2025 at 5:00 pm (or until slots are available)",otse:"No"}]},{id:"kaiso",college:"Sindhu College",eventName:"Kaiso",location:"Mumbai, Mira Road",dates:"15th to 17th Dec 25",type:"Mixed",competition:"Interâ€‘Collegiate",color:"bg-yellow-200",createdAt:170415e7},{id:"maker",college:"ABV College",eventName:"Maker",location:"Mumbai, Ghatkopar",dates:"20th to 22nd Dec 25",type:"Mixed",competition:"Interâ€‘Collegiate",color:"bg-orange-300",createdAt:17042364e5},{id:"aitran",college:"Newbei College",eventName:"Aitran",location:"Mumbai, Charni Road",dates:"10th to 11th Dec 25",type:"Singing",competition:"Intraâ€‘Collegiate",color:"bg-amber-200",createdAt:17043228e5},{id:"saman",college:"Sanghi College",eventName:"Saman",location:"Mumbai, Jogeshwari",dates:"8th to 9th Dec 25",type:"Sports",competition:"Intraâ€‘Collegiate",color:"bg-green-300",createdAt:17044092e5},{id:"sund",college:"Sund College",eventName:"Sund Fest",location:"Mumbai",dates:"25th to 28th Dec 25",type:"Dramatics",competition:"Interâ€‘Collegiate",color:"bg-purple-300",createdAt:17044956e5}];function u0(){const[l,r]=B.useState(!1),[s,a]=B.useState(!1),o=["home","event_detail","register","results","org_dashboard","add_event","my_org","participants","my_part","profile","liveStream"];B.useEffect(()=>{!l&&o.includes(currentScreen)&&setCurrentScreen("signin")},[l,currentScreen]),B.useEffect(()=>{!l&&o.includes(currentScreen)&&setCurrentScreen("signin")},[l,currentScreen]);const[c,h]=B.useState("pandu"),[m,p]=B.useState(null),[y,v]=B.useState(hh),[_,b]=B.useState(null),[R,A]=B.useState(!1),[k,P]=B.useState(""),[T,L]=B.useState(""),[D,U]=B.useState(""),[q,K]=B.useState({collegeName:"",collegeAddress:"",collegeLocality:"",city:"",pincode:"",academicYear:"",stream:""}),[ne,be]=B.useState([]),[_e,je]=B.useState([]),[ge,at]=B.useState(!1),[Me,Le]=B.useState(null),[Ge,Ce]=B.useState({}),Ee=(F,X)=>`${F}:${X}`,Y=(F,X)=>{const W=dr($e.USER_PROFILES,{}),le=Ee(F,X);return W[le]||null},oe=(F,X,W)=>{const le=dr($e.USER_PROFILES,{}),ve=Ee(F,X);le[ve]={name:W.name,email:F,phone:X,collegeName:W.collegeName,collegeAddress:W.collegeAddress,collegeLocality:W.collegeLocality,city:W.city,pincode:W.pincode,academicYear:W.academicYear,stream:W.stream,completedAt:new Date().toISOString()},nr($e.USER_PROFILES,le)};B.useEffect(()=>{const F=dr($e.AUTH_STATE,{isAuthenticated:!1,email:"",phone:""});if(F.isAuthenticated&&F.email&&F.phone){r(!0),P(F.email),U(F.phone);const Qe=Y(F.email,F.phone);Qe?(a(!0),L(Qe.name||""),K({collegeName:Qe.collegeName||"",collegeAddress:Qe.collegeAddress||"",collegeLocality:Qe.collegeLocality||"",city:Qe.city||"",pincode:Qe.pincode||"",academicYear:Qe.academicYear||"",stream:Qe.stream||""}),setCurrentScreen("home")):(a(!1),setCurrentScreen("profile"))}else setCurrentScreen("signin");const X=dr($e.USER_EVENTS,[]);if(Array.isArray(X)&&X.length>0){const Qe=[...hh];X.forEach(jr=>{Qe.some(fr=>fr.id===jr.id)||Qe.push(jr)}),v(Qe)}const W=dr($e.PROFILE_NAME,"");typeof W=="string"&&L(W);const le=dr($e.PROFILE_DATA,{collegeName:"",collegeAddress:"",collegeLocality:"",city:"",pincode:"",academicYear:"",stream:""});typeof le=="object"&&le!==null&&K(le);const ve=dr($e.SENT_EMAILS,[]);Array.isArray(ve)&&be(ve);const Ye=dr($e.REGISTERED_EVENTS,[]);Array.isArray(Ye)&&je(Ye);const Yt=dr($e.PARTICIPANT_DATA,{});if(typeof Yt=="object"&&Yt!==null)Ce(Yt);else{const Qe={"pandu:0":{name:"Arjun Patel",college:"Trinity College",phone:"9876543210",email:"arjun.patel@trinity.edu",registrationDate:new Date().toISOString()},"pandu:1":{name:"Priya Sharma",college:"Sindhu College",phone:"9876543211",email:"priya.sharma@sindhu.edu",registrationDate:new Date().toISOString()}};Ce(Qe)}at(!0)},[]),B.useEffect(()=>{if(!ge)return;const F=y.filter(X=>X.createdByUser);nr($e.USER_EVENTS,F)},[y,ge]),B.useEffect(()=>{!ge||!k||nr($e.PROFILE_EMAIL,k)},[k,ge]),B.useEffect(()=>{!ge||!T||nr($e.PROFILE_NAME,T)},[T,ge]),B.useEffect(()=>{!ge||!D||nr($e.PROFILE_PHONE,D)},[D,ge]),B.useEffect(()=>{ge&&nr($e.PROFILE_DATA,q)},[q,ge]),B.useEffect(()=>{ge&&nr($e.SENT_EMAILS,ne)},[ne,ge]),B.useEffect(()=>{ge&&nr($e.REGISTERED_EVENTS,_e)},[_e,ge]),B.useEffect(()=>{ge&&nr($e.PARTICIPANT_DATA,Ge)},[Ge,ge]);const Z=(F,X,W)=>{setTempAuthData({email:F,phone:X}),setCurrentScreen("otp_verification")},C=()=>{if(tempAuthData){r(!0),P(tempAuthData.email),U(tempAuthData.phone),nr($e.AUTH_STATE,{isAuthenticated:!0,email:tempAuthData.email,phone:tempAuthData.phone});const F=Y(tempAuthData.email,tempAuthData.phone);F?(a(!0),L(F.name||""),K({collegeName:F.collegeName||"",collegeAddress:F.collegeAddress||"",collegeLocality:F.collegeLocality||"",city:F.city||"",pincode:F.pincode||"",academicYear:F.academicYear||"",stream:F.stream||""}),setCurrentScreen("home")):(a(!1),setCurrentScreen("profile")),setTempAuthData(null)}},z=()=>{a(!0),k&&D&&oe(k,D,{name:T,collegeName:q.collegeName,collegeAddress:q.collegeAddress,collegeLocality:q.collegeLocality,city:q.city,pincode:q.pincode,academicYear:q.academicYear,stream:q.stream}),setCurrentScreen("home")},fe=()=>{r(!1),a(!1),P(""),L(""),U(""),K({collegeName:"",collegeAddress:"",collegeLocality:"",city:"",pincode:"",academicYear:"",stream:""}),setTempAuthData(null),localStorage.removeItem($e.AUTH_STATE),localStorage.removeItem($e.USER_PROFILE_COMPLETE),localStorage.removeItem($e.PROFILE_EMAIL),localStorage.removeItem($e.PROFILE_NAME),localStorage.removeItem($e.PROFILE_PHONE),localStorage.removeItem($e.PROFILE_DATA),setCurrentScreen("signin")},ye=F=>{K(F),s&&k&&D&&oe(k,D,{name:T,collegeName:F.collegeName,collegeAddress:F.collegeAddress,collegeLocality:F.collegeLocality,city:F.city,pincode:F.pincode,academicYear:F.academicYear,stream:F.stream})};B.useEffect(()=>{if(!k||!ge||!l)return;const F=setInterval(()=>{const X=new Date;y.forEach(W=>{if(!(!W.createdByUser||!W.deadline))try{let le;if(W.deadline.includes("at")){const ve=W.deadline.split("at"),Ye=ve[0].trim(),Yt=ve[1].trim().replace(/pm|am/i,"");le=new Date(`${Ye} ${Yt}`)}else le=new Date(W.deadline);if(X>le){const ve=dr($e.SENT_EMAILS,[]);if(!ve.includes(W.id)){console.log(`ðŸ“§ Participant list for "${W.eventName}" sent to ${k}`);const Ye=[...ve,W.id];nr($e.SENT_EMAILS,Ye),be(Ye)}}}catch(le){console.warn(`Could not parse deadline for event ${W.eventName}:`,le)}})},6e4);return()=>clearInterval(F)},[k,ge]);const ce=(F,X,W,le,ve)=>{if(!l&&F!=="signin"&&F!=="otp_verification"){setCurrentScreen("signin");return}if(l&&!s&&F!=="home"&&F!=="profile"){setCurrentScreen("profile");return}X&&h(X),ve!==void 0?p(ve):F!=="event_detail"&&p(null),W!==void 0?b(W):F==="add_event"&&currentScreen!=="add_event"&&b(null),A(le||!1),setCurrentScreen(F)},Se=(F,X=!1)=>{if(X&&_)v(W=>W.map(le=>le.id===_.id?{...F,id:_.id,createdAt:_.createdAt,createdByUser:_.createdByUser}:le));else{const W={...F,createdAt:Date.now(),createdByUser:!0};v(le=>[...le,W])}},Te=F=>{v(X=>X.filter(W=>W.id!==F))},Ne=(F,X,W)=>{const le=X!==void 0?`${F}:${X}`:F;console.log("Registering for:",le),console.log("Current registered events before:",_e),je(ve=>{const Ye=ve.includes(le)?ve:[...ve,le];return console.log("New registered events:",Ye),Ye}),W&&Ce(ve=>({...ve,[le]:{...W,registrationDate:new Date().toISOString()}}))},Ae=F=>{je(X=>X.filter(W=>W!==F)),Ce(X=>{const W={...X};return delete W[F],W})},De=()=>{switch(currentScreen){case"signin":return u.jsx(dh,{onSignInComplete:Z});case"otp_verification":return tempAuthData?u.jsx(c0,{email:tempAuthData.email,phone:tempAuthData.phone,onVerificationComplete:C,onBack:()=>setCurrentScreen("signin")}):u.jsx(dh,{onSignInComplete:Z});case"home":return u.jsx(Ta,{navigate:ce,events:y,userProfile:{name:T,email:k,phone:D,isProfileComplete:s}});case"event_detail":const F=y.find(W=>W.id===c);return F?u.jsx(ky,{navigate:ce,event:F,onRegister:Ne,registeredEvents:_e,setCurrentLiveStream:Le,selectedSubEvent:m,userProfile:{name:T,email:k,phone:D,profileData:q}}):u.jsx(Ta,{navigate:ce,events:y,userProfile:{name:T,email:k,phone:D,isProfileComplete:s}});case"register":return u.jsx(jy,{navigate:ce});case"results":return u.jsx(Ey,{navigate:ce});case"org_dashboard":return u.jsx(Cy,{navigate:ce});case"add_event":return u.jsx(e0,{navigate:ce,addEvent:Se,editingEvent:_,isNewFromDashboard:R,userProfile:{name:T||"John Doe",email:k||"john.doe@college.edu",phone:D||"9876543210",profileData:q}});case"my_org":return u.jsx(r0,{navigate:ce,events:y,deleteEvent:Te});case"participants":const X=y.find(W=>W.id===c);return u.jsx(n0,{navigate:ce,event:X,profileEmail:k,emailSent:ne.includes(c),participantData:Ge,selectedEventId:c});case"my_part":return u.jsx(s0,{navigate:ce,events:y,registeredEvents:_e,onWithdrawParticipation:Ae});case"profile":return u.jsx(o0,{navigate:ce,onEmailUpdate:P,onNameUpdate:L,onPhoneUpdate:U,onProfileDataUpdate:ye,savedEmail:k,savedName:T,savedPhone:D,savedProfileData:q,isInitialSetup:!s,onSetupComplete:z,onSignOut:fe});case"liveStream":return Me?u.jsx(l0,{navigate:ce,eventId:Me.eventId,eventName:Me.eventName}):u.jsx(Ta,{navigate:ce,events:y,userProfile:{name:T,email:k,phone:D,isProfileComplete:s}});default:return u.jsx(Ta,{navigate:ce,events:y,userProfile:{name:T,email:k,phone:D,isProfileComplete:s}})}};return u.jsx("div",{className:"min-h-screen bg-white w-full max-w-[360px] h-[100dvh] mx-auto overflow-x-hidden",children:De()})}class d0 extends fy.Component{constructor(r){super(r),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(r,s){console.error(r,s)}render(){return this.state.hasError?u.jsx("div",{role:"alert",style:{padding:16},children:"Something went wrong."}):this.props.children}}(async function(){const{user:r}=await Ih();window.__authUser=r,Lh(s=>window.__authUser=(s==null?void 0:s.user)??null)})();hy.createRoot(document.getElementById("root")).render(u.jsx(d0,{children:u.jsx(u0,{})}));
